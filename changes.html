---
layout: default
title: MiniZinc - Change Log
---

<h2>MiniZinc Change Log</h2>

<p>For detailed bug reports consult the issue tracker at <a href="https://github.com/MiniZinc/libminizinc/issues">https://github.com/MiniZinc/libminizinc/issues</a>.</p>

<h3 id="v2.4.1"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.4.1">Version 2.4.1</a></h3>

<p>(released 20 December 2019)</p>

<h4>Changes:</h4>
<ul>
<li> Improve compiler optimisation for some linear, multiplication and
  Boolean constraints.
</li>
<li> Improved translation of lex and all_equal constraints when the
  arrays have no or only one variable.
</li>
<li>IDE: Display error message when submission to MOOC provider fails.
</li>
<li>IDE: Make "previous tab" and "next tab" actions cycle rather than stop at
    first/last tab.
</li>

</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fixed regular expression constraint for expressions containing negated character
  classes (^ operator).
</li>
<li> Fix element constraint in nosets.mzn library when set domains are not
  contiguous.
</li>
<li> Correctly identify Windows paths starting with // or \\ as absolute
  (this enables the parser to open files stored on network drives).
</li>
<li> Use set_in constraints (rather than int_in) for internal Gecode-based
  presolver. This fixes some issues when compiling with -O3.
</li>
<li> The optimisation phase of the compiler now fully substitutes par bool
  variables (these can be introduced into the FlatZinc during multipass
  compilation). ({% include bug.html bug='357' %})
</li>
<li> Fixed the reference counting for variables that are re-used in
  multipass compilation. ({% include bug.html bug='357' %})
</li>
<li> Remove incorrect error handling when parsing from strings rather than
  files. Partially fixes ({% include bug.html bug='357' %})
</li>
<li> Made the is_fixed builtin work for more types. ({% include bug.html bug='356' %})
</li>
<li> Enable rewriting of sum(i in x)(i=c) op d and count(x,y) op z into
  global counting constraints.
</li>
<li> Split up count global constraints into separate files for reified
  versions.
</li>
<li> Use contiguous range for array index set in set_lt for nosets.mzn.
</li>
<li> Negate results of conditionals if required. ({% include bug.html bug='355' %})
</li>
<li> Partiality of conditional needs to be translated in root context
  (even if conditional itself is negated). ({% include bug.html bug='355' %})
</li>
<li> Don't copy function into output again if it was already copied (and
  made par) before. ({% include bug.html bug='323' %})
</li>
<li> Define card function on var sets in terms of set_card FlatZinc builtin.
</li>
<li> Don't set bounds for set variables in internal Gecode presolver.
</li>
<li>IDE: Fix shift left and shift right indentation behaviour when selecting
    text backwards.
</li>
<li>Fix OpenSSL library in binary distribution to enable update checks and
    submission to MOOCs again.
</li>
</ul>

<h3 id="v2.4.0"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.4.0">Version 2.4.0</a></h3>

<p>(released 13 December 2019)</p>

<h4>Changes:</h4>
<ul>
<li>The compiler now detects counting constraints in expressions such as
  count(i in x)(i=3) <= 4 and rewrites them into global counting constraints. This
  is now the preferred way to specify counting. The atmost/atleast/exactly constraints
  on integer variables have been deprecated, and versions of count predicates with
  par variables have been added. FlatZinc solvers that supported atmost/atleast/exactly
  should now support the corresponding fzn_count_?_par predicates.
</li>
<li>The compiler now supports the command line option --output-detailed-timing, which
  provides timing information for each toplevel constraint item, or for each line of
  code when used in conjunction with the --keep-paths option.
</li>
<li>The library now contains annotations for deprecated library functions.
</li>
<li>A par version of the inverse function has been added (include inverse_fn.mzn to use it).
</li>
<li>The common case of sums of optional variables is now handled more efficiently. This
  case often arises from generator expressions with variable where clauses.
</li>
<li>Added set_to_ranges built-ins to enable efficient iteration over sets. These are used
  to implement set_in for float variables, which was missing before.
</li>
<li>The Gurobi and CPLEX backends now support the --random-seed command line option.
</li>
<li>The Gurobi and CPLEX backends now use nodefile for search trees exceeding 500 MB
  (--nodefilestart can change this value and --nodefiledir the folder.)
</li>
<li>The MIPDomains optimisations have been switched back on by default. The optimisations
  have also been strengthened for some special cases.
</li>
<li>Without the MIPdomains postprocessing, linearisation of variable domains with holes
  now uses set_in instead of individual not-equal constraints, which may result in more
  compact FlatZinc.
</li>
<li>Linearisation of multiplication can now consider the exact domain of a factor.
</li>
<li>The product functions have been made non-recursive in order to support longer
  arrays.
</li>
<li>Bounds inference for results of if-then-else expressions has been improved.
</li>
<li>Support for optional float variables has been added.
</li>
<li>The interfaces to CBC, CPLEX and Gurobi now report correctly that they support
  verbose output during solving (so that the "verbose solving" option is available
  from the MiniZinc IDE).
</li>
<li>IDE: Parse timing and statistics output produced by compiler, and display as
  profiling information next to each line in the model.
</li>
<li>IDE: Enable run/compile action on data files. This automatically selects the
  model file if there is only one, or presents a dialog for selecting the
  model if there are multiple.
</li>
<li>IDE: Select first data file in parameter dialog if there was no previous
  selection, and always focus parameter dialog.
</li>
<li>IDE: Highlight current line.
</li>
<li>IDE: Support .json as file extension for data files.
</li>
<li>IDE: Remember whether wrap around, case sensitivity and regular expression
  was selected in find/replace dialog, pre-select the find/replace text
  when find/replace widget is openend, and close find/replace widget when
  ESC is pressed while editor has focus.
</li>
</ul>


<h4>Bug fixes:</h4>
<ul>
<li>Fixed output handling on Windows (output is now processed on the main thread,
  so that exceptions thrown during output are printed correctly, and memory
  management is thread safe).
</li>
<li>Fixed decomposition of reified mdd constraint, and strengthened decompositions
  of mdd and cost_mdd.
</li>
<li>Fix handling of variable re-definitions (e.g. converting sets to arrays of bools),
  which would previously sometimes result in variables being removed although they
  were required for output, or the reverse mapping function not being available
  in the output model.
</li>
<li>Include regular.mzn from regular_regexp.mzn. ({% include bug.html bug='351' %})
</li>
<li>Inlining of function calls has been moved from the flattener into the type checker, and
  it now is more strict about which functions can be inlined in order to avoid overloading
  issues.
</li>
<li>Updated fzn_count_{neq,leq,lt,geq,gt}, fzn_global_cardinality_low_up{,_reif} to use use
  the count_eq predicate. ({% include bug.html bug='334' %}, {% include bug.html bug='335' %})
</li>
<li>Fixed the documentation for several constraints, which did not display as bullet point
  lists as intended.
</li>
<li>Copy function/predicate declarations into FlatZinc without annotations, since most
  FlatZinc parsers would not expect annotations and fail to parse.
</li>
<li>Process right hand side of par VarDecls to make sure any identifiers it uses are copied
  into the output model. Fixes {% include bug.html bug='336' %}.
</li>
<li>Fix type checking for conditionals where the else branch has enum type but the then
  branch has int type.
</li>
<li>Make the deopt function return correct enum instead of int type.
</li>
<li>Fix for path handling when 'needRangeDomains' is active. Avoids infinite recursion in
  the compiler.
</li>
<li>Fix race condition in temporary file generator for Windows. ({% include bug.html bug='349' %})
</li>
<li>Register fzn_ names for Gecode presolver. Fixes command line flags -O3 and above.
</li>
<li>Fix par evaluation of float and bool set comprehensions.
</li>
<li>Fix documentation of array_bool_xor. Fixes {% include bug_doc.html bug='13' %}.
</li>
<li>Fix the round() built-in to correctly round negative numbers
</li>
<li>Fix computation of intersection of domains when assigning an array to an array variable.
  Fixes {% include bug.html bug='310' %}.
</li>
<li>Add defines_var annotations for functional global constraints. Fixes {% include bug.html bug='345' %}.
</li>
<li>Add set_lt_reif/set_le_reif to flatzinc builtins library. Fixes {% include bug.html bug='338' %}.
</li>
<li>Clarify set order based on spec. Fixes {% include bug.html bug='339' %}.
</li>
<li>Don't return already removed VarDecl objects from CSE. Fixes {% include bug.html bug='346' %}.
</li>
<li>Do not post y!=0 constraint if 0 is not in the domain (workaround for a limitation in the
  handling of basic float constraints). Fixes {% include bug.html bug='344' %}.
</li>
<li>Help type checker by making deopt/occurs argument types explicit. Fixes {% include bug.html bug='331' %}.
</li>
<li>Fix transfer of domains when aliasing one variable to another
</li>
<li>MIP: fix for aux_float_ne_if_1
</li>
<li>MIP: int_(eq/ne)_imp: don't force eq_encode without MIPdomains
</li>
<li>Fix a typo in the definition of fzn_at_least_int{,_reif}
</li>
<li>Fix dependency problem in the gecode_presolver table specification
</li>
<li>Add seq_precede_chain.mzn to globals.mzn. Fixes {% include bug.html bug='332' %}.
</li>
<li>Don't assign right hand side of set variables if domain is singleton. Fixes {% include bug.html bug='330' %}.
</li>
<li>Don't invalidate float bound just because an expression contains an integer.
</li>
<li>Fix copying of let expressions.
</li>
<li>Put lexer and parser helper functions into MiniZinc namespace to avoid linker issues.
  Fixes {% include bug.html bug='325' %}.
</li>
<li>Reset array index sets defined in lets inside recursive function calls.
</li>
<li>Arrays copied into output model need to have par type-inst. Fixes {% include bug.html bug='322' %}.
</li>
<li>Don't complain when same function is registered twice. Fixes {% include bug.html bug='323' %}.
</li>
<li>Fix partiality handling of if-then-else expressions.
</li>
<li>Track whether variable is used in an output array before making decision to compress
  implication chains. Fixes {% include bug.html bug='318' %}.
</li>
<li>IDE: Fix dark mode detection on macOS 10.15, improve dark mode colors a bit
and fixed some dark mode bugs.
</li>
<li>IDE: Make background compilation of a model (used to display syntax and type
    errors) a bit more stable.
</li>
<li>IDE: Avoid infinite loop in wrap around replace all.
</li>
<li>IDE: Fix memory management for HTML visualisation windows, and resize docked
    HTML visualisation widgets to take up equal space.
</li>  
</ul>

<h3 id="v2.3.2"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.3.2">Version 2.3.2</a></h3>

<p>(released 12 September 2019)</p>

<h4>Changes:</h4>
<ul>
<li> Add warm starts and subtour cuts to CBC interface.</li>
<li> Add documentation and assertion requiring that mdds are deterministic,
  and add nondeterministic variant of mdd constraint.</li>
<li> Add -s to the standard flags supported by MIP interfaces.</li>
<li> Add flag --output-output-item to include user specified output item in
  the formatted JSON and DZN output.</li>
</ul>


<h4>Bug fixes:</h4>
<ul>
<li> Fix a bug that could leave unused variables in the resulting FlatZinc.
</li>
<li> bounded_dpath should rewrite to fzn_bounded_dpath. Fixes {% include bug.html bug='300' %}.
</li>
<li> Fix definition of sum_set.
</li>
<li> Check if overloaded function required for output. Fixes {% include bug.html bug='303' %}.
</li>
<li> Move regular constraint with set argument to its own file.
</li>
<li> Flatten assignment generators if necessary.
</li>
<li> Simplify fzn_value_precede_chain_int and avoid use of element predicate.
  Fixes {% include bug.html bug='307' %}.
</li>
<li> Only initialise par opt variables as absent if they are not arrays.
</li>
<li> Fix the description of the neural_net predicate.
</li>
<li> Fix regular constraint with regular expressions (stopped working in 2.3.0).
</li>
<li> Fix the model interface output to include the same variables as the generated
  output statement.
</li>
<li> Fix CSE for removed variable declarations. Could lead to reified constraints
  not being compiled correctly when the control variable got fixed to true.
</li>
</ul>

<h3 id="v2.3.1"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.3.1">Version 2.3.1</a></h3>

<p>(released 10 July 2019)</p>

<h4>Bug fixes:</h4>
<ul>
<li>Report error when trying to assign an array literal to an array variable with incompatible index set.
</li>
<li>Fix partial evaluation of expressions, so that only par expressions are fully evaluated. Fixes {% include bug.html bug='298' %}.
</li>
<li>Remove carriage returns when reading piped solver output on Windows.
</li>
<li>Canonicalize paths of executables to avoid spurious warnings about multiple executables for the same solver.
</li>
<li>Add implementations for != on arrays.
</li>
<li>Compute quotient bounds before decomposition of int_div in linearisation library.
</li>
<li>Propagate domain constraints on variables that are aliased (previously domain constraints could get lost).
</li>
<li>Propagate domain constraints from left-hand-side to right-hand-side in variable assignments.
</li>
<li>piecewise-linear: reuse decomposition for X when only Y-values change.
</li>
<li>nosets: add set_in_imp(var set) and simplify set_in_reif, set_eq(var set, var set).
</li>
<li>linearisation: improved compilation of set_in constraints.
</li>
<li>MiniZinc IDE: Remove incorrect symbolic link and fix qt.conf for some bundled distributions.
</li>
<li>MiniZinc IDE: Fix check for availability of dark mode on older versions of macOS.
</li>
<li>MiniZinc IDE: Fix a typo in the cheat sheet.
</li>
<li>MiniZinc IDE: Provide more robust solution for checking the model parameters, which will get rid of some "internal error" messages.
</li>
<li>MiniZinc IDE: Always show directory selection dialog in the Windows installer. Addresses {% include bug_ide.html bug='89' %}.
</li>
<li>MiniZinc IDE: Improved the configuration files for some bundled solvers, provides nicer configuration interface.
</li>
</ul>

<h3 id="v2.3.0"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.3.0">Version 2.3.0</a></h3>

<p>(released 26 June 2019)</p>

<h4>Major changes:</h4>
<ul>
<li>The compiler can now generate FlatZinc with half reified constraints. See
  <a href="https://www.minizinc.org/doc-2.3.0/en/fzn-spec.html#reified-and-half-reified-predicates">
      https://www.minizinc.org/doc-2.3.0/en/fzn-spec.html#reified-and-half-reified-predicates</a> for more details.
</li>
<li>The standard library of global constraints has been reorganised, making it
  easier for solvers to override just the bits that they support.
  See <a href="https://www.minizinc.org/doc-2.3.0/en/fzn-spec.html#solver-specific-libraries">https://www.minizinc.org/doc-2.3.0/en/fzn-spec.html#solver-specific-libraries</a>
  for more details.
</li>
<li>There is experimental support for solvers that can read AMPL NL files. See
 <a href="https://www.minizinc.org/doc-2.3.0/en/solvers.html#non-linear-solvers">
     https://www.minizinc.org/doc-2.3.0/en/solvers.html#non-linear-solvers</a> for details.
</li>
</ul>

<h4>Minor changes:</h4>
<ul>
<li>The JSON input and output has been improved, with full support for enums and
  optional types.
</li>
<li>A new compiler option -g has been added, which turns variable domain changes
  into constraints (useful for debugging models).
</li>
<li>The SCIP interface has been updated, with support for indicator constraints,
  bounds disjunctions and a native cumulative constraint.
</li>
<li>Error reporting has been improved, with location information available for
  errors in par float expressions as well as include items.
</li>
<li>The timeout command line parameter now also applies to compilation itself
  ({% include bug.html bug='281' %}).
</li>
<li>Operations on par float values are now checked for overflows.
</li>
<li>The arg_min/arg_max constraints have been improved, with new special versions
  for Boolean variables, and a better standard decomposition.
</li>
<li>if-then-else-endif expressions with variable conditions are now compiled to a
  predicate call (rather than handled by the compiler), which enables solver
  libraries to implement these as native constraints or special decompositions.
</li>
<li>Dividing a variable by a constant is now translated as a multiplication (to
  keep the constraints linear).
</li>
<li>A new piecewise_linear predicate has been added to the library to make it
  easier to specify piecewise linear constraints.
</li>
<li>Print number of solutions as mzn-stat after solving ({% include bug.html bug='244' %}).
</li>
<li>Make search annotations work for arbitrary array index sets.
</li>
<li>MiniZinc IDE: The IDE will now check MiniZinc code for syntax and type errors, and the
    editor performs simple code completion for MiniZinc keywords
</li>
<li>MiniZinc IDE: The find/replace dialog is now an inline widget and supports incremental search.
</li>
<li>MiniZinc IDE: Now supports dark mode on macOS.
</li>
<li>MiniZinc IDE: Add support for extra solver flags (parsed from solver configuration).
</li>
</ul>

<h4>Bug fixes:</h4>
<ul>
<li>Translate let expressions that contain constraints or variables as var
  type-inst. Fixes {% include bug.html bug='263' %}.
</li>
<li>Fix JSON array parsing by counting elements instead of commas.
</li>
<li>Fix parsing of the -p flag ({% include bug.html bug='271' %}).
</li>
<li>Fix type checking for array declarations with single enum type inst 
  identifier. E.g. array[$$T] of $U previously matched any multi-dimensional 
  array, and now only matches one-dimensional arrays with any enum index set.
</li>
<li>Fix computation of function return type when using type inst variables ({% include bug.html bug='272' %}).
</li>
<li>Evaluate each variable declaration only once in a par let expression.
</li>
<li>Check domain constraints on variable declarations in par let expressions.
</li>
<li>Try .exe/.bat on windows when using (constructed) absolute paths.
</li>
<li>Fix array slicing to support empty slices ({% include bug.html bug='275' %}).
</li>
<li>Fix a bug in the parser that could cause crashes on certain syntax errors.
</li>
<li>Fix the type of bool2int for arrays.
</li>
<li>Initialise counter for introduced variable ids based on names in original 
  model. This avoids reusing variable names if the user model contains names 
  such as X_INTRODUCED_0_.
</li>
<li>Fix compilation of nested clause/exist constraints, and improve handling of 
  negation. Tries to use primitive negation instead of creating negated 
  constraints. Should help with half-reification by creating more positive 
  contexts.
</li>
<li>Reorder fields in basic data structures to reduce padding on 64 bit platforms 
  (improved memory footprint).
</li>
<li>Perform type coercion after desugaring array slicing.
</li>
<li>Translate arguments to bool2int, exists, forall in positive context even if 
  those functions are redefined.
</li>
<li>Don't evaluate par array literals twice (inefficient, and can lead to 
  incorrect results when using random number generators).
</li>
<li>Terminate child processes when minizinc process is terminated by signal.
</li>
<li>Fix function return value array index check for empty arrays ({% include bug.html bug='286' %}).
</li>
<li>Fix translation of constant false where clause in array comprehension.
</li>
<li>Report error when json multi-dimensional array is not rectangular.
</li>
<li>Check index sets of function arguments ({% include bug.html bug='273' %}).
</li>
<li>Ignore partiality variables from CSE table when compiling _reif and _imp 
  predicates ({% include bug.html bug='269' %}).
</li>
<li>Flatten comprehensions with variable generators or where conditions before 
  evaluating any par functions on them ({% include bug.html bug='259' %}).
</li>
<li>Add missing redefinitions of basic operators and search annotations for 
  optional integers.
</li>
<li>Resolve filenames given on the command line relative to working directory,
  and warn if file in working directory has same name as included file from the
  library. Fixes {% include bug.html bug='276' %}.
</li>
<li>Update nosets library with a valid redefinition of set_less over booleans.
</li>
<li>Fix translation of showJSON ({% include bug.html bug='294' %}).
</li>
<li>Only apply set2array coercion for supported types, otherwise report error 
  ({% include bug.html bug='295' %}).
</li>
<li>Improve special case reasoning for abs on strictly negative variables.
</li>
<li>Add bounds for floating point min/max result in the standard library.
</li>
<li>MiniZinc IDE: Ensure cursor is visible (editor scrolls to cursor position) when pressing 
    tab or enter. Fixes {% include bug_ide.html bug='71' %}.
</li>
<li>MiniZinc IDE: Re-dock configuration editor when closing un-docked window.
</li>
<li>MiniZinc IDE: Handle quotes when parsing additional solver command line arguments.
    Fixes {% include bug_ide.html bug='77' %}.
</li>
<li>MiniZinc IDE: Add workaround for the missing libnss requirements. Fixes {% include bug_ide.html bug='79' %}.
</li>
<li>MiniZinc IDE: Allow spaces in $DIR in MiniZincIDE.sh Fixes {% include bug_ide.html bug='81' %}.
</li>
</ul>

<h3 id="v2.2.3"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.2.3">Version 2.2.3</a></h3>

<p>(released 31 October 2018)</p>

<h4>Bug fixes:</h4>
<ul>
<li>Fix some typos in the library documentation.
</li>
<li>Fix solution checking.
</li>
<li>Fix line numbers in parsed locations on 64 bit platforms.
</li>
<li>Fix bounds computation for calls.
</li>
<li>Fix translation of var where clauses with more than 3 par components.
</li>
<li>IDE: Only run solution checker if it is enabled in the solver configuration dialog.</li>
</ul>

<h3 id="v2.2.2"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.2.2">Version 2.2.2</a></h3>

<p>(released 26 October 2018)</p>

<h4>Changes:</h4>
<ul>
<li> Some changes to the optimisation phase of the compiler, to take into account
   more variables and constraints.
</li>
<li> Preliminary support for MIP cuts based on graph algorithms (only available
   when compiled with boost C++ libraries; not part of the binary distribution).
</li>
<li> Set Release as default build type when nothing is specified (for CMake
   platforms that do not support multiple build types, like Makefiles).
</li>
<li> Add builtins outputJSON() and outputJSONParameters() for creating an
   array of strings that capture the output and parameters of the model as JSON.
</li>
<li> On Linux and macOS, add /usr/share/minizinc/solvers and
   /usr/local/share/minizinc/solvers to list of paths where solver configuration files
   can be placed.
</li>
<li> Add OSICBC_INCLUDEDIR and OSICBC_LIBDIR cmake flags.
</li>
<li> Output search paths for solver configurations using --solvers command line option.
</li>
<li> Add support for Gurobi 8.1
</li>
<li> Support parsing from stdin and files at the same time.
</li>
<li>IDE: Add line/column display in status bar.</li>
<li>IDE: Optional parameters don't have to be defined in input dialog.</li>
<li>IDE: Provide mzn-json-init / mzn-json-init-end handlers to initialise HTML window
    before first solution is produced.</li>
<li>IDE: Add version information and minimum system version into Info.plist on macOS.</li>
<li>IDE: Manage multiple open visualisation windows, and implement re-solve function
    that can be initiated from a visualisation.</li>
<li>Binary bundle: Gecode updated to version 6.1.0, Chuffed updated to version 0.10.3</li>
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix crash when flattening top-level array comprehensions with var where
   clauses.
</li>
<li> Support input files with more than 1M lines.
</li>
<li> Special case handling for array literals in top-level foralls: flatten in root context.
</li>
<li> Fix translation of if-then-else for branches with undefined right hand sides.
</li>
<li> Only propagate defines_var annotation to the variable that's actually being defined
   (not others that arise from the same decomposition).
</li>
<li> Don't flatten arguments of predicates like symmetry_breaking_constraint.
</li>
<li> Remove output_var and output_array annotations from user models (these
   could cause crashes).
</li>
<li> Fix precedences for weak operators (~+, ~-, ~=, ~*).
</li>
<li> Fix min and max for opt var arrays to work when the bounds of the arrays are unknown.
</li>
<li> Fix a bug in bounds computations for function calls.
</li>
<li> Add missing superset FlatZinc builtin.
</li>
<li> Fix includes in file values.hh for some platforms.
</li>
<li> Fix a garbage collection issue when printing solutions.
</li>
<li> Deal with the case that a variable that's required for output is assigned to a par variable.
</li>
<li> Throw type error when an array has only absent values.
</li>
<li> Flatten all arrays in FlatZinc, also those coming from functional definitions.
</li>
<li> Use list of strings as mzn_solver_path entry in the preferences json file.
</li>
<li> Fix crash when output variable is defined using recursive function
</li>
<li>IDE: Fix race condition in constructor of HTMLWindow.</li>
</ul>

<h3 id="v2.2.1"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.2.1">Version 2.2.1</a></h3>

<p>(released 6 September 2018)</p>

<h4>Changes:</h4>
<ul>
<li> all_different, all_equal, {int,set,float,bool}_search now accept
   multi-dimensional arrays.
</li>
<li> Add exponentiation operator (^).
</li>
<li> Improve layout of generated library documentation for some constraints.
</li>
<li> Relax typechecking to allow assignment of empty array ([]) to
   multi-dimensional array variables. This is required to make empty
   arrays work in JSON data files.
</li>
<li> Enumerated types can now be initialised using lists of strings.
   This enables enumerated type support in JSON.
</li>
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Cumulative constraint for linear solvers now accepts empty arrays.
</li>
<li> show2d/show3d functions now do not add quotes around array elements and
   work for empty arrays.
</li>
<li> Add support for slicing of arrays with enumerated types.
</li>
<li> Fix slicing of 1d arrays.
</li>
<li> Fix bounds computation for float variable declarations.
</li>
<li> When FlatZinc solver is terminated due to a timeout, do not report this
   as an error.
</li>
<li> Fix pretty-printing of multi-dimensional arrays where dimensions other than
   the first one are empty.
</li>
<li> Add support for where clauses on generator assignment expressions.
</li>
<li>MiniZinc IDE: Improve dark mode by changing line numbers to dark background.</li>
<li>MiniZinc IDE: Make parameter input dialog scrollable.</li>
<li>MiniZinc IDE: Fix solution compression limit, and output one solution per
    block of compressed solutions.</li>
</ul>

<h3 id="v2.2.0"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.2.0">Version 2.2.0</a></h3>

<p>(released 24 August 2018)</p>

<p>This is a major release of MiniZinc, introducing many new features and improvements.</p>

<h4>Major new features:</h4>
<ul>
<li> <b>New minizinc command line tool</b><br/>
   Previous releases contained a <tt>minizinc</tt> command line tool that was not much more
   than a simple script that could execute the compiler, solver and output processor.
   The <tt>minizinc</tt> executable in version 2.2.0 is now the main frontend to compilation and
   solving and integrates all of the functionality. It has access to all installed MiniZinc
   solvers (both internal solvers and those interfaced through FlatZinc files), and can
   automatically select the required options (e.g., to include the solver-specific MiniZinc
   globals library).<br/>
   You can get a list of available solvers using the <tt>--solvers</tt> command line option, and
   select a solver using <tt>--solver</tt>. The <tt>minizinc</tt> executable can now also be used as a replacement
   for <tt>mzn2fzn</tt> (using <tt>-c</tt>) and <tt>solns2out</tt> (using <tt>--ozn-file</tt>).
</li>
<li> <b>Multi-pass compilation</b><br/>
   The compiler can now perform multiple passes in order to improve the target FlatZinc code.
   This can be controlled using the <tt>-O</tt> command line flags (<tt>-O0</tt> to <tt>-O4</tt>). Multi-pass compilation
   is particularly useful when the target solver requires sophisticated decomposition of
   global constraints (such as for MIP solvers).
</li>
<li><b>Solution checking</b><br/>
   You can now supply an additional model that will be used to check each solution produced by
   your main model. This can be useful for teaching MiniZinc (to give students automatic feedback)
   and if your main model is very complex but checking that a solution is correct is easy.
</li>
<li> <b>MIP solvers:</b> support for FICO Xpress, and loading IBM ILOG CPLEX as a plugin<br/>
   We have added support for FICO Xpress (this requires compiling MiniZinc from sources).
   CPLEX can now be loaded as a plugin, which means that the binary distribution of
   MiniZinc has built-in CPLEX support (just bring your own CPLEX dll).
</li>
<li><b>Language extensions</b><br/>
   The MiniZinc language has been extended with two new features.
   <ul>
   <li>Array slicing introduces syntax to conveniently select rows, columns or entire slices
     of arrays. For example, <tt>x[3,..]</tt> selects the third row of array <tt>x</tt>, while <tt>x[..,4]</tt> selects
     the fourth column, and <tt>x[3..5,2..7]</tt> selects a slice of rows 3 to 5 and columns 2 to 7.
   </li>
   <li>Generator expressions can now contain multiple where clauses, e.g.<br/>
     <tt>forall (i in S where foo(i), j in T where i&lt;j) (bar(i,j))</tt><br/>
     This enables more efficient compilation compared to evaluating all where clauses in the
     inner-most generator. In addition to iteration (<tt>i in S</tt>), generators can now contain
     assignment expressions (<tt>j=foo(i)</tt>). This enables intermediate definitions that can then
     be used in further generators.
   </li>
 </ul>
</ul>

<h4>Changes and minor features:</h4>
<ul>
<li> The value of the objective can now be added automatically to the
   output using the <tt>--output-objective</tt> command line option. Using <tt>--output-mode dzn</tt>,
   this allows automatic output of all the free variables of the model.</li>
<li>Models that do not contain a solve item are now accepted and treated as <tt>solve satisfy</tt></li>
<li>Support for naming constraints and expressions (using <tt>::"name"</tt> syntax)</li>
<li>Error messages have been improved, they now contain more accurate location
   information.</li>
<li>The compiler can be instructed to accept multiple assignments to the same parameter
   (as long as they are all identical), using the <tt>--allow-multiple-assignments</tt>
   command line option.</li>
<li>Annotations for supplying warm start values have been added to the
   standard library (currently supported by the MIP solvers Gurobi and IBM ILOG CPLEX).</li>
<li>The compiler now accepts multiple .mzn files as input.</li>
<li>Memory consumption and garbage collection performance has been improved.</li>
<li>The conditional expression has been extended to support
   <tt>if &lt;cond&gt; then &lt;exp&gt; endif</tt> (where <tt>&lt;exp&gt;</tt> is bool)</li>
<li>Decomposition of one variable type to another (e.g. set into array of bool)
   has been improved.</li>
<li>MIP solvers Gurobi and IBM ILOG CPLEX use node files when over 3GB working memory</li>
<li>Gurobi and CPLEX support the MIPfocus parameter</li>
<li>Gurobi supports MiniZinc search annotations by setting fixed branching priorities</li>
</ul>

<h4>Bug fixes:</h4>

<p>Consult the bug tracker at <a href="https://github.com/MiniZinc/libminizinc/issues">https://github.com/MiniZinc/libminizinc/issues</a></p>

<h3 id="v2.1.7"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.7">Version 2.1.7</a></h3>

<p>(released 10 January 2018)</p>

<h4>Changes:</h4>
<ul>
<li>Improved linearisation for some element constraints.
<li>Improve performance of optimisation phase by using a queue instead of a
   stack.
<li>Add --dll option for Gurobi backend to specify the Gurobi DLL to load.
<li>Add more defines_var annotations.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li>Fix generation of variable names in output model (sometimes could contain
   duplicates).
<li>Fix enum type inference for array literals with empty sets as their first
   arguments. Fixes {% include bug.html bug='180' %}.
<li>Fix incorrect simplification of float domain constraints. Fixes {% include bug.html bug='159' %}.
<li>Fix ceil builtin for float values.
<li>Add superset decomposition for solvers that do not support set variables.
<li>Fix three bugs in the garbage collector.
<li>Fix a bug in flattening that would create duplicate variables when a
   variable declaration referred to another one in its type-inst.
<li>Fix a crash in flattening of partial functions. Fixes {% include bug.html bug='187' %}.
<li>Add missing deopt builtins for all par types.
<li>Fix output for arrays of sets of enums.
<li>Define more functions on par opt types. Fixes {% include bug.html bug='188' %}.
<li>Fix type checker to accept arrays of opt set values.
<li>Support printing of opt enum types. Fixes {% include bug.html bug='189' %}.
<li>Fix evaluation of comprehensions in recursive functions.
<li>Fix output of Gurobi backend when used in conjunction with solns2out.
<li>Fix pthread linking for mzn-cbc.
<li>Catch type error when set literal is declared that contains another set.
</ul>

<h4>IDE changes and bug fixes:</h4>
<ul>
<li>Fix problem where files with a . in the filename could not be run.
<li>Fix font settings (were not saved reliably on some platforms).
<li>Enable generic interface for submitting assignments (not just to Coursera).
<li>Fix output handling for solvers that do not run mzn2fzn.
<li>Fix hidden solution display when there are exactly as many solutions as the
   configured threshold for hiding solutions.
<li>Add configuration option to print timing information for each solution.    
</ul>

<h3 id="v2.1.6"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.6">Version 2.1.6</a></h3>

<p>(released 22 September 2017)</p>

<h4>Bug fixes:</h4>
<ul>
<li> Fully evaluate parameters before binding formal arguments when evaluating
 call expressions. Fixes  {% include bug.html bug='177' %}.
<li> Fix incorrect simplification of Boolean constraints assigned to variables
 that are assigned to false.
<li> Fix bug in flattening of linear equations that contain the same variable on
 both sides.
<li> Fix un-trailing for let expressions, which could sometimes cause incorrect
 code to be emitted when lets are evaluated in nested loops. Fixes  {% include bug.html bug='166' %}.   
<li> Fix bug in JSON output of one-dimensional array literals.
<li> Fix unification of enum type-inst variables.
</ul>

<h3 id="v2.1.5"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.5">Version 2.1.5</a></h3>

<p>(released 17 May 2017)</p>

<h4>Changes:</h4>
<ul>
<li> Some improvements to the linearisation library.
<li> Make parser read multiple .mzn files correctly.
<li> Enable better bounds computation for array access expressions on
   fixed arrays.
<li> Perform better constant folding during optimisation phase. Fixes {% include bug.html bug='155' %}.
<li> Don't rewrite pow function into multiplication in the case of power of 2.
<li> Save some memory by making certain internal data structures more compact.
<li> Improve source code location of identifiers in generator calls (should give
   more precise error messages).
<li> Produce an error message when a comprehension attempts to iterate over an
   infinite set.
<li> Produce better error messages for operations on infinite values (previously
   some errors did not contain a source code location).
<li> Speed up garbage collection by pre-allocating some memory.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix range check for float literals in arrays.
<li> Fix a bug where a constraint could be removed incorrectly. Fixes {% include bug.html bug='150' %}.
<li> Include variables for dzn and json output from all included models, not
   just the main model. Fixes {% include bug.html bug='153' %}.
<li> Produce multi-dimensional arrays in json output. Fixes {% include bug.html bug='156' %} and {% include bug.html bug='157' %}.
<li> Remove incorrect closing bracket from json output. Fixes {% include bug.html bug='154' %}.
<li> Fix bounds computation of par int and float arrays.
<li> Don't allow var access to arrays of strings or annotations (since that would
   require an element constraint and var string / var ann types).
<li> Introduce int2float constraints where necessary for some linearisations.
</ul>

<h3 id="v2.1.4"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.4">Version 2.1.4</a></h3>

<p>(released 13 March 2017)</p>

<h4>Changes:</h4>
<ul>
<li> Add warning for MIP solvers that do not support -a option for satisfaction
   problems.
<li> Print introduced variable names with additional underscore to make
   debugging FlatZinc easier. Fixes {% include bug.html bug='147' %}.
<li> Add support for pow function in linearisation library.
<li> Add support for parallel solving with CBC.
<li> Flatten top-level conjunctions in the order defined in the model.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix major race condition that would crash the IDE when it didn't detect
    that a solver process had finished.
<li> Improve HTML output in the IDE by making sure every line is terminated by a newline.
<li> Fix a garbage collection bug that could cause dangling pointers when
   expressions were copied.
<li> Fix type checker to allow empty arrays to be assigned to variables
   declared as arrays of enums.
<li> Fix infeasibility check in MIP translation for some inequality constraints.
<li> Improved defines_var annotations for reified xor constraints. Fixes {% include bug.html bug='146' %}.
<li> Fix output of empty integer sets and deal with empty arrays in output models.
<li> Fix MIP translation when boolean variables were removed due to aliasing.
<li> Improve corner cases for linearisation of cumulative constraint.
<li> Properly report undefinedness in par bool expressions.
<li> Enable some additional constant folding during flattening. Fixes {% include bug.html bug='149' %}.
</ul>

<h3 id="v2.1.3"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.3">Version 2.1.3</a></h3>

<p>(released 6 February 2017)</p>

<h4>Changes:</h4>
<ul>
<li> Remove more internal annotations from the generated FlatZinc.
<li> Detect failure earlier if optimisation pass leads to fixing of variables
   outside their domains.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix CBC backend to correctly print UNSAT message for models where the
   compiler already detected unsatisfiability, and print solution separators
   even where there is no other output.
<li> Add missing var_dom function for arrays of optional integer variables.
   Fixes {% include bug.html bug='133' %}.
<li> Fix aliasing for optional integer variables. Fixes {% include bug.html bug='132' %}.
<li> Remove all annotations from output model.
<li> Fix computation of return type for functions that return arrays of enums.
<li> Don't output newline if user-defined solution separator or status message is empty
<li> Fix return type computation for functions where return type contains
   enums.
<li> Check finiteness of float literals and bounds. Fixes {% include bug.html bug='138' %}.
<li> More checks for function return values. Fixes {% include bug.html bug='136' %}.
<li> Fix var int comprehensions (now triggers error message instead of crash
   for var set of int comprehensions). Fixes {% include bug.html bug='135' %}.
<li> Fix output of variables with quoted identifiers.
<li> Fix flattening of let expressions that contain variables with undefined
   (i.e., partial) right hand side.
<li> Make printing of error messages to stdout or stderr more consistent
   across executables.
<li> Fix type checking of initialisation of enum types.
<li> Improve error messages for array access and index set errors. Fixes {% include bug.html bug='131' %}.
<li> Fix definition of multi-dimensional element constraints to impose
   correct bounds on index variables.
<li> Fix binding analysis during type checking, which did not handle the
   shadowing of top-level declarations by comprehension generators correctly.
   Fixes {% include bug.html bug='129' %}.
</ul>

<h3 id="v2.1.2"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.2">Version 2.1.2</a></h3>

<p>(released 20 December 2016)</p>

<h4>Bug fixes:</h4>
<ul>
<li> Fix a bug in the type checking for generators that iterate over
   arrays of enums.
<li> Fix a bug in the output handling of arrays of enums.
<li> Fix handling of multiple output items (only the last item was
   compiled, now the concatenation is used for output as defined
   in the specification).
</ul>

<h3 id="v2.1.1"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.1">Version 2.1.1</a></h3>

<p>(released 14 December 2016)</p>

<h4>Changes:</h4>
<ul>
<li> Add missing min/max functions for set variables. Can be redefined to solver
   builtins using the new redefinitions-2.1.1.mzn library file.
<li> Add support for option type expressions as objective functions.
<li> Automatically coerce arrays constructed using ++ to any enum index set
   (in addition to array literals and comprehensions).
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Include cmath header to fix compilation issues with some compilers. Fixes {% include bug.html bug='125' %}.
<li> Fix a garbage collection bug in the type checking for enumerated types that would
   sometimes lead to crashes or incorrect error messages.
<li> Fix type checking of comprehensions that involve enumerated types.
<li> Fix bounds computation for var sets of enumerated types.
<li> Support anon_enum function as documented.
</ul>

<h3 id="v2.1.0"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.1.0">Version 2.1.0</a></h3>

<p>(released 17 November 2016)</p>

<h4>Changes:</h4>

<ul>
<li>MiniZinc now supports enumerated types.
<li>Solvers can be interfaced directly to the MiniZinc library, and MiniZinc
   comes with direct support for the CBC, Gurobi and CPLEX MIP solvers.
<li>The linearisation library has been updated, resulting in much better FlatZinc
   being generated for MIP solvers.
<li>Data files can be in JSON format, and MiniZinc can produce JSON output
   (using the --output-mode command line option).
<li>Variables can be annotated as ::add_to_output instead of writing an output
   item.
<li>The compiler can output information about the parameters and output variables
   of a model (using the --model-interface-only option).
<li>Floats are handled better (detecting infinities and handling sets of floats).
<li>Bounds can be computed for more expressions (instead of failing with an error
   message).
</ul>

<h4>Bug fixes:</h4>

<ul>
<li>Fix a bug in optimization that could remove variables even if they are used.
   Fixes {% include bug.html bug='123' %}.
<li>Fix float variable declarations with sets of floats as domains.
   Fixes {% include bug.html bug='117' %} and {% include bug.html bug='98' %}.
<li>Fix type checking and evaluation of asserts with array arguments. Fixes {% include bug.html bug='109' %}.
<li>Fix abs(var float) declaration to work on floats without declared bounds.
   Fixes {% include bug.html bug='106' %}.
<li>Fix a bug in the computation of int and float bounds that could result in
   incorrect bounds in some cases. Fixes {% include bug.html bug='94' %}.
<li>Fix garbage collection when creating output models. Fixes {% include bug.html bug='77' %}.
<li>Fix binary operators on optional variables (in some cases comparison
   operators were reversed).
<li>Fix optimization of unconstrained variables (could sometimes lead to
   constraints being removed although they were not subsumed).
</ul>

<h3 id="v2.0.14"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.14">Version 2.0.14</a></h3>

<p>(released 31 July 2016)</p>

<h4>Changes:</h4>

<ul>
<li> Less aggressive aggregation of linear expressions in cases where it
   leads to much less efficient FlatZinc.
<li> Don't create temporary variable for an array literal if it is discarded
   immediately anyway.
<li> Only create new partiality variable for if-then-else expression if there's
   at least one var condition.
<li> Replace recursive definitions of array_intersect and array_union with
   iterative ones.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Don't report warnings about partiality when using extended generator
   expressions.
<li> Include cmath to enable building with some versions of gcc.
<li> Constrain result of function call based on function return type if necessary.
<li> Make sure linear expressions generated during binding of variables are
   properly flattened (including simplification of the linear expression)
</ul>

<h3 id="v2.0.13"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.13">Version 2.0.13</a></h3>

<p>(released 26 March 2016)</p>

<h4>Bug fixes:</h4>

<ul>
<li> Fix a bug in the Common Subexpression Elimination table of the compiler,
   which could lead to some constraints being dropped (especially when using
   linear redefinitions).
<li> The output model sometimes did not include all required definitions,
   in particular when array declarations used identifiers to specify the
   dimensions.
<li> The generated FlatZinc sometimes still contained bool variables that were
   not connected to the rest of the model, which could produce incorrect
   solutions being printed.
<li> Fix a bug where warnings (e.g. about partial functions) could lead to
   crashes.
<li> Fix the bounds computation for integer and float variables, which could
   produce incorrect bounds for linear expressions. Fixes {% include bug.html bug='94' %}.
<li> Fix a bug in the IDE that caused solver output to be shown incompletely
	in some cases.
</ul>

<h3 id="v2.0.12"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.12">Version 2.0.12</a></h3>

<p>(released 25 February 2016)</p>

<h4>Changes:</h4>

<ul>
<li>Partial functions are now always evaluated in their Boolean context,
   independent of whether they are par or var. If the result of a partial
   function is statically known to be undefined (such as division by zero or
   array access out of bounds), and it is used in a constraint expression,
   this now results in a warning instead of an
   error. Warnings can be turned off using the ::maybe_partial annotation.
   Fixes  {% include bug.html bug='43' %} and {% include bug.html bug='74' %}.
</ul>
<h4>Bug fixes:</h4>

<ul>
<li>Fix a bug in the optimisation phase related to unification of aliased
   variables.
<li>Fix short-circuit evaluation of Boolean expressions.
<li>Fix a bug in the optimisation phase related to repeated simplification of
   some Boolean expressions.
<li>Handle errors in output produced by solver without solns2out crashing.
   Fixes  {% include bug.html bug='80' %}.
<li>Fix a bug in the integer bounds computation that caused bool2int with an
   embedded conditional to crash.
<li>Fix a problem with short-circuit compilation of == expressions when one
   side was a var opt bool.
<li>Stop compilation when model is failed. Fixes a bug where mzn2fzn would
   sometimes not clean up the FlatZinc enough for the solver.
</ul>

<h3 id="v2.0.11"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.11">Version 2.0.11</a></h3>

<p>(released 15 January 2016)</p>

<h4>Bug fixes:</h4>

<ul>
<li> Fix parsing of hex and octal literals. Fixes {% include bug.html bug='71' %}.
<li> Fix compilation of extended comprehensions. Fixes {% include bug.html bug='72' %}.
<li> Fix computation of float array access bounds.
<li> Fix aggregation of clauses (could sometimes ignore the negative literals).
</ul>

<h3 id="v2.0.10"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.10">Version 2.0.10</a></h3>

<p>(released 9 December 2015)</p>

<h4>Bug fixes:</h4>

<ul>
<li>Fix a bug in the optimiser that could lead to undefined variables in the
   generated FlatZinc. Fixes {% include bug.html bug='70' %}.

</ul>

<h3 id="v2.0.9"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.9">Version 2.0.9</a></h3>

<p>(released 6 December 2015)</p>

<h4>Bug fixes:</h4>

<ul>
<li>Need to take return type into account when copying functions to output
   model. Fixes {% include bug.html bug='55' %}.
<li>Evaluate calls that result in arrays using eval_arraylit. Fixes {% include bug.html bug='57' %}.
<li>Move inverse function to its own library file, so that it remains available
   when a solver provides an alternative for the inverse predicate.
<li>Optimisation phase now recursively checks constraints when elements in an
   array become fixed.
<li>Fix CMakeLists file to work for paths that contain spaces.
<li>Distinguish between infix operators and regular functions in the generated
   html documentation. Fixes {% include bug.html bug='61' %}.
<li>Made parser more robust against incorrect code.
<li>Fix increment/decrement operators for IntVals and make all operations throw
   correct overflow exceptions.
<li>Fix automatic type coercion for variables declared in let expressions.
<li>Fix a crash when printing some error messages.
<li>Fix compute_div_bounds builtin to return correct result for a division by
   zero.
<li>Fix optimisation of Boolean constraints to use pointer equality instead of
   structural equality (same expression can occur multiple times in the
   FlatZinc).
<li>Only optimise constraints that have not been removed yet.
<li>Fix declaration of functional version of bin_packing_load. Fixes {% include bug.html bug='64' %}.
<li>Set type of arrays returned from polymorphic functions. Fixes {% include bug.html bug='65' %}.
<li>Fix parsing of quoted unary operator calls.
<li>Only compute set functions when bounds are valid. Fixes {% include bug.html bug='66' %}.
<li>Compute proper bounds for if-then-else expressions.
<li>Report error when no reified version of a constraint is available. Fixes {% include bug.html bug='67' %}.
<li>Fix type checking of annotations on binary operators.
<li>Keep annotations when rewriting linear constraints and remove is_defined_var
   annotations from fixed variables. Fixes {% include bug.html bug='69' %}.
</ul>

<h4>Changes:</h4>

<li>Integer, Boolean and float literals are now cached to achieve better memory
   performance for some models.
<li>Improve performance of parsing integer literals.
<li>Improve handling of clause constraints.
<li>Add source files of MiniZinc specification to the repository.
<li>Limit maximum array size to enable better error messages.
<li>Add implied_constraint predicate as a synonym for redundant_constraint.


<h3 id="v2.0.8"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.8">Version 2.0.8</a></h3>

<p>(released 19 October 2015)</p>

<h4>Bug fixes:</h4>
<ul>
<li> Fix incorrect negation of some reified comparisons.
<li> Make lb/ub functions work in more cases.
<li> Fix several bugs in the optimisation phase (could lead to incorrect
   FlatZinc and crashes).
<li> Fix a problem with reverse mapper functions when the result of the reverse
   mapper can be fixed to a constant.
</ul>

<h3 id="v2.0.7"><a href="https://github.com/MiniZinc/MiniZincIDE/releases/tag/2.0.7">Version 2.0.7</a></h3>

<p>(released 5 October 2015)</p>

<h4>Changes:</h4>
<ul>
<li> Improved propagation of Boolean constants in the optimisation phase. This
   should result in far fewer aliases and improves simplification of
   conjunctions, disjunctions and clauses.
<li> Add special case handling for integer division by 1.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix FlatZinc generator phase, need to turn all array literal arguments into
   1-based single dimensional arrays.
<li> Fix compilation of if-then-else expressions with var conditions (which didn't
   implement proper partiality/totality semantics). Fixes {% include bug.html bug='42' %}.
<li> Provide correct bounds for weak opt var arithmetic. Fixes {% include bug.html bug='51' %}.
<li> Need to be able to handle unflattened annotations. Fixes {% include bug.html bug='53' %}.
<li> Fix generation of output model (needs to ignore items that have been removed
   previously).
<li> Add missing lb(var set of int) builtin. Fixes {% include bug.html bug='47' %}.
<li> Check that var set declarations have a finite element type. Fixes {% include bug.html bug='46' %}.
<li> Fix translation context for binary operators on arrays.
<li> Need to access IntVal::infinity as a function, otherwise depending on linker
   etc it may become 0 in some cases. Fixes {% include bug.html bug='40' %}.
<li> Change pretty printer to use one less digit when printing float literals.
   This fixes {% include bug.html bug='41' %} (or at least provides a workaround), but some double
   constants may still be rounded incorrectly when pretty printing and reading
   them back in. The real fix will be to output hex float literals (coming
   soon).
<li> Distinguish between generalised comprehensions (iterating over sets) and
   iterating over arrays. Fixes compilation of comprehensions where iteration
   over an array is combined with var where clauses. Fixes {% include bug.html bug='45' %}.
<li> Fix bug in creation of output model where sometimes chains of variable
   definitions could lead to crashes.
<li> Avoi creating mutually recursive definitions in some corner cases, which
   could cause the compiler to run into infinite loops.
<li> Don't copy vardecl items to output model that are already there. Fixes {% include bug.html bug='44' %}.
<li> Remove domain from array declarations in FlatZinc (avoids problems with
   domains where holes need to be removed and when there are infinities in the
   domains)
<li> Fix flattening of equality operator between non-opt and opt vars.
<li> Check that model contains a single solve and output item during type
   checking (previously, multiple output items were not detected and resulted
   in incorrect .ozn files).
<li> Fix flattening of xor (arguments need to be in mixed context).
<li> Use is_fixed in cumulative definition.
<li> Fix bug where a par right hand side of a variable mentioned in the output
   would cause a crash.
<li> Fix variable dependency tracking during rewriting in the optimisation phase.
   Could previously lead to variables being removed that are still required.
   Fixes {% include bug.html bug='54' %}.
</ul>

<h3 id="v2.0.6">Version 2.0.6</h3>

<p>(released 2 August 2015)</p>

<h4>Changes:</h4>
<ul>
<li> Add parser support for hexadecimal floating point constants.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix bounds computation for some calls (abs, int_times).
<li> Fix flattening of some array declarations (when right hand side is
   an identifier).
<li> Add four missing GC locks (could lead to incorrect garbage collection).
<li> Compact output model only after optimisation phase (could lead to 
   incorrect items being removed from output model).
</ul>

<h3 id="v2.0.5">Version 2.0.5</h3>

<p>(released 31 July 2015)</p>

<h4>Changes:</h4>
<ul>
<li> Improve the standard decomposition for the cumulative constraint.
<li> Better handling of binary operators during type checking and flattening,
   can sometimes avoid stack overflows (e.g. for large conjunctions).
<li> Make ++ operator left associative (avoid stack overflows in the parser).
<li> Add ::domain annotations to linear constraints generated from
   multi-dimensional element constraints.
<li> Greatly improved linearisation library.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li> Fix recursive function calls that contain let expressions.
<li> Fix compilation of comprehensions inside parametric functions.
<li> Fix a memory leak in solns2out.
<li> Fix a problem in the evaluation of binary operators.
<li> Fix a bug in the flattening of array literals.
<li> Fix a bug that would crash the parser on certain syntax errors in let
   expressions.
</ul>

<h3 id="v2.0.4">Version 2.0.4</h3>

<p>(released 1 July 2015)</p>

<h4>Changes:</h4>
<ul><li>Models can now be read from standard input (using the "-" or
   "--input-from-stdin" command line options). Thanks to Sebastian Kosch.
   <li>Improved handling of bool2int during FlatZinc generation.

</ul>

<h4>Bug fixes:</h4>
<ul>
  <li>Fix unification of aliased variables which could sometimes result in
   variables being removed although had a constraining right hand side.
   <li>Fix evaluation of set comprehensions.
  <li>Fix command line flag --no-output-ozn
  <li>Fix performance problem when evaluating array expressions inside lets.
 <li>Fix flattening of bool_xor redefinitions.
 <li>Fix partial evaluation of some array access expressions with var indexes.
 <li>Fix definition of geost constraint.
 <li>User-defined functions are now copied correctly into the output model
   if they are referenced in the output item.
 <li>Set comprehensions are fully evaluated.
</ul>

<h3 id="v2.0.3">Version 2.0.3</h3>

<p>(Internal release that did not contain some essential fixes)</p>


<h3 id="v2.0.2">Version 2.0.2</h3>

<p>(released 26 May 2015)</p>

<h4>Changes:</h4>
<ul>
<li>The optimiser now removes simple domain constraints from the FlatZinc
<li>The compiler now checks for integer overflows in all built-in operations
<li>Report an error when the FlatZinc or ozn file cannot be opened for writing
<li>Add support for 3d array literals (e.g.  [| |1,2|3,4|,|5,6|7,8| |] )
<li>Add show2d and show3d functions for formatting array output
<li>Add row/col functions for variable arrays (fixes {% include bug.html bug='2' %})
<li>Introduce builtins for creating random distributions
<li>Add reverse library function
<li>Postpone flattening of some reified constraints
<li>Slightly improved compilation of partial function calls when it can be 
   inferred at compile time that their result is undefined
<li>Allow functions with empty argument lists to be declared as
   function int: foo(); instead of just function int: foo;
<li>Improve error reporting, in particular for errors in comprehensions
<li>Enable expressions a..b where a and b are integer variables
<li>Add redundant_constraint and symmetry_breaking_constraint builtins, these
   can be rewritten by solver libraries to allow e.g. local search solvers to
   ignore redundant constraints.
<li>Improve flattening of predicates that simply return their arguments (makes
   the redundant_constraint and symmetry_breaking_constraint predicates work
   in more situations).
<li>Replace command line option --only-range-domains by optional boolean value
   so that solver libraries can set the flag directly in their redefinitions
   file.
<li>Stop flattening immediately when a model has been found to contain an
   inconsistency.
<li>Improve flattening of array access expressions, in particular for nested
   array accesses that can be combined into a single element constraint
<li>Add command line option -s or --statistics to print statistics about the
   generated FlatZinc
<li>Improve bounds computation for if-then-else expressions
<li>Clause arguments are compiled in positive and negative contexts instead of
   mixed. That means that predicates that introduce free variables can now
   be used in the positive part of a clause.
</ul>

<h4>Bug fixes:</h4>
<ul>
<li>Fix simplification of linear expressions, negative coefficients could
   sometimes result in incorrect bounds
<li>Fix bounds computation for unary minus operator
<li>Add missing par set comparison builtins
<li>Fix bounds computation for extended comprehension syntax
<li>Fix a bug in the garbage collector that could sometimes lead to premature
   deletion of expressions
<li>Fix bounds computation for set difference
<li>Fix duplication of some arrays in the FlatZinc (fixes {% include bug.html bug='3' %})
<li>Fix bounds inference for variables bound to empty sets (fixes {% include bug.html bug='3' %})
<li>Fix bug in error reporting function, which would sometimes not report the
   entire call stack
<li>Fix the generation of fresh variable names for generator expressions
<li>Fix subtype check to allow empty arrays as subtype of arrays of sets
<li>Fix crash when using assert/2
<li>Fix bug when function used in output referred to par variable
<li>Fix bug in type checker, the detection of cyclic definitions was not
   correct and could lead to stack overflows
<li>Fix parser to accept expressions with two consecutive array accesses
   (like x[3][4], which are valid MiniZinc if x is an array of sets)
<li>Fix error reporting when an evaluation error occurs within a comprehension
   generator
<li>Report type error on some ambiguous function calls
<li>Report type error on var sets with element type other than int
<li>Report type error when trying to coerce a var set into an array
<li>Report error when calling function with a value that is outside the
   declared parameter bounds
<li>Fix arg_sort builtin to implement the correct semantics
<li>Fix sort_by builtin to sort in non-decreasing order, and work with floats
<li>Fix bug in type checker, now automatic coercions in functions defined with
   type variables (like the comparison operators) work correctly
<li>Check that index sets match for arrays assigned in let expressions
<li>Fix bug in bounds inference for integer expressions with annotations
<li>Fix propagation of defines_var annotation to be pushed through calls
<li>Fix parser to accept empty 2d and 3d array literals
<li>Fix flattening to remove defines_var annotations with par argument, e.g.
   defines_var(2), which could be introduced by the optimisation pass
<li>Fix output model creation for variables that have been redefined, and
   remove more unused variables from the FlatZinc.
<li>Fix bug in the garbage collector that could result in function items not
   being kept alive in rare cases.
</ul>

<h3 id="v2.0.1">Version 2.0.1</h3>

<p>(released 15 December 2014)</p>

<h4>Major bugs and changes:</h4>
<ul>
<li> Fix optimisation phase, which was previously incorrectly removing variables
<li> Add support for trigonometric functions (built-ins were missing in 2.0.0)
   and pow (var versions were missing)
<li> Fix equality operator on par arrays
<li> All expressions in output model are now made par
<li> Improve bounds computation for float variables
<li> Fix translation of functions that need automatic coercion of their return
   value
<li> Fix the array_lb and array_ub builtins, which would return incorrect bounds
   in some cases
</ul>

<h4>Minor bugs and changes:</h4>
<ul>
<li> Add space between "array" and "[" in the pretty printer, to be compatible
   with 1.6 output
<li> Output all par declarations before the var declarations in FlatZinc
<li> Fix parser, which could sometimes crash on invalid input
<li> Improve efficiency of bounds computation on some float expressions
<li> Add special case handling for division by 1
<li> Add missing float_times definition to the flatzinc builtins
<li> Use correct version of var_dom for float variables
<li> Output information about which files are included in verbose mode
<li> Only compute bounds for "then" expressions if the "if" is not fixed to false
</ul>

<h3 id="v2.0.0">Version 2.0.0</h3>

<p>(released 9 December 2014)</p>

<p>
MiniZinc 2.0 contains many new features and is based on a complete rewrite of
the MiniZinc-to-FlatZinc compiler. If you are currently using the previous
version 1.6, the new tools can be used as drop-in replacements. The generated
FlatZinc is compatible with version 1.6, so all FlatZinc solvers should work
without changes.
</p>

<h4>MiniZinc language changes</h4>

<ul>
<li> MiniZinc now supports user-defined functions. Details have been published
   in the paper "MiniZinc with Functions". Both functions and predicates can
   be recursive.
<li> MiniZinc now supports option types. Details have been published in the
   paper "Modelling with Option Types in MiniZinc".
<li> Let expressions have been generalised. They can now contain constraint
   items in addition to variable declarations.
<li> Array index sets can be declared using arbitrary set expressions as long as
   they evaluate to contiguous ranges.
<li> The if-then-else expression has been generalised to allow the condition to
   be a var bool expression (instead of only par bool).
<li> Array and set comprehensions as well as generator calls can now iterate
   over variables and use var bool where conditions.
<li> Any bool expression can now automatically coerce to an int expression,
   likewise for int and float. This means that you don't have to write
   bool2int or int2float in you models any more.
<li> Equality constraints can now be posted between array expressions.
<li> Arbitrary expressions can now be included ("interpolated") into strings,
   using the syntax "some text \(e) some more text", where e is any
   expression. It is the same as writing "some text "++show(e)++" some more
   text".
</ul>

<h4>New built-in functions</h4>

<ul>
<li> Array functions: array1d, arrayXd, row, col, has_index, has_element, sort_by,
sort, arg_sort, arg_min, arg_max
</ul>

<h4>New global constraints</h4>

<ul>
<li> arg_max, arg_min
<li> arg_sort
<li> k-dimensional diffn
<li> disjunctive
<li> geost
<li> knapsack
<li> network_flow
<li> regular with NFAs
<li> symmetric all different
<li> optional scheduling constraints: alternative, span, disjunctive, cumulative
<li> functional versions of many global constraints
</ul>

<h4>New tool chain</h4>
<ul>
<li> There are a few new builtins that solvers can reimplement, these are listed
   in the redefinitions-2.0 file.
<li> Include items use a different method for finding included files. Paths are
   now interpreted as relative to the file that has the include item. That
   way, the mzn2fzn compiler can be called from a different working directory.
<li> A new tool, mzn2doc, can produce html output from the documentation
   comments. The MiniZinc distribution contains the documentation for global
   constraints and builtins generated directly from the library source code.
</ul>
