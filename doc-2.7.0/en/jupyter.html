

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.9. Using MiniZinc in Jupyter Notebooks &mdash; The MiniZinc Handbook 2.7.0</title>
  

  
  
  
  
    <link rel="canonical" href="http://www.minizinc.org/doc-latest/en/jupyter.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="static/style.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3.10. Python Interface" href="python.html" />
    <link rel="prev" title="3.8. FindMUS" href="find_mus.html" />
    <link rel="apple-touch-icon" sizes="57x57" href="static/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="static/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="static/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="static/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="static/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="static/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="static/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="static/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="static/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="static/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="static/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/favicon/favicon-16x16.png">
    <link rel="manifest" href="static/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="static/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">


  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
            <a href="http://www.minizinc.org">
          
            
            <img src="static/MiniZn_logo_2.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
              <div class="version">
                2.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            <a href="index.html" class="reference internal icon icon-home"> The MiniZinc Handbook </a>
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part_1_overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="part_2_tutorial.html">2. A MiniZinc Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="part_3_user_manual.html">3. User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="command_line.html">3.1. The MiniZinc Command Line Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="minizinc_ide.html">3.2. The MiniZinc IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualisation.html">3.3. Visualising solutions in the MiniZinc IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpprofiler.html">3.4. CP-Profiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="solvers.html">3.5. Solving Technologies and Solver Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="checkers.html">3.6. Automatic Solution Checking, Model Validation, and Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="globalizer.html">3.7. Globalizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="find_mus.html">3.8. FindMUS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.9. Using MiniZinc in Jupyter Notebooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">3.9.1. Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-usage">3.9.2. Basic usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python.html">3.10. Python Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">3.11. JavaScript Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_detailed.html">3.12. Installation from Source Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part_4_reference.html">4. Reference Manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">The MiniZinc Handbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="part_3_user_manual.html">3. User Manual</a> &raquo;</li>
        
      <li>3.9. Using MiniZinc in Jupyter Notebooks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-minizinc-in-jupyter-notebooks">
<h1>3.9. Using MiniZinc in Jupyter Notebooks<a class="headerlink" href="#using-minizinc-in-jupyter-notebooks" title="Permalink to this headline">¶</a></h1>
<p>You can use MiniZinc inside a Jupyter / IPython notebook using the <tt class="docutils literal">iminizinc</tt> Python module. The module provides a “cell magic” extension that lets you solve MiniZinc models.</p>
<p>The module requires an existing installation of MiniZinc.</p>
<div class="section" id="installation">
<h2>3.9.1. Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can install or upgrade this module via <tt class="docutils literal">pip</tt>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U iminizinc
</pre></div>
</div>
<p>Consult your Python documentation to find out if you need any extra options (e.g. you may want to use the <tt class="docutils literal">--user</tt> flag to install only for the current user, or you may want to use virtual environments).</p>
<p>Make sure that the <tt class="docutils literal">minizinc</tt> binary are on the <tt class="docutils literal">PATH</tt> environment variable when you start the notebook server. The easiest way to do that is to get the “bundled installation” that includes the MiniZinc IDE and a few solvers, available from GitHub here: <a class="reference external" href="https://github.com/MiniZinc/MiniZincIDE/releases/latest">https://github.com/MiniZinc/MiniZincIDE/releases/latest</a>
You then need to change your <tt class="docutils literal">PATH</tt> environment variable to include the MiniZinc installation.</p>
</div>
<div class="section" id="basic-usage">
<h2>3.9.2. Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>After installing the module, you have to load the extension using <tt class="docutils literal">%load_ext iminizinc</tt>. This will enable the cell magic <tt class="docutils literal">%%minizinc</tt>, which lets you solve MiniZinc models. Here is a simple example:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="o">%</span><span class="n">load_ext</span> <span class="n">iminizinc</span>

<span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>  <span class="n">n</span><span class="o">=</span><span class="mi">8</span>

<span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>  <span class="o">%%</span><span class="n">minizinc</span>

        <span class="n">include</span> <span class="s2">&quot;globals.mzn&quot;</span><span class="p">;</span>
        <span class="nb">int</span><span class="p">:</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">array</span><span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]</span> <span class="n">of</span> <span class="n">var</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">queens</span><span class="p">;</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">(</span><span class="n">queens</span><span class="p">);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">solve</span> <span class="n">satisfy</span><span class="p">;</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;queens&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
</pre></div>
</div>
<p>As you can see, the model binds variables in the environment (in this case, <tt class="docutils literal">n</tt>) to MiniZinc parameters, and returns an object with fields for all declared decision variables.</p>
<p>Alternatively, you can bind the decision variables to Python variables:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="o">%</span><span class="n">load_ext</span> <span class="n">iminizinc</span>

<span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>  <span class="n">n</span><span class="o">=</span><span class="mi">8</span>

<span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>  <span class="o">%%</span><span class="n">minizinc</span> <span class="o">-</span><span class="n">m</span> <span class="n">bind</span>

        <span class="n">include</span> <span class="s2">&quot;globals.mzn&quot;</span><span class="p">;</span>
        <span class="nb">int</span><span class="p">:</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">array</span><span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]</span> <span class="n">of</span> <span class="n">var</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">queens</span><span class="p">;</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">(</span><span class="n">queens</span><span class="p">);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">solve</span> <span class="n">satisfy</span><span class="p">;</span>

<span class="n">In</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>  <span class="n">queens</span>

<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want to find all solutions of a satisfaction problem, or all intermediate solutions of an optimisation problem, you can use the <tt class="docutils literal">-a</tt> flag:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="o">%</span><span class="n">load_ext</span> <span class="n">iminizinc</span>

<span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>  <span class="n">n</span><span class="o">=</span><span class="mi">6</span>

<span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>  <span class="o">%%</span><span class="n">minizinc</span> <span class="o">-</span><span class="n">a</span>

        <span class="n">include</span> <span class="s2">&quot;globals.mzn&quot;</span><span class="p">;</span>
        <span class="nb">int</span><span class="p">:</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">array</span><span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]</span> <span class="n">of</span> <span class="n">var</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">queens</span><span class="p">;</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">(</span><span class="n">queens</span><span class="p">);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">constraint</span> <span class="n">all_different</span><span class="p">([</span><span class="n">queens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="o">.</span><span class="n">n</span><span class="p">]);</span>
        <span class="n">solve</span> <span class="n">satisfy</span><span class="p">;</span>

<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="p">[{</span><span class="sa">u</span><span class="s1">&#39;queens&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
         <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;queens&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
         <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;queens&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span>
         <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;queens&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}]</span>
</pre></div>
</div>
<p>The magic supports a number of additional options, in particular loading MiniZinc models and data from files. Some of these may only work with the development version of MiniZinc (i.e., not the one that comes with the bundled binary releases). You can take a look at the help using</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>In[1]:  %%minizinc?
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python.html" class="btn btn-neutral float-right" title="3.10. Python Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="find_mus.html" class="btn btn-neutral" title="3.8. FindMUS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, 2017, 2018, 2019, 2020 Peter J. Stuckey, Kim Marriott, Guido Tack.

    </p>
  </div>
<a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nd/4.0/80x15.png" /></a>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.7.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="static/js/doc-links.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>