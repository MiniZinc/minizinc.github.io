

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.1. Specification of MiniZinc &mdash; The MiniZinc Handbook 2.4.3</title>
  

  
  
  
  
    <link rel="canonical" href="http://www.minizinc.org/doc-latest/en/spec.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="static/style.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4.2. The MiniZinc library" href="lib.html" />
    <link rel="prev" title="4. Reference Manual" href="part_4_reference.html" />
    <link rel="apple-touch-icon" sizes="57x57" href="static/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="static/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="static/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="static/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="static/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="static/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="static/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="static/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="static/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="static/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="static/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/favicon/favicon-16x16.png">
    <link rel="manifest" href="static/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="static/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">


  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
            <a href="http://www.minizinc.org">
          
            
            <img src="static/MiniZn_logo_2.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
              <div class="version">
                2.4.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            <a href="index.html" class="reference internal icon icon-home"> The MiniZinc Handbook </a>
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part_1_overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="part_2_tutorial.html">2. A MiniZinc Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="part_3_user_manual.html">3. User Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="part_4_reference.html">4. Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Specification of MiniZinc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">4.1.1. Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#original-authors">4.1.1.1. Original authors.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#notation">4.1.2. Notation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overview-of-a-model">4.1.3. Overview of a Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#evaluation-phases">4.1.3.1. Evaluation Phases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-time-outcomes">4.1.3.2. Run-time Outcomes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output">4.1.3.3. Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#syntax-overview">4.1.4. Syntax Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#character-set">4.1.4.1. Character Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comments">4.1.4.2. Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spec-identifiers">4.1.4.3. Identifiers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#high-level-model-structure">4.1.5. High-level Model Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#model-instance-files">4.1.5.1. Model Instance Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#namespaces">4.1.5.2. Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scopes">4.1.5.3. Scopes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#types-and-type-insts">4.1.6. Types and Type-insts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#properties-of-types">4.1.6.1. Properties of Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#instantiations">4.1.6.2. Instantiations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-insts">4.1.6.3. Type-insts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-inst-expression-overview">4.1.6.4. Type-inst expression overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-scalar-types-and-type-insts">4.1.6.5. Built-in Scalar Types and Type-insts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-compound-types-and-type-insts">4.1.6.6. Built-in Compound Types and Type-insts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constrained-type-insts">4.1.6.7. Constrained Type-insts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#expressions">4.1.7. Expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#expressions-overview">4.1.7.1. Expressions Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operators">4.1.7.2. Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expression-atoms">4.1.7.3. Expression Atoms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#items">4.1.8. Items</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#include-items">4.1.8.1. Include Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variable-declaration-items">4.1.8.2. Variable Declaration Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-items">4.1.8.3. Enum Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#assignment-items">4.1.8.4. Assignment Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constraint-items">4.1.8.5. Constraint Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solve-items">4.1.8.6. Solve Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-items">4.1.8.7. Output Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#annotation-items">4.1.8.8. Annotation Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-defined-operations">4.1.8.9. User-defined Operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#annotations">4.1.9. Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partiality">4.1.10. Partiality</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#partial-assignments">4.1.10.1. Partial Assignments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partial-predicate-function-and-annotation-arguments">4.1.10.2. Partial Predicate/Function and Annotation Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partial-array-accesses">4.1.10.3. Partial Array Accesses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#built-in-operations">4.1.11. Built-in Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#comparison-operations">4.1.11.1. Comparison Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#arithmetic-operations">4.1.11.2. Arithmetic Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-operations">4.1.11.3. Logical Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-operations">4.1.11.4. Set Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array-operations">4.1.11.5. Array Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coercion-operations">4.1.11.6. Coercion Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-operations">4.1.11.7. String Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bound-and-domain-operations">4.1.11.8. Bound and Domain Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-type-operations">4.1.11.9. Option Type Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-operations">4.1.11.10. Other Operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#content-types">4.1.12. Content-types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#json-support">4.1.13. JSON support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#full-grammar">4.1.14. Full grammar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">4.1.14.1. Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-inst-expressions">4.1.14.2. Type-Inst Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">4.1.14.3. Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous-elements">4.1.14.4. Miscellaneous Elements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lib.html">4.2. The MiniZinc library</a></li>
<li class="toctree-l2"><a class="reference internal" href="fzn-spec.html">4.3. Interfacing Solvers to Flatzinc</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">The MiniZinc Handbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="part_4_reference.html">4. Reference Manual</a> &raquo;</li>
        
      <li>4.1. Specification of MiniZinc</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="specification-of-minizinc">
<span id="ch-mzn-spec"></span><h1>4.1. Specification of MiniZinc<a class="headerlink" href="#specification-of-minizinc" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>4.1.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This document defines MiniZinc, a language for modelling constraint
satisfaction and optimisation problems.</p>
<p>MiniZinc is a high-level, typed, mostly first-order, functional, modelling
language.  It provides:</p>
<ul class="simple">
<li>mathematical notation-like syntax (automatic coercions, overloading,
iteration, sets, arrays);</li>
<li>expressive constraints (finite domain, set, linear arithmetic, integer);</li>
<li>support for different kinds of problems (satisfaction, explicit
optimisation);</li>
<li>separation of data from model;</li>
<li>high-level data structures and data encapsulation (sets,
arrays, enumerated types, constrained type-insts);</li>
<li>extensibility (user-defined functions and predicates);</li>
<li>reliability (type checking, instantiation checking, assertions);</li>
<li>solver-independent modelling;</li>
<li>simple, declarative semantics.</li>
</ul>
<p>MiniZinc is similar to
OPL and moves closer to CLP languages such as ECLiPSe.</p>
<p>This document has the following structure.
<a class="reference internal" href="#spec-syntax-notation"><span class="std std-ref">Notation</span></a> introduces the syntax notation
used throughout the specification.
<a class="reference internal" href="#spec-overview"><span class="std std-ref">Overview of a Model</span></a> provides a high-level overview of MiniZinc models.
<a class="reference internal" href="#spec-syntax-overview"><span class="std std-ref">Syntax Overview</span></a> covers syntax basics.
<a class="reference internal" href="#spec-high-level-model-structure"><span class="std std-ref">High-level Model Structure</span></a> covers high-level structure: items,
multi-file models, namespaces, and scopes.
<a class="reference internal" href="#spec-types"><span class="std std-ref">Types and Type-insts</span></a> introduces types and type-insts.
<a class="reference internal" href="#spec-expressions"><span class="std std-ref">Expressions</span></a> covers expressions.
<a class="reference internal" href="#spec-items"><span class="std std-ref">Items</span></a> describes the top-level items in detail.
<a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> describes annotations.
<a class="reference internal" href="#spec-partiality"><span class="std std-ref">Partiality</span></a> describes how partiality is handled in various
cases.
<a class="reference internal" href="#spec-builtins"><span class="std std-ref">Built-in Operations</span></a> describes the language built-ins.
<a class="reference internal" href="#spec-grammar"><span class="std std-ref">Full grammar</span></a> gives the MiniZinc grammar.
<a class="reference internal" href="#spec-content-types"><span class="std std-ref">Content-types</span></a> defines content-types used in this specification.</p>
<p>This document also provides some explanation of why certain design decisions
were made.  Such explanations are marked by the word <em>Rationale</em> and
written in italics, and do not constitute part of the specification as such.
<em>Rationale: These explanations are present because they are useful to both
the designers and the users of MiniZinc.</em></p>
<div class="section" id="original-authors">
<h3>4.1.1.1. Original authors.<a class="headerlink" href="#original-authors" title="Permalink to this headline">¶</a></h3>
<p>The original version of this document was prepared by
Nicholas Nethercote, Kim Marriott, Reza Rafeh, Mark Wallace
and Maria Garcia de la Banda.
MiniZinc is evolving, however, and so is this document.</p>
<p>For a formally published paper on the MiniZinc language
and the superset Zinc language, please see:</p>
<ul class="simple">
<li>N. Nethercote, P.J. Stuckey, R. Becket, S. Brand, G.J. Duck, and G. Tack.
Minizinc: Towards a standard CP modelling language.
In C. Bessiere, editor, <em>Proceedings of the 13th International
Conference on Principles and Practice of Constraint Programming</em>, volume 4741
of <em>LNCS</em>, pages 529–543. Springer-Verlag, 2007.</li>
<li>K. Marriott, N. Nethercote, R. Rafeh, P.J. Stuckey,
M. Garcia de la Banda, and M. Wallace.
The Design of the Zinc Modelling Language.
<em>Constraints</em>, 13(3):229-267, 2008.</li>
</ul>
</div>
</div>
<div class="section" id="notation">
<span id="spec-syntax-notation"></span><h2>4.1.2. Notation<a class="headerlink" href="#notation" title="Permalink to this headline">¶</a></h2>
<p>The basics of the EBNF used in this specification are as follows.</p>
<ul>
<li><p class="first">Non-terminals are written between angle brackets, <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;item&gt;</span><span class="s"></span></code>.</p>
</li>
<li><p class="first">Terminals are written in double quotes, e.g. <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="s">&quot;constraint&quot;</span></code>.
A double quote terminal is written as a sequence of three double quotes: <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="s">&quot;&quot;&quot;</span></code>.</p>
</li>
<li><p class="first">Optional items are written in square brackets,
e.g. <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="p">[</span><span class="s"> &quot;var&quot; </span><span class="p">]</span><span class="s"></span></code>.</p>
</li>
<li><p class="first">Sequences of zero or more items are written with parentheses and a
star, e.g. <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="p">(</span><span class="s"> &quot;,&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">*</span><span class="s"></span></code>.</p>
</li>
<li><p class="first">Sequences of one or more items are written with parentheses and a
plus, e.g. <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;msg&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">+</span><span class="s"></span></code>.</p>
</li>
<li><p class="first">Non-empty lists are written with an item, a separator/terminator
terminal, and three dots.  For example, this:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ...</span>
</pre></div>
</div>
<p>is short for this:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">(</span><span class="s"> &quot;,&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">*</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;,&quot; </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>The final terminal is always optional in non-empty lists.</p>
</li>
<li><p class="first">Regular expressions are used in some
productions, e.g. <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="sr">[-+]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span></code>.</p>
</li>
</ul>
<p>MiniZinc’s grammar is presented piece-by-piece throughout this document.  It is
also available as a whole in <a class="reference internal" href="#spec-grammar"><span class="std std-ref">Full grammar</span></a>.
The output grammar also includes some details of the use of whitespace.
The following conventions are used:</p>
<ul class="simple">
<li>A newline character or CRLF sequence is written <tt class="docutils literal">\n</tt>.</li>
</ul>
</div>
<div class="section" id="overview-of-a-model">
<span id="spec-overview"></span><h2>4.1.3. Overview of a Model<a class="headerlink" href="#overview-of-a-model" title="Permalink to this headline">¶</a></h2>
<p>Conceptually, a MiniZinc problem specification has two parts.</p>
<ol class="arabic simple">
<li>The <em>model</em>: the main part of the problem specification, which
describes the structure of a particular class of problems.</li>
<li>The <em>data</em>: the input data for the model, which specifies one
particular problem within this class of problems.</li>
</ol>
<p>The pairing of a model with a particular data set is a <em>model
instance</em> (sometimes abbreviated to <em>instance</em>).</p>
<p>The model and data may be separated, or the data
may be “hard-wired” into the model.
<a class="reference internal" href="#spec-model-instance-files"><span class="std std-ref">Model Instance Files</span></a> specifies how the model and data can be
structured within files in a model instance.</p>
<p>There are two broad classes of problems: satisfaction and optimisation.
In satisfaction problems all solutions are considered equally good,
whereas in optimisation problems the solutions are
ordered according to an objective and
the aim is to find a solution whose objective is optimal.
<a class="reference internal" href="#spec-solve-items"><span class="std std-ref">Solve Items</span></a> specifies how the class of problem is chosen.</p>
<div class="section" id="evaluation-phases">
<h3>4.1.3.1. Evaluation Phases<a class="headerlink" href="#evaluation-phases" title="Permalink to this headline">¶</a></h3>
<p>A MiniZinc model instance is evaluated in two distinct phases.</p>
<ol class="arabic simple">
<li>Instance-time: static checking of the model instance.</li>
<li>Run-time: evaluation of the instance (i.e., constraint solving).</li>
</ol>
<p>The model instance may not compile due to a problem with the model and/or data,
detected at instance-time.
This could be caused by a syntax error, a type-inst error,
the use of an unsupported feature or operation, etc.
In this case the outcome of evaluation is a static error;
this must be reported prior to run-time.
The form of output for static errors is implementation-dependent,
although such output should be easily recognisable as a static error.</p>
<p>An implementation may produce warnings during all evaluation phases.
For example, an implementation may be able to determine that
unsatisfiable constraints exist prior to run-time,
and the resulting warning given to the user may be more helpful than
if the unsatisfiability is detected at run-time.</p>
<p>An implementation must produce a warning
if the objective for an optimisation problem is unbounded.</p>
</div>
<div class="section" id="run-time-outcomes">
<span id="spec-run-time-outcomes"></span><h3>4.1.3.2. Run-time Outcomes<a class="headerlink" href="#run-time-outcomes" title="Permalink to this headline">¶</a></h3>
<p>Assuming there are no static errors,
the output from the run-time phase has the following abstract form:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;output&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;no-solutions&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="cs">&lt;free-text&gt;</span><span class="s"></span>
<span class="cs">           |</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;solution&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">*</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;complete&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="cs">&lt;free-text&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>If a solution occurs in the output
then it must be feasible.
For optimisation problems,
each solution must be strictly better than any preceding solution.</p>
<p>If there are no solutions in the output,
the outcome must indicate that there are no solutions.</p>
<p>If the search is complete the output may state this after the solutions.
The absence of the completeness message indicates that the search is incomplete.</p>
<p>Any warnings produced during run-time must be summarised
after the statement of completeness.
In particular, if there were any warnings at all during run-time
then the summary must indicate this fact.</p>
<p>The implementation may produce text in any format after the warnings.
For example, it may print
a summary of benchmarking statistics or resources used.</p>
</div>
<div class="section" id="output">
<span id="spec-output"></span><h3>4.1.3.3. Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>Implementations must be capable of producing output of content type
<tt class="docutils literal">application/x-zinc-output</tt>,
which is described below and also in <a class="reference internal" href="#spec-content-types"><span class="std std-ref">Content-types</span></a>.
Implementations may also produce output in alternative formats.
Any output should conform to
the abstract format from the previous section
and must have the semantics described there.</p>
<p>Content type <tt class="docutils literal">application/x-zinc-output</tt> extends
the syntax from the previous section as follows:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;solution&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;solution-text&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> \</span><span class="nv">n</span><span class="s"> </span><span class="p">]</span><span class="s"> &quot;----------&quot; \</span><span class="nv">n</span><span class="s"></span>
</pre></div>
</div>
<p>The solution text for each solution must be
as described in <a class="reference internal" href="#spec-output-items"><span class="std std-ref">Output Items</span></a>.
A newline must be appended if the solution text does not end with a newline.
<em>Rationale: This allows solutions to be extracted from output
without necessarily knowing how the solutions are formatted.</em>
Solutions end with a sequence of ten dashes followed by a newline.</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;no-solutions&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;=====UNSATISFIABLE=====&quot; \</span><span class="nv">n</span><span class="s"></span>
</pre></div>
</div>
<p>The completness result is printed on a separate line.
<em>Rationale: The strings are designed to clearly indicate
the end of the solutions.</em></p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;complete&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;==========&quot; \</span><span class="nv">n</span><span class="s"></span>
</pre></div>
</div>
<p>If the search is complete, a statement corresponding to the outcome is printed.
For an outcome of no solutions
the statement is that the model instance is unsatisfiable,
for an outcome of no more solutions
the statement is that the solution set is complete,
and for an outcome of no better solutions
the statement is that the last solution is optimal.
<em>Rationale: These are the logical implications of a search being complete.</em></p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;message&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">+</span><span class="s"></span>

<span class="cs">&lt;message&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;line&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">+</span><span class="s"></span>
</pre></div>
</div>
<p>If the search is incomplete,
one or more messages describing reasons for incompleteness may be printed.
Likewise, if any warnings occurred during search
they are repeated after the completeness message.
Both kinds of message should have lines that start with <tt class="docutils literal">%</tt>
so they are recognized as comments by post-processing.
<em>Rationale: This allows individual messages to be easily recognised.</em></p>
<p>For example, the following may be output for an optimisation problem:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">=====</span><span class="nv">UNSATISFIABLE</span><span class="o">=====</span>
% trentin.fzn:4: warning: model inconsistency detected before search.
</pre></div>
</div>
<p>Note that, as in this case,
an unbounded objective is not regarded as a source of incompleteness.</p>
</div>
</div>
<div class="section" id="syntax-overview">
<span id="spec-syntax-overview"></span><h2>4.1.4. Syntax Overview<a class="headerlink" href="#syntax-overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="character-set">
<h3>4.1.4.1. Character Set<a class="headerlink" href="#character-set" title="Permalink to this headline">¶</a></h3>
<p>The input files to MiniZinc must be encoded as UTF-8.</p>
<p>MiniZinc is case sensitive.  There are no places where upper-case or
lower-case letters must be used.</p>
<p>MiniZinc has no layout restrictions, i.e., any single piece of whitespace
(containing spaces, tabs and newlines) is equivalent to any other.</p>
</div>
<div class="section" id="comments">
<h3>4.1.4.2. Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h3>
<p>A <tt class="docutils literal">%</tt> indicates that the rest of the line is a comment.  MiniZinc
also has block comments, using symbols <tt class="docutils literal">/*</tt> and <tt class="docutils literal">*/</tt>
to mark the beginning and end of a comment.</p>
</div>
<div class="section" id="spec-identifiers">
<span id="identifiers"></span><h3>4.1.4.3. Identifiers<a class="headerlink" href="#spec-identifiers" title="Permalink to this headline">¶</a></h3>
<p>Identifiers have the following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[A-Za-z][A-Za-z0-9_]</span><span class="o">*</span><span class="s">       </span><span class="c">% excluding keywords</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> &quot;&#39;&quot; </span><span class="sr">[^&#39;\xa\xd\x0]</span><span class="o">*</span><span class="s"> &quot;&#39;&quot;</span>
</pre></div>
</div>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">my_name_2</span><span class="s"></span>
<span class="nv">MyName2</span><span class="s"></span>
<span class="nv">&#39;An arbitrary identifier&#39;</span><span class="s"></span>
</pre></div>
</div>
<p>A number of keywords are reserved and cannot be used as identifiers.  The
keywords are:
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">annotation</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="gr">any</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">array</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">bool</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="gr">case</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">constraint</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">diff</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">div</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">else</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">elseif</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">endif</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">enum</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">float</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">function</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">if</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">include</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">intersect</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">let</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">list</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">maximize</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">minimize</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">mod</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">of</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">op</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">opt</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">output</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">predicate</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="gr">record</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">satisfy</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">set</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">solve</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">string</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">subset</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">superset</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">symdiff</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">test</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">then</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">true</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">tuple</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">type</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">union</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">where</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">xor</span><span class="s"></span></code>.</p>
<p>A number of identifiers are used for built-ins;  see <a class="reference internal" href="#spec-builtins"><span class="std std-ref">Built-in Operations</span></a>
for details.</p>
</div>
</div>
<div class="section" id="high-level-model-structure">
<span id="spec-high-level-model-structure"></span><h2>4.1.5. High-level Model Structure<a class="headerlink" href="#high-level-model-structure" title="Permalink to this headline">¶</a></h2>
<p>A MiniZinc model consists of multiple <em>items</em>:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;model&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;item&gt;</span><span class="s"> &quot;;&quot; ... </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>Items can occur in any order; identifiers need not be declared before they are used. Items have the following top-level syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;item&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;include-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;var-decl-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;enum-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;assign-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;constraint-item&gt;</span><span class="s"> </span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;solve-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;output-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;predicate-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;test-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;function-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;annotation-item&gt;</span><span class="s"></span>

<span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;:&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Include items provide a way of combining multiple files into a single
instance.  This allows a model to be split into multiple files
(<a class="reference internal" href="#spec-include-items"><span class="std std-ref">Include Items</span></a>).</p>
<p>Variable declaration items introduce new global variables and possibly
bind them to a value (<a class="reference internal" href="#spec-declarations"><span class="std std-ref">Variable Declaration Items</span></a>).</p>
<p>Assignment items bind values to global variables
(<a class="reference internal" href="#spec-assignments"><span class="std std-ref">Assignment Items</span></a>).</p>
<p>Constraint items describe model constraints (<a class="reference internal" href="#spec-constraint-items"><span class="std std-ref">Constraint Items</span></a>).</p>
<p>Solve items are the “starting point” of a model, and specify exactly
what kind of solution is being looked for:  plain satisfaction, or the
minimization/maximization of an expression.  Each model must have exactly
one solve item (<a class="reference internal" href="#spec-solve-items"><span class="std std-ref">Solve Items</span></a>).</p>
<p>Output items are used for nicely presenting the result of a model
execution (<a class="reference internal" href="#spec-output-items"><span class="std std-ref">Output Items</span></a>).</p>
<p>Predicate items, test items (which are just a special type of predicate)
and function items introduce new user-defined predicates and
functions which can be called in expressions (<a class="reference internal" href="#spec-preds-and-fns"><span class="std std-ref">User-defined Operations</span></a>).
Predicates, functions, and built-in operators are described collectively as
<em>operations</em>.</p>
<p>Annotation items augment the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> type, values of which can specify
non-declarative and/or solver-specific information in a model.</p>
<div class="section" id="model-instance-files">
<span id="spec-model-instance-files"></span><h3>4.1.5.1. Model Instance Files<a class="headerlink" href="#model-instance-files" title="Permalink to this headline">¶</a></h3>
<p>MiniZinc models can be constructed from multiple files using
include items (see <a class="reference internal" href="#spec-include-items"><span class="std std-ref">Include Items</span></a>).  MiniZinc has no
module system as such;  all the included files are simply concatenated and
processed as a whole, exactly as if they had all been part of a single file.
<em>Rationale: We have not found much need for one so far.  If bigger models
become common and the single global namespace becomes a problem, this should
be reconsidered.</em></p>
<p>Each model may be paired with one or more data files.  Data files are more
restricted than model files.  They may only contain variable assignments (see
<a class="reference internal" href="#spec-assignments"><span class="std std-ref">Assignment Items</span></a>).</p>
<p>Data files may not include calls to user-defined operations.</p>
<p>Models do not contain the names of data files; doing so would fix the data
file used by the model and defeat the purpose of allowing separate data
files.  Instead, an implementation must allow one or more data files to be
combined with a model for evaluation via a mechanism such as the
command-line.</p>
<p>When checking a model with
data, all global variables with fixed type-insts must be assigned, unless
they are not used (in which case they can be removed from the model without
effect).</p>
<p>A data file can only be checked for static errors in conjunction with a
model, since the model contains the declarations that include the types of
the variables assigned in the data file.</p>
<p>A single data file may be shared between multiple models, so long as the
definitions are compatible with all the models.</p>
</div>
<div class="section" id="namespaces">
<span id="spec-namespaces"></span><h3>4.1.5.2. Namespaces<a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h3>
<p>All names declared at the top-level belong to a single namespace.
It includes the following names.</p>
<ol class="arabic simple">
<li>All global variable names.</li>
<li>All function and predicate names, both built-in and user-defined.</li>
<li>All enumerated type names and enum case names.</li>
<li>All annotation names.</li>
</ol>
<p>Because multi-file MiniZinc models are composed via
concatenation (<a class="reference internal" href="#spec-model-instance-files"><span class="std std-ref">Model Instance Files</span></a>), all files share
this top-level namespace.  Therefore a variable <tt class="docutils literal">x</tt> declared in one
model file could not be declared with a different type in a different file,
for example.</p>
<p>MiniZinc supports overloading of built-in and user-defined operations.</p>
</div>
<div class="section" id="scopes">
<span id="spec-scopes"></span><h3>4.1.5.3. Scopes<a class="headerlink" href="#scopes" title="Permalink to this headline">¶</a></h3>
<p>Within the top-level namespace, there are several kinds of local scope that
introduce local names:</p>
<ul class="simple">
<li>Comprehension expressions (<a class="reference internal" href="#spec-set-comprehensions"><span class="std std-ref">Set Comprehensions</span></a>).</li>
<li>Let expressions (<a class="reference internal" href="#spec-let-expressions"><span class="std std-ref">Let Expressions</span></a>).</li>
<li>Function and predicate argument lists and bodies (<a class="reference internal" href="#spec-preds-and-fns"><span class="std std-ref">User-defined Operations</span></a>).</li>
</ul>
<p>The listed sections specify these scopes in more detail.  In each case, any
names declared in the local scope overshadow identical global names.</p>
</div>
</div>
<div class="section" id="types-and-type-insts">
<span id="spec-types"></span><h2>4.1.6. Types and Type-insts<a class="headerlink" href="#types-and-type-insts" title="Permalink to this headline">¶</a></h2>
<p>MiniZinc provides four scalar built-in types:  Booleans, integers, floats, and
strings; enumerated types; two compound built-in types:  sets and multi-dimensional arrays;
and the user extensible annotation type <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>.</p>
<p>Each type has one or more possible <em>instantiations</em>.  The
instantiation of a variable or value indicates if it is fixed to a known
value or not.  A pairing of a type and instantiation is called a
<em>type-inst</em>.</p>
<p>We begin by discussing some properties that apply to every type.  We then
introduce instantiations in more detail.  We then cover each type
individually, giving:  an overview of the type and its possible
instantiations, the syntax for its type-insts, whether it is a finite
type (and if so, its domain), whether it is varifiable, the ordering and
equality operations, whether its variables must be initialised at
instance-time, and whether it can be involved in automatic coercions.</p>
<div class="section" id="properties-of-types">
<h3>4.1.6.1. Properties of Types<a class="headerlink" href="#properties-of-types" title="Permalink to this headline">¶</a></h3>
<p>The following list introduces some general properties of MiniZinc types.</p>
<ul class="simple">
<li>Currently all types are monotypes. In the future we may allow types which
are polymorphic in other types and also the associated constraints.</li>
<li>We distinguish types which are <em>finite types</em>. In MiniZinc, finite types
include Booleans, enums, types defined via set expression type-insts such
as range types (see <a class="reference internal" href="#spec-set-expression-type-insts"><span class="std std-ref">Set Expression Type-insts</span></a>), as well as
sets and arrays, composed of finite types. Types that are not finite types
are unconstrained integers, unconstrained floats, unconstrained strings,
and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>. Finite types are relevant to sets (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">spec</span><span class="o">-</span><span class="nv">Sets</span><span class="s"></span></code>) and
array indices (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">spec</span><span class="o">-</span><span class="nv">Arrays</span><span class="s"></span></code>). Every finite type has a <em>domain</em>,
which is a set value that holds all the possible values represented by the
type.</li>
<li>Every first-order type (this excludes <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>) has a built-in total
order and a built-in equality; <tt class="docutils literal">></tt>, <tt class="docutils literal"><</tt>, <tt class="docutils literal">==</tt>/<tt class="docutils literal">=</tt>, <tt class="docutils literal">!=</tt>, <tt class="docutils literal"><=</tt>
and <tt class="docutils literal">>=</tt> comparison operators can be applied to any pair of values of
the same type. <em>Rationale: This facilitates the specification of symmetry
breaking and of polymorphic predicates and functions.</em> Note that, as in
most languages, using equality on floats or types that contain floats is
generally not reliable due to their inexact representation. An
implementation may choose to warn about the use of equality with floats or
types that contain floats.</li>
</ul>
</div>
<div class="section" id="instantiations">
<span id="spec-instantiations"></span><h3>4.1.6.2. Instantiations<a class="headerlink" href="#instantiations" title="Permalink to this headline">¶</a></h3>
<p>When a MiniZinc model is evaluated, the value of each variable may initially
be unknown.  As it runs, each variable’s <em>domain</em> (the set of
values it may take) may be reduced, possibly to a single value.</p>
<p>An <em>instantiation</em> (sometimes abbreviated to <em>inst</em>) describes
how fixed or unfixed a variable is at instance-time.  At the most basic
level, the instantiation system distinguishes between two kinds of
variables:</p>
<ol class="arabic simple">
<li><em>Parameters</em>, whose values are fixed at instance-time (usually written just as “fixed”).</li>
<li><em>Decision variables</em> (often abbreviated to <em>variables</em>), whose values may
be completely unfixed at instance-time, but may become fixed at run-time
(indeed, the fixing of decision variables is the whole aim of constraint
solving).</li>
</ol>
<p>In MiniZinc decision variables can have the following types: Booleans,
integers, floats, and sets of integers, and enums.
Arrays and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> can contain decision variables.</p>
</div>
<div class="section" id="type-insts">
<span id="spec-type-inst"></span><h3>4.1.6.3. Type-insts<a class="headerlink" href="#type-insts" title="Permalink to this headline">¶</a></h3>
<p>Because each variable has both a type and an inst, they are often
combined into a single <em>type-inst</em>.  Type-insts are primarily what
we deal with when writing models, rather than types.</p>
<p>A variable’s type-inst <em>never changes</em>.  This means a decision
variable whose value becomes fixed during model evaluation still has its
original type-inst (e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>), because that was its
type-inst at instance-time.</p>
<p>Some type-insts can be automatically coerced to another type-inst.  For
example, if a <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> value is used in a context where a
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> is expected, it is automatically coerced to a
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.  We write this <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.
Also, any type-inst can be considered coercible to itself.
MiniZinc allows coercions between some types as well.</p>
<p>Some type-insts can be <em>varified</em>, i.e., made unfixed at the top-level.
For example, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> is varified to <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.  We write this
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.</p>
<p>Type-insts that are varifiable include the type-insts of the types that can
be decision variables (Booleans, integers, floats, sets, enumerated types).
Varification is relevant to type-inst synonyms and
array accesses.</p>
</div>
<div class="section" id="type-inst-expression-overview">
<h3>4.1.6.4. Type-inst expression overview<a class="headerlink" href="#type-inst-expression-overview" title="Permalink to this headline">¶</a></h3>
<p>This section partly describes how to write type-insts in MiniZinc models.
Further details are given for each type as they are described in the
following sections.</p>
<p>A type-inst expression specifies a type-inst.
Type-inst expressions may include type-inst constraints.
Type-inst expressions appear in variable declarations
(<a class="reference internal" href="#spec-declarations"><span class="std std-ref">Variable Declaration Items</span></a>) and user-defined operation items
(<a class="reference internal" href="#spec-preds-and-fns"><span class="std std-ref">User-defined Operations</span></a>).</p>
<p>Type-inst expressions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
<span class="cs">            |</span><span class="s"> </span><span class="cs">&lt;array-ti-expr&gt;</span><span class="s"></span>

<span class="cs">&lt;base-ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;var-par&gt;</span><span class="s"> </span><span class="cs">&lt;opt-ti&gt;</span><span class="s"> </span><span class="cs">&lt;set-ti&gt;</span><span class="s"> </span><span class="cs">&lt;base-ti-expr-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;var-par&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;var&quot; </span><span class="gr">|</span><span class="s"> &quot;par&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;opt-ti&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;opt&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;set-ti&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;set&quot; &quot;of&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;base-type&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;bool&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;int&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;float&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;string&quot;</span>

<span class="cs">&lt;base-ti-expr-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;base-type&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;ti-variable-expr-tail&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> &quot;ann&quot;</span>
<span class="cs">                      |</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">}</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> &quot;..&quot; </span><span class="cs">&lt;num-expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>(The final alternative, for range types, uses the numeric-specific
<code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;num-expr&gt;</span><span class="s"></span></code> non-terminal, defined in <a class="reference internal" href="#spec-expressions-overview"><span class="std std-ref">Expressions Overview</span></a>,
rather than the <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;expr&gt;</span><span class="s"></span></code> non-terminal.  If this were not the case, the rule
would never match because the <tt class="docutils literal">..</tt> operator would always be matched
by the first <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;expr&gt;</span><span class="s"></span></code>.)</p>
<p>This fully covers the type-inst expressions for scalar types.  The compound
type-inst expression syntax is covered in more detail in
<a class="reference internal" href="#spec-built-in-compound-types"><span class="std std-ref">Built-in Compound Types and Type-insts</span></a>.</p>
<p>The <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code> keywords (or lack of them) determine the
instantiation.  The <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"></span></code> annotation can be omitted;  the following
two type-inst expressions are equivalent:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span>
<span class="kt">int</span><span class="s"></span>
</pre></div>
</div>
<p><em>Rationale: The use of the explicit</em> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code> <em>keyword allows an
implementation to check that all parameters are initialised in the model or
the instance.  It also clearly documents which variables are parameters, and
allows more precise type-inst checking.</em></p>
<p>A type-inst is fixed if it does not contain <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code>,
with the exception of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>.</p>
<p>Note that several type-inst expressions that are syntactically expressible
represent illegal type-insts.  For example, although the grammar allows
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code> in front of all these base type-inst expression tails, it is a
type-inst error to have <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code> in the front of a string or array
expression.</p>
</div>
<div class="section" id="built-in-scalar-types-and-type-insts">
<span id="spec-built-in-scalar-types"></span><h3>4.1.6.5. Built-in Scalar Types and Type-insts<a class="headerlink" href="#built-in-scalar-types-and-type-insts" title="Permalink to this headline">¶</a></h3>
<div class="section" id="booleans">
<h4>Booleans<a class="headerlink" href="#booleans" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Booleans represent truthhood or falsity.  <em>Rationale: Boolean values are
not represented by integers.
Booleans can be explicit converted to
integers with the</em> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">bool2int</span><span class="s"></span></code> <em>function, which makes the user’s intent
clear.</em></p>
<p><em>Allowed Insts.</em>
Booleans can be fixed or unfixed.</p>
<p><em>Syntax.</em>
Fixed Booleans are written <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">bool</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.  Unfixed
Booleans are written as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
Yes.  The domain of a Boolean is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="p">,</span><span class="s"> </span><span class="l">true</span><span class="s"></span></code>.</p>
<p><em>Varifiable?</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.</p>
<p><em>Ordering.</em>
The value <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code> is considered smaller than <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">true</span><span class="s"></span></code>.</p>
<p><em>Initialisation.</em>
A fixed Boolean variable must be initialised at instance-time;  an unfixed
Boolean variable need not be.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.</p>
<p>Also Booleans can be automatically coerced to integers; see
<a class="reference internal" href="#spec-integers"><span class="std std-ref">Integers</span></a>.</p>
</div>
<div class="section" id="integers">
<span id="spec-integers"></span><h4>Integers<a class="headerlink" href="#integers" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Integers represent integral numbers.  Integer representations are
implementation-defined.  This means that the representable range of
integers is implementation-defined.  However, an implementation should
abort at run-time if an integer operation overflows.</p>
<p><em>Allowed Insts.</em>
Integers can be fixed or unfixed.</p>
<p><em>Syntax.</em>
Fixed integers are written <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">int</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.  Unfixed
integers are written as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
Not unless constrained by a set expression (see <a class="reference internal" href="#spec-set-expression-type-insts"><span class="std std-ref">Set Expression Type-insts</span></a>).</p>
<p><em>Varifiable?</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.</p>
<p><em>Ordering.</em>
The ordering on integers is the standard one.</p>
<p><em>Initialisation.</em>
A fixed integer variable must be initialised at instance-time;  an unfixed
integer variable need not be.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.</p>
<p>Also, integers can be automatically coerced to floats;  see
<a class="reference internal" href="#spec-floats"><span class="std std-ref">Floats</span></a>.</p>
</div>
<div class="section" id="floats">
<span id="spec-floats"></span><h4>Floats<a class="headerlink" href="#floats" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Floats represent real numbers.  Float representations are
implementation-defined.  This means that the representable range and
precision of floats is implementation-defined.  However, an
implementation should abort at run-time on exceptional float operations
(e.g., those that produce <tt class="docutils literal">NaN</tt>, if using IEEE754 floats).</p>
<p><em>Allowed Insts.</em>
Floats can be fixed or unfixed.</p>
<p><em>Syntax.</em>
Fixed floats are written <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">float</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>.  Unfixed
floats are written as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
Not unless constrained by a set expression (see <a class="reference internal" href="#spec-set-expression-type-insts"><span class="std std-ref">Set Expression Type-insts</span></a>).</p>
<p><em>Varifiable?</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>.</p>
<p><em>Ordering.</em>
The ordering on floats is the standard one.</p>
<p><em>Initialisation.</em>
A fixed float variable must be initialised at instance-time;  an unfixed
float variable need not be.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="s"></span></code>.</p>
</div>
<div class="section" id="enumerated-types">
<span id="spec-enumerated-types"></span><h4>Enumerated Types<a class="headerlink" href="#enumerated-types" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Enumerated types (or <em>enums</em> for short) provide a set of named
alternatives. Each alternative is identified by its <em>case name</em>.
Enumerated types, like in many other languages, can be used in the place of
integer types to achieve stricter type checking.</p>
<p><em>Allowed Insts.</em>
Enums can be fixed or unfixed.</p>
<p><em>Syntax.</em>
Variables of an enumerated type named <tt class="docutils literal">X</tt> are represented by the term
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">X</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code> if fixed, and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code>
if unfixed.</p>
<p><em>Finite?</em>
Yes.</p>
<p>The domain of an enum is the set containing all of its case names.</p>
<p><em>Varifiable?</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code>.</p>
<p><em>Ordering.</em>
When two enum values with different case names are compared, the value with
the case name that is declared first is considered smaller than the value
with the case name that is declared second.</p>
<p><em>Initialisation.</em>
A fixed enum variable must be initialised at instance-time; an unfixed
enum variable need not be.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.</p>
</div>
<div class="section" id="strings">
<span id="spec-strings"></span><h4>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Strings are primitive, i.e., they are not lists of characters.</p>
<p>String expressions are used in assertions, output items and
annotations, and string literals are used in include items.</p>
<p><em>Allowed Insts.</em>
Strings must be fixed.</p>
<p><em>Syntax.</em>
Fixed strings are written <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">string</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">string</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
Not unless constrained by a set expression (see <a class="reference internal" href="#spec-set-expression-type-insts"><span class="std std-ref">Set Expression Type-insts</span></a>).</p>
<p><em>Varifiable?</em>
No.</p>
<p><em>Ordering.</em>
Strings are ordered lexicographically using the underlying character codes.</p>
<p><em>Initialisation.</em>
A string variable (which can only be fixed) must be initialised at
instance-time.</p>
<p><em>Coercions.</em>
None automatic.  However, any non-string value can be manually converted to
a string using the built-in <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">show</span><span class="s"></span></code> function or using string interpolation
(see <a class="reference internal" href="#spec-string-interpolation-expressions"><span class="std std-ref">String Literals and String Interpolation</span></a>).</p>
</div>
</div>
<div class="section" id="built-in-compound-types-and-type-insts">
<span id="spec-built-in-compound-types"></span><h3>4.1.6.6. Built-in Compound Types and Type-insts<a class="headerlink" href="#built-in-compound-types-and-type-insts" title="Permalink to this headline">¶</a></h3>
<div class="section" id="sets">
<span id="spec-sets"></span><h4>Sets<a class="headerlink" href="#sets" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
A set is a collection with no duplicates.</p>
<p><em>Allowed Insts.</em>
The type-inst of a set’s elements must be fixed.  <em>Rationale: This is because
current solvers are not powerful enough to handle sets containing decision
variables.</em>
Sets may contain any type, and may be fixed or unfixed.
If a set is unfixed, its elements must be finite, unless it occurs in one
of the following contexts:</p>
<ul class="simple">
<li>the argument of a predicate, function or annotation.</li>
<li>the declaration of a variable or let local variable with an
assigned value.</li>
</ul>
<p><em>Syntax.</em>
A set base type-inst expression is a special case of the base type-inst rule:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;var-par&gt;</span><span class="s"> </span><span class="cs">&lt;opt-ti&gt;</span><span class="s"> &quot;set&quot; &quot;of&quot; </span><span class="cs">&lt;base-ti-expr-tail&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Some example set type-inst expressions:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span>
</pre></div>
</div>
<p><em>Finite?</em>
Yes, if the set elements are finite types.  Otherwise, no.</p>
<p>The domain of a set type that is a finite type is the powerset of the domain
of its element type.  For example, the domain of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">2</span><span class="s"></span></code> is
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">powerset</span><span class="p">(</span><span class="m">1</span><span class="o">..</span><span class="m">2</span><span class="p">)</span><span class="s"></span></code>, which is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">{},</span><span class="s"> </span><span class="p">{</span><span class="m">1</span><span class="p">},</span><span class="s"> </span><span class="p">{</span><span class="m">1,2</span><span class="p">},</span><span class="s"> </span><span class="p">{</span><span class="m">2</span><span class="p">}</span><span class="s"></span></code>.</p>
<p><em>Varifiable?</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{v}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code>.</p>
<p><em>Ordering.</em>
The pre-defined ordering on sets is a lexicographic ordering of the
<em>sorted set form</em>, where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">{</span><span class="m">1,2</span><span class="p">}</span><span class="s"></span></code> is in sorted set form, for example,
but <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">{</span><span class="m">2,1</span><span class="p">}</span><span class="s"></span></code> is not.
This means, for instance, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">{}</span><span class="s"> </span><span class="o">&lt;</span><span class="s"> </span><span class="p">{</span><span class="m">1,3</span><span class="p">}</span><span class="s"> </span><span class="o">&lt;</span><span class="s"> </span><span class="p">{</span><span class="m">2</span><span class="p">}</span><span class="s"></span></code>.</p>
<p><em>Initialisation.</em>
A fixed set variable must be initialised at instance-time;  an unfixed
set variable need not be.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">UI</span><span class="s"></span></code> and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">UI</span><span class="s"></span></code> and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">UI</span><span class="s"></span></code>, if
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">UI</span><span class="s"></span></code>.</p>
</div>
<div class="section" id="arrays">
<h4>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
MiniZinc arrays are maps from fixed integers to values.
Values can be of any type.
The values can only have base type-insts.
Arrays-of-arrays are not allowed.
Arrays can be multi-dimensional.</p>
<p>MiniZinc arrays can be declared in two different ways.</p>
<ul>
<li><p class="first"><em>Explicitly-indexed</em> arrays have index types in the declaration
that are finite types.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">0</span><span class="o">..</span><span class="m">3</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a1</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">,</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">a5</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>For such arrays, the index type specifies exactly the indices that will
be in the array - the array’s index set is the <em>domain</em> of the
index type - and if the indices of the value assigned do not match then
it is a run-time error.</p>
<p>For example, the following assignments cause run-time errors:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">a1</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">4,6</span><span class="p">,</span><span class="m">4,3</span><span class="p">,</span><span class="m">2</span><span class="p">];</span><span class="s">   </span><span class="c">% too many elements</span><span class="s"></span>
<span class="nv">a5</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[];</span><span class="s">            </span><span class="c">% too few elements</span><span class="s"></span>
</pre></div>
</div>
</li>
<li><p class="first"><em>Implicitly-indexed</em> arrays have index types in the declaration
that are not finite types.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a6</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>No checking of indices occurs when these variables are assigned.</p>
</li>
</ul>
<p>In MiniZinc all index sets of an array must be contiguous ranges of
integers, or enumerated types. The expression used for initialisation of an
array must have matching index sets. An array expression with an enum index
set can be assigned to an array declared with an integer index set, but not
the other way around. The exception are array literals, which can be
assigned to arrays declared with enum index sets.</p>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">X</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="nv">A</span><span class="p">,</span><span class="nv">B</span><span class="p">,</span><span class="nv">C</span><span class="p">};</span><span class="s"></span>
<span class="kt">enum</span><span class="s"> </span><span class="nv">Y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="nv">D</span><span class="p">,</span><span class="nv">E</span><span class="p">,</span><span class="nv">F</span><span class="p">};</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="nv">X</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nb">array1d</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="p">[</span><span class="m">5,6</span><span class="p">,</span><span class="m">7</span><span class="p">]);</span><span class="s"> </span><span class="c">% correct</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="nv">Y</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s">                   </span><span class="c">% index set mismatch: Y != X</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">z</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s">                 </span><span class="c">% correct: assign X index set to int</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="nv">X</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x2</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">10,11</span><span class="p">,</span><span class="m">12</span><span class="p">];</span><span class="s">         </span><span class="c">% correct: automatic coercion for array literals</span><span class="s"></span>
</pre></div>
</div>
<p>The initialisation of an array can be done in a separate assignment
statement, which may be present in the model or a separate data file.</p>
<p>Arrays can be accessed.  See <a class="reference internal" href="#spec-array-access-expressions"><span class="std std-ref">Array Access Expressions</span></a> for
details.</p>
<p><em>Allowed Insts.</em>
An array’s size must be fixed.  Its indices must also have
fixed type-insts.  Its elements may be fixed or unfixed.</p>
<p><em>Syntax.</em>
An array base type-inst expression tail has this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;array-ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;array&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;of&quot; </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> &quot;list&quot; &quot;of&quot; </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Some example array type-inst expressions:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="s"></span>
<span class="kt">list</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span>
</pre></div>
</div>
<p>Note that <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="kt">list</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="cs">&lt;T&gt;</span><span class="s"></span></code> is just syntactic sugar for
<code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="kt">array</span><span class="sr">[int]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="cs">&lt;T&gt;</span><span class="s"></span></code>.  <em>Rationale: Integer-indexed arrays of this form
are very common, and so worthy of special support to make things easier for
modellers.  Implementing it using syntactic sugar avoids adding an extra
type to the language, which keeps things simple for implementers.</em></p>
<p>Because arrays must be fixed-size it is a type-inst error to precede an
array type-inst expression with <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
Yes, if the index types and element type are all finite types.
Otherwise, no.</p>
<p>The domain of an array type that is a finite array is the set of all
distinct arrays whose index set equals the domain of the index type
and whose elements are of the array element type.</p>
<p><em>Varifiable?</em>
No.</p>
<p><em>Ordering.</em>
Arrays are ordered lexicographically, taking absence of a value for a given key
to be before any value for that key.  For example,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">1</span><span class="p">]</span><span class="s"></span></code> is less than
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">]</span><span class="s"></span></code>, which is less than <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="p">]</span><span class="s"></span></code> and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">array1d</span><span class="p">(</span><span class="m">2</span><span class="o">..</span><span class="m">4</span><span class="p">,[</span><span class="m">0</span><span class="p">,</span><span class="s"> </span><span class="m">0</span><span class="p">,</span><span class="s"> </span><span class="m">0</span><span class="p">])</span><span class="s"></span></code> is less than <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="p">]</span><span class="s"></span></code>.</p>
<p><em>Initialisation.</em>
An explicitly-indexed array variable must be initialised at instance-time
only if its elements must be initialised at instance time.
An implicitly-indexed array variable must be initialised at instance-time
so that its length and index set is known.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">array</span><span class="p">[</span><span class="nv">TI0</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">array</span><span class="p">[</span><span class="nv">UI0</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">UI</span><span class="s"></span></code> if
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI0</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">UI0</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">UI</span><span class="s"></span></code>.</p>
</div>
<div class="section" id="option-types">
<span id="spec-option-types"></span><h4>Option Types<a class="headerlink" href="#option-types" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
Option types defined using the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">opt</span><span class="s"></span></code> type constructor, define types
that may or may not be there. They are similar to <tt class="docutils literal">Maybe</tt> types of
Haskell implicitly adding a new value <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;&gt;</span><span class="s"></span></code> to the type.</p>
<p><em>Allowed Insts.</em>
The argument of an option type must be one of the base types
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">bool</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">int</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">float</span><span class="s"></span></code>.</p>
<p><em>Syntax.</em>
The option type is written <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="nv">opt</span><span class="s"> </span><span class="cs">&lt;T&gt;</span><span class="s"></span></code> where <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;T&gt;</span><span class="s"></span></code> if one of
the three base types, or one of their constrained instances.</p>
<p><em>Finite?</em>
Yes if the underlying type is finite, otherwise no.</p>
<p><em>Varifiable?</em>
Yes.</p>
<p><em>Ordering.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;&gt;</span><span class="s"></span></code> is always less than any other value in the type.
But beware that overloading of operators like <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;</span><span class="s"></span></code> is different for
option types.</p>
<p><em>Initialisation.</em>
An <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">opt</span><span class="s"></span></code> type variable does not need to be initialised at
instance-time. An uninitialised <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">opt</span><span class="s"></span></code> type variable is automatically
initialised to <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;&gt;</span><span class="s"></span></code>.</p>
<p><em>Coercions.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">opt</span><span class="s"> </span><span class="nv">UI</span><span class="s"></span></code> if <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="s"></span></code> <span class="math notranslate nohighlight">\(\stackrel{c}{\rightarrow}\)</span> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">UI</span><span class="s"></span></code>..</p>
</div>
<div class="section" id="the-annotation-type">
<span id="spec-the-annotation-type"></span><h4>The Annotation Type<a class="headerlink" href="#the-annotation-type" title="Permalink to this headline">¶</a></h4>
<p><em>Overview.</em>
The annotation type, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>, can be used to represent arbitrary term
structures.  It is augmented by annotation items (<a class="reference internal" href="#spec-annotation-items"><span class="std std-ref">Annotation Items</span></a>).</p>
<p><em>Allowed Insts.</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> is always considered unfixed, because it may contain unfixed
elements.  It cannot be preceded by <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"></span></code>.</p>
<p><em>Syntax.</em>
The annotation type is written <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code>.</p>
<p><em>Finite?</em>
No.</p>
<p><em>Varifiable?</em>
No.</p>
<p><em>Ordering.</em>
N/A.  Annotation types do not have an ordering defined on them.</p>
<p><em>Initialisation.</em>
An <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> variable must be initialised at instance-time.</p>
<p><em>Coercions.</em>
None.</p>
</div>
</div>
<div class="section" id="constrained-type-insts">
<span id="spec-constrained-type-insts"></span><h3>4.1.6.7. Constrained Type-insts<a class="headerlink" href="#constrained-type-insts" title="Permalink to this headline">¶</a></h3>
<p>One powerful feature of MiniZinc is <em>constrained type-insts</em>.  A
constrained type-inst is a restricted version of a <em>base</em> type-inst,
i.e., a type-inst with fewer values in its domain.</p>
<div class="section" id="set-expression-type-insts">
<span id="spec-set-expression-type-insts"></span><h4>Set Expression Type-insts<a class="headerlink" href="#set-expression-type-insts" title="Permalink to this headline">¶</a></h4>
<p>Three kinds of expressions can be used in type-insts.</p>
<ol class="arabic simple">
<li>Integer ranges:  e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="m">3</span><span class="s"></span></code>.</li>
<li>Set literals:  e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="p">{</span><span class="m">1,3</span><span class="p">,</span><span class="m">5</span><span class="p">}</span><span class="s"></span></code>.</li>
<li>Identifiers:  the name of a set parameter (which can be global,
let-local, the argument of a predicate or function, or a generator
value) can serve as a type-inst.</li>
</ol>
<p>In each case the base type is that of the set’s elements, and the values
within the set serve as the domain.  For example, whereas a variable with
type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code> can take any integer value, a variable with
type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">3</span><span class="s"></span></code> can only take the value 1, 2 or 3.</p>
<p>All set expression type-insts are finite types.  Their domain is equal to
the set itself.</p>
</div>
<div class="section" id="float-range-type-insts">
<h4>Float Range Type-insts<a class="headerlink" href="#float-range-type-insts" title="Permalink to this headline">¶</a></h4>
<p>Float ranges can be used as type-insts, e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1.0</span><span class="s"> .. </span><span class="m">3.0</span><span class="s"></span></code>.  These are
treated similarly to integer range type-insts, although <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1.0</span><span class="s"> .. </span><span class="m">3.0</span><span class="s"></span></code> is
not a valid expression whereas <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s"> .. </span><span class="m">3</span><span class="s"></span></code> is.</p>
<p>Float ranges are not finite types.</p>
</div>
</div>
</div>
<div class="section" id="expressions">
<span id="spec-expressions"></span><h2>4.1.7. Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="expressions-overview">
<span id="spec-expressions-overview"></span><h3>4.1.7.1. Expressions Overview<a class="headerlink" href="#expressions-overview" title="Permalink to this headline">¶</a></h3>
<p>Expressions represent values.  They occur in various kinds of items.  They
have the following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom&gt;</span><span class="s"> </span><span class="cs">&lt;expr-binop-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-atom&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-binop-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;bin-op&gt;</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-un-op&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> &quot;_&quot;</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;bool-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;int-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;float-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;set-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;set-comp&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-literal-2d&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-comp&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;ann-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;let-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;call-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> ε</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-access-tail&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Expressions can be composed from sub-expressions combined with operators.
All operators (binary and unary) are described in <a class="reference internal" href="#spec-operators"><span class="std std-ref">Operators</span></a>,
including the precedences of the binary operators.  All unary operators bind
more tightly than all binary operators.</p>
<p>Expressions can have one or more annotations.  Annotations bind
more tightly than unary and binary operator applications, but less tightly
than access operations and non-operator applications.  In some cases this
binding is non-intuitive.  For example, in the first three of the following
lines, the annotation <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">a</span><span class="s"></span></code> binds to the identifier expression
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">x</span><span class="s"></span></code> rather than the operator application.  However, the fourth
line features a non-operator application (due to the single quotes around
the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"></span></code>) and so the annotation binds to the whole application.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="o">not</span><span class="s"> </span><span class="nv">x</span><span class="p">::</span><span class="nv">a</span><span class="p">;</span><span class="s"></span>
<span class="o">not</span><span class="s"> </span><span class="p">(</span><span class="nv">x</span><span class="p">)::</span><span class="nv">a</span><span class="p">;</span><span class="s"></span>
<span class="o">not</span><span class="p">(</span><span class="nv">x</span><span class="p">)::</span><span class="nv">a</span><span class="p">;</span><span class="s"></span>
<span class="nf">&#39;not&#39;</span><span class="p">(</span><span class="nv">x</span><span class="p">)::</span><span class="nv">a</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p><a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> has more on annotations.</p>
<p>Expressions can be contained within parentheses.</p>
<p>The array access operations
all bind more tightly than unary and binary operators and annotations.
They are described in more detail in <a class="reference internal" href="#spec-array-access-expressions"><span class="std std-ref">Array Access Expressions</span></a>.</p>
<p>The remaining kinds of expression atoms (from <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;ident&gt;</span><span class="s"></span></code> to
<code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"></span></code>) are described in
<a class="reference internal" href="#spec-identifier-expressions-and-quoted-operator-expressions"><span class="std std-ref">Identifier Expressions and Quoted Operator Expressions</span></a> to <a class="reference internal" href="#spec-generator-call-expressions"><span class="std std-ref">Generator Call Expressions</span></a>.</p>
<p>We also distinguish syntactically valid numeric expressions.  This allows
range types to be parsed correctly.</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;num-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;num-expr-atom&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr-binop-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;num-expr-atom&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;num-expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"></span>

<span class="cs">&lt;num-expr-binop-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;num-bin-op&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;num-expr-atom-head&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr-atom&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> &quot;)&quot;</span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;int-literal&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;float-literal&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;let-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;call-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="operators">
<span id="spec-operators"></span><h3>4.1.7.2. Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h3>
<p>Operators are functions that are distinguished by their syntax in one or two
ways.  First, some of them contain non-alphanumeric characters that normal
functions do not (e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code>).  Second, their application is written
in a manner different to normal functions.</p>
<p>We distinguish between binary operators, which can be applied in an infix
manner (e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">3</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="m">4</span><span class="s"></span></code>), and unary operators, which can be applied in a
prefix manner without parentheses (e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"> </span><span class="nv">x</span><span class="s"></span></code>).  We also
distinguish between built-in operators and user-defined operators.  The
syntax is the following:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;builtin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-un-op&gt;</span><span class="s"></span>

<span class="cs">&lt;bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> ‘</span><span class="cs">&lt;ident&gt;</span><span class="s">‘</span>

<span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;&lt;-&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;-&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;-&quot; </span><span class="gr">|</span><span class="s"> &quot;\/&quot; </span><span class="gr">|</span><span class="s"> &quot;xor&quot; </span><span class="gr">|</span><span class="s"> &quot;/\&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;=&quot; </span><span class="gr">|</span><span class="s"> &quot;&gt;=&quot; </span><span class="gr">|</span><span class="s"> &quot;==&quot; </span><span class="gr">|</span><span class="s"> &quot;=&quot; </span><span class="gr">|</span><span class="s"> &quot;!=&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;in&quot; </span><span class="gr">|</span><span class="s"> &quot;subset&quot; </span><span class="gr">|</span><span class="s"> &quot;superset&quot; </span><span class="gr">|</span><span class="s"> &quot;union&quot; </span><span class="gr">|</span><span class="s"> &quot;diff&quot; </span><span class="gr">|</span><span class="s"> &quot;symdiff&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;..&quot; </span><span class="gr">|</span><span class="s"> &quot;intersect&quot; </span><span class="gr">|</span><span class="s"> &quot;++&quot; </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"></span>

<span class="cs">&lt;builtin-un-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;not&quot; </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Again, we syntactically distinguish numeric operators.</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;num-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> ‘</span><span class="cs">&lt;ident&gt;</span><span class="s">‘</span>

<span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;+&quot; </span><span class="gr">|</span><span class="s"> &quot;-&quot; </span><span class="gr">|</span><span class="s"> &quot;*&quot; </span><span class="gr">|</span><span class="s"> &quot;/&quot; </span><span class="gr">|</span><span class="s"> &quot;div&quot; </span><span class="gr">|</span><span class="s"> &quot;mod&quot;</span>

<span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;+&quot; </span><span class="gr">|</span><span class="s"> &quot;-&quot;</span>
</pre></div>
</div>
<p>Some operators can be written using their unicode symbols, which are listed
in <a class="reference internal" href="#bin-ops-unicode"><span class="std std-numref">Table 4.1.1</span></a> (recall that MiniZinc input is UTF-8).</p>
<span id="bin-ops-unicode"></span><table border="1" class="table-nonfluid table-bordered docutils" id="id3">
<caption><span class="caption-number">Table 4.1.1 </span><span class="caption-text">Unicode equivalents of binary operators</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="47%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Unicode symbol</th>
<th class="head">UTF-8 code</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-&gt;</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\leftrightarrow\)</span></td>
<td>E2 86 94</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-&gt;</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\rightarrow\)</span></td>
<td>E2 86 92</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\leftarrow\)</span></td>
<td>E2 86 90</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\lnot\)</span></td>
<td>C2 AC</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal">\/</tt></td>
<td><span class="math notranslate nohighlight">\(\lor\)</span></td>
<td>E2 88 A8</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal">/\</tt></td>
<td><span class="math notranslate nohighlight">\(\land\)</span></td>
<td>E2 88 A7</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">!=</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\neq\)</span></td>
<td>E2 89 A0</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\leq\)</span></td>
<td>E2 89 A4</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&gt;=</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\geq\)</span></td>
<td>E2 89 A5</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\in\)</span></td>
<td>E2 88 88</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">subset</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\subseteq\)</span></td>
<td>E2 8A 86</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">superset</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\supseteq\)</span></td>
<td>E2 8A 87</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">union</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\cup\)</span></td>
<td>E2 88 AA</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">intersect</span><span class="s"></span></code></td>
<td><span class="math notranslate nohighlight">\(\cap\)</span></td>
<td>E2 88 A9</td>
</tr>
</tbody>
</table>
<p>The binary operators are listed in <a class="reference internal" href="#bin-ops"><span class="std std-numref">Table 4.1.2</span></a>. A lower precedence
number means tighter binding; for example, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1+2</span><span class="o">*</span><span class="m">3</span><span class="s"></span></code> is parsed as
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">+</span><span class="p">(</span><span class="m">2*3</span><span class="p">)</span><span class="s"></span></code> because <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">*</span><span class="s"></span></code> binds tighter than <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code>. Associativity
indicates how chains of operators with equal precedences are handled; for
example, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1+2</span><span class="o">+</span><span class="m">3</span><span class="s"></span></code> is parsed as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="m">1+2</span><span class="p">)</span><span class="o">+</span><span class="m">3</span><span class="s"></span></code> because <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code> is
left-associative, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">a</span><span class="o">++</span><span class="nv">b</span><span class="o">++</span><span class="nv">c</span><span class="s"></span></code> is parsed as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">a</span><span class="o">++</span><span class="p">(</span><span class="nv">b</span><span class="o">++</span><span class="nv">c</span><span class="p">)</span><span class="s"></span></code> because
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">++</span><span class="s"></span></code> is right-associative, and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">&lt;</span><span class="nv">x</span><span class="o">&lt;</span><span class="m">2</span><span class="s"></span></code> is a syntax error because
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;</span><span class="s"></span></code> is non-associative.</p>
<span id="bin-ops"></span><table border="1" class="table-nonfluid table-bordered docutils" id="id4">
<caption><span class="caption-number">Table 4.1.2 </span><span class="caption-text">Binary infix operators</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="72%" />
<col width="14%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Symbol(s)</th>
<th class="head">Assoc.</th>
<th class="head">Prec.</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-&gt;</span><span class="s"></span></code></td>
<td>left</td>
<td>1200</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-&gt;</span><span class="s"></span></code></td>
<td>left</td>
<td>1100</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-</span><span class="s"></span></code></td>
<td>left</td>
<td>1100</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal">\/</tt></td>
<td>left</td>
<td>1000</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">xor</span><span class="s"></span></code></td>
<td>left</td>
<td>1000</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal">/\</tt></td>
<td>left</td>
<td>900</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&gt;</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&gt;=</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">==</span><span class="s"></span></code>,</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">=</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">!=</span><span class="s"></span></code></td>
<td>none</td>
<td>800</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code></td>
<td>none</td>
<td>700</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">subset</span><span class="s"></span></code></td>
<td>none</td>
<td>700</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">superset</span><span class="s"></span></code></td>
<td>none</td>
<td>700</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">union</span><span class="s"></span></code></td>
<td>left</td>
<td>600</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">diff</span><span class="s"></span></code></td>
<td>left</td>
<td>600</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">symdiff</span><span class="s"></span></code></td>
<td>left</td>
<td>600</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">..</span></code></td>
<td>none</td>
<td>500</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code></td>
<td>left</td>
<td>400</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="s"></span></code></td>
<td>left</td>
<td>400</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">*</span><span class="s"></span></code></td>
<td>left</td>
<td>300</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">div</span><span class="s"></span></code></td>
<td>left</td>
<td>300</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">mod</span><span class="s"></span></code></td>
<td>left</td>
<td>300</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">/</span><span class="s"></span></code></td>
<td>left</td>
<td>300</td>
</tr>
<tr class="row-even"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">intersect</span><span class="s"></span></code></td>
<td>left</td>
<td>300</td>
</tr>
<tr class="row-odd"><td><code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">++</span><span class="s"></span></code></td>
<td>right</td>
<td>200</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal">`</tt>  <code class="code mzndef minizincdef docutils literal highlight highlight-minizincdef"><span></span><span class="cs">&lt;ident&gt;</span><span class="s"></span></code> <tt class="docutils literal">`</tt></td>
<td>left</td>
<td>100</td>
</tr>
</tbody>
</table>
<p>A user-defined binary operator is created by backquoting a normal
identifier, for example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">A</span><span class="s"> `</span><span class="nv">min2</span><span class="s">` </span><span class="nv">B</span><span class="s"></span>
</pre></div>
</div>
<p>This is a static error if the identifier is not the name of a binary
function or predicate.</p>
<p>The unary operators are: <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"></span></code>.
User-defined unary operators are not possible.</p>
<p>As <a class="reference internal" href="#spec-identifiers"><span class="std std-ref">Identifiers</span></a> explains, any built-in operator can be used as
a normal function identifier by quoting it, e.g: <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">&#39;+&#39;</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="m">4</span><span class="p">)</span><span class="s"></span></code> is
equivalent to <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">3</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="m">4</span><span class="s"></span></code>.</p>
<p>The meaning of each operator is given in <a class="reference internal" href="#spec-builtins"><span class="std std-ref">Built-in Operations</span></a>.</p>
</div>
<div class="section" id="expression-atoms">
<h3>4.1.7.3. Expression Atoms<a class="headerlink" href="#expression-atoms" title="Permalink to this headline">¶</a></h3>
<div class="section" id="spec-identifier-expressions-and-quoted-operator-expressions">
<span id="identifier-expressions-and-quoted-operator-expressions"></span><h4>Identifier Expressions and Quoted Operator Expressions<a class="headerlink" href="#spec-identifier-expressions-and-quoted-operator-expressions" title="Permalink to this headline">¶</a></h4>
<p>Identifier expressions and quoted operator expressions have the following
syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> ’</span><span class="cs">&lt;builtin-op&gt;</span><span class="s">’</span>
</pre></div>
</div>
<p>Examples of identifiers were given in <a class="reference internal" href="#spec-identifiers"><span class="std std-ref">Identifiers</span></a>.  The
following are examples of quoted operators:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">&#39;+&#39;</span><span class="s"></span>
<span class="nv">&#39;union&#39;</span><span class="s"></span>
</pre></div>
</div>
<p>In quoted operators, whitespace is not permitted between either quote
and the operator.  <a class="reference internal" href="#spec-operators"><span class="std std-ref">Operators</span></a> lists MiniZinc’s built-in operators.</p>
<p>Syntactically, any identifier or quoted operator can serve as an expression.
However, in a valid model any identifier or quoted operator serving as an
expression must be the name of a variable.</p>
</div>
<div class="section" id="anonymous-decision-variables">
<span id="spec-anonymous-decision-variables"></span><h4>Anonymous Decision Variables<a class="headerlink" href="#anonymous-decision-variables" title="Permalink to this headline">¶</a></h4>
<p>There is a special identifier, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">_</span></code>, that represents an unfixed,
anonymous decision variable.  It can take on any type that can be a decision
variable.  It is particularly useful for initialising decision variables
within compound types.  For example, in the following array the first and
third elements are fixed to 1 and 3 respectively and the second and fourth
elements are unfixed:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">4</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">xs</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> _</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="p">,</span><span class="s"> _</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>Any expression that does not contain <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">_</span></code> and does not involve
decision variables is fixed.</p>
</div>
<div class="section" id="boolean-literals">
<h4>Boolean Literals<a class="headerlink" href="#boolean-literals" title="Permalink to this headline">¶</a></h4>
<p>Boolean literals have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;bool-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;false&quot; </span><span class="gr">|</span><span class="s"> &quot;true&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="integer-and-float-literals">
<h4>Integer and Float Literals<a class="headerlink" href="#integer-and-float-literals" title="Permalink to this headline">¶</a></h4>
<p>There are three forms of integer literals - decimal, hexadecimal, and
octal - with these respective forms:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;int-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                |</span><span class="s"> </span><span class="m">0</span><span class="s">x</span><span class="sr">[0-9A-Fa-f]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                |</span><span class="s"> </span><span class="m">0</span><span class="s">o</span><span class="sr">[0-7]</span><span class="o">+</span><span class="s"></span>
</pre></div>
</div>
<p>For example: <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">0</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">005</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">123</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">0x1b7</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">0o777</span><span class="s"></span></code>;  but not <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="m">1</span><span class="s"></span></code>.</p>
<p>Float literals have the following form:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;float-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9]</span><span class="o">+</span><span class="sr">[Ee][-+]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="sr">[Ee][-+]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="m">0</span><span class="sr">[xX]</span><span class="p">(</span><span class="sr">[0-9a-fA-F]</span><span class="o">*</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9a-fA-F]</span><span class="o">+</span><span class="gr">|</span><span class="sr">[0-9a-fA-F]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="p">)(</span><span class="sr">[pP][+-]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="p">)</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="p">(</span><span class="m">0</span><span class="sr">[xX][0-9a-fA-F]</span><span class="o">+</span><span class="sr">[pP][+-]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>For example: <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1.05</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1.3e-5</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1.3</span><span class="o">+</span><span class="nv">e5</span><span class="s"></span></code>;  but not
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s">.</span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">.</span><span class="m">5</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s">.</span><span class="nv">e5</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">.</span><span class="m">1e5</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="m">1.0</span><span class="s"></span></code>,
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="m">1E05</span><span class="s"></span></code>.
A <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="s"></span></code> symbol preceding an integer or float literal is parsed as a
unary minus (regardless of intervening whitespace), not as part of the
literal.  This is because it is not possible in general to distinguish a
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="s"></span></code> for a negative integer or float literal from a binary minus
when lexing.</p>
</div>
<div class="section" id="string-literals-and-string-interpolation">
<span id="spec-string-interpolation-expressions"></span><h4>String Literals and String Interpolation<a class="headerlink" href="#string-literals-and-string-interpolation" title="Permalink to this headline">¶</a></h4>
<p>String literals are written as in C:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;string-contents&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="sr">[^&quot;\n\]</span><span class="s"> </span><span class="gr">|</span><span class="s"> \</span><span class="sr">[^\n(]</span><span class="p">)</span><span class="o">*</span><span class="s"></span>

<span class="cs">&lt;string-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;&quot;&quot; </span><span class="cs">&lt;string-contents&gt;</span><span class="s"> &quot;&quot;&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;&quot;&quot; </span><span class="cs">&lt;string-contents&gt;</span><span class="s"> &quot;\(&quot; </span><span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span><span class="cs">&lt;string-contents&gt;</span><span class="s">&quot;&quot;&quot;</span>
<span class="cs">                            |</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span><span class="cs">&lt;string-contents&gt;</span><span class="s">&quot;\(&quot; </span><span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>This includes C-style escape sequences, such as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">\&quot;</span></code> for
double quotes, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">\\</span></code> for backslash, and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">\</span><span class="nv">n</span><span class="s"></span></code> for newline.</p>
<p>For example: <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="s">&quot;Hello, world!</span><span class="se">\n</span><span class="s">&quot;</span></code>.</p>
<p>String literals must fit on a single line.</p>
<p>Long string literals can be split across multiple lines using string
concatenation.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nv">s</span><span class="s"> </span><span class="o">=</span><span class="s"> &quot;This is a string literal &quot;</span>
<span class="s">         </span><span class="o">++</span><span class="s"> &quot;split across two lines.&quot;</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>A string expression can contain an arbitrary MiniZinc expression, which will
be converted to a string similar to the builtin <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">show</span><span class="s"></span></code> function and
inserted into the string.</p>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">:</span><span class="s"> </span><span class="nv">q</span><span class="p">;</span><span class="s"></span>
<span class="k">solve</span><span class="s"> </span><span class="k">satisfy</span><span class="p">;</span><span class="s"></span>
<span class="k">output</span><span class="s"> </span><span class="p">[</span><span class="nb">show</span><span class="p">(</span><span class="s">&quot;The value of q is </span><span class="p">\(</span><span class="nv">q</span><span class="p">)</span><span class="s">, and it has </span><span class="p">\(</span><span class="nb">card</span><span class="p">(</span><span class="nv">q</span><span class="p">))</span><span class="s"> elements.&quot;</span><span class="p">)];</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="set-literals">
<span id="spec-set-literals"></span><h4>Set Literals<a class="headerlink" href="#set-literals" title="Permalink to this headline">¶</a></h4>
<p>Set literals have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;set-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;}&quot;</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s"> </span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="m">5</span><span class="s"> </span><span class="p">}</span><span class="s"></span>
<span class="p">{</span><span class="s"> </span><span class="p">}</span><span class="s"></span>
<span class="p">{</span><span class="s"> </span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2.0</span><span class="s"> </span><span class="p">}</span><span class="s"></span>
</pre></div>
</div>
<p>The type-insts of all elements in a literal set must be the same, or
coercible to the same type-inst (as in the last example above, where the
integer <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s"></span></code> will be coerced to a <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">float</span><span class="s"></span></code>).</p>
</div>
<div class="section" id="set-comprehensions">
<span id="spec-set-comprehensions"></span><h4>Set Comprehensions<a class="headerlink" href="#set-comprehensions" title="Permalink to this headline">¶</a></h4>
<p>Set comprehensions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;set-comp&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;|&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;}&quot;</span>

<span class="cs">&lt;comp-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;generator&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;where&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> &quot;,&quot; ...</span>

<span class="cs">&lt;generator&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;,&quot; ... &quot;in&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example (with the literal equivalent on the right):</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s"> </span><span class="m">2</span><span class="o">*</span><span class="nv">i</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="s"> </span><span class="p">}</span><span class="s">     </span><span class="c">% { 2, 4, 6, 8, 10 }</span><span class="s"></span>
<span class="p">{</span><span class="s">  </span><span class="m">1</span><span class="s">  </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="s"> </span><span class="p">}</span><span class="s">     </span><span class="c">% { 1 }   (no duplicates in sets)</span><span class="s"></span>
</pre></div>
</div>
<p>The expression before the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="gr">|</span><span class="s"></span></code> is the <em>head expression</em>.  The
expression after the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code> is a <em>generator expression</em>.
Generators can be restricted by a <em>where-expression</em>.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="p">(</span><span class="nv">i</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="m">2</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="p">)</span><span class="s"> </span><span class="p">}</span><span class="s">     </span><span class="c">% { 2, 4, 6, 8, 10 }</span><span class="s"></span>
</pre></div>
</div>
<p>When multiple generators are present, the right-most generator acts as the
inner-most one.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s"> </span><span class="m">3</span><span class="o">*</span><span class="nv">i</span><span class="o">+</span><span class="nv">j</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">0</span><span class="o">..</span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="nv">j</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="p">{</span><span class="m">0</span><span class="p">,</span><span class="s"> </span><span class="m">1</span><span class="p">}</span><span class="s"> </span><span class="p">}</span><span class="s">    </span><span class="c">% { 0, 1, 3, 4, 6, 7 }</span><span class="s"></span>
</pre></div>
</div>
<p>The scope of local generator variables is given by the following rules:</p>
<ul class="simple">
<li>They are visible within the head expression (before the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="gr">|</span><span class="s"></span></code>).</li>
<li>They are visible within the where-expression of their own generator.</li>
<li>They are visible within generator expressions and where-expressions in any subsequent generators.</li>
</ul>
<p>The last of these rules means that the following set comprehension is allowed:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s"> </span><span class="nv">i</span><span class="o">+</span><span class="nv">j</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="nv">j</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="nv">i</span><span class="s"> </span><span class="p">}</span><span class="s">  </span><span class="c">% { 1+1, 2+1, 2+2, 3+1, 3+2, 3+3 }</span><span class="s"></span>
</pre></div>
</div>
<p>Multiple where-expressions are allowed, as in the following example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nf">f</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="s"> </span><span class="nv">j</span><span class="p">)</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">A1</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="nv">i</span><span class="p">),</span><span class="s"> </span><span class="nv">j</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">A2</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="nf">q</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="nv">j</span><span class="p">)]</span><span class="s"></span>
</pre></div>
</div>
<p>A generator expression must be an array or a fixed set.</p>
<p><em>Rationale: For set comprehensions, set generators would suffice, but for
array comprehensions, array generators are required for full expressivity
(e.g., to provide control over the order of the elements in the resulting
array).  Set comprehensions have array generators for consistency with array
comprehensions, which makes implementations simpler.</em></p>
<p>The where-expression (if present) must be Boolean.
It can be var, in which case the type of the comprehension is lifted to an optional type.</p>
</div>
<div class="section" id="array-literals">
<span id="spec-array-literals"></span><h4>Array Literals<a class="headerlink" href="#array-literals" title="Permalink to this headline">¶</a></h4>
<p>Array literals have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;array-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;]&quot;</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="m">4</span><span class="p">]</span><span class="s"></span>
<span class="p">[]</span><span class="s"></span>
<span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> _</span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>In a array literal all elements must have the same type-inst, or
be coercible to the same type-inst (as in the last example above, where the
fixed integer <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s"></span></code> will be coerced to a <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>).</p>
<p>The indices of a array literal are implicitly <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="s"></span></code>, where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">n</span><span class="s"></span></code> is
the length of the literal.</p>
</div>
<div class="section" id="d-array-literals">
<span id="spec-2d-array-literals"></span><h4>2d Array Literals<a class="headerlink" href="#d-array-literals" title="Permalink to this headline">¶</a></h4>
<p>Simple 2d array literals have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;array-literal-2d&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[|&quot; </span><span class="p">[</span><span class="s"> </span><span class="p">(</span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ...</span><span class="p">)</span><span class="s"> &quot;|&quot; ... </span><span class="p">]</span><span class="s"> &quot;|]&quot;</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">[|</span><span class="s"> </span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="m">3</span><span class="s"></span>
<span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="m">4</span><span class="p">,</span><span class="s"> </span><span class="m">5</span><span class="p">,</span><span class="s"> </span><span class="m">6</span><span class="s"></span>
<span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="m">7</span><span class="p">,</span><span class="s"> </span><span class="m">8</span><span class="p">,</span><span class="s"> </span><span class="m">9</span><span class="s"> </span><span class="p">|]</span><span class="s">       </span><span class="c">% array[1..3, 1..3]</span><span class="s"></span>
<span class="p">[|</span><span class="s"> </span><span class="nv">x</span><span class="p">,</span><span class="s"> </span><span class="nv">y</span><span class="p">,</span><span class="s"> </span><span class="nv">z</span><span class="s"> </span><span class="p">|]</span><span class="s">       </span><span class="c">% array[1..1, 1..3]</span><span class="s"></span>
<span class="p">[|</span><span class="s"> </span><span class="m">1</span><span class="s"> </span><span class="p">|</span><span class="s"> _ </span><span class="p">|</span><span class="s"> _ </span><span class="p">|]</span><span class="s">     </span><span class="c">% array[1..3, 1..1]</span><span class="s"></span>
</pre></div>
</div>
<p>In a 2d array literal, every sub-array must have the same length.</p>
<p>In a 2d array literal all elements must have the same type-inst, or
be coercible to the same type-inst (as in the last example above, where the
fixed integer <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="s"></span></code> will be coerced to a <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>).</p>
<p>The indices of a 2d array literal are implicitly <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="m">1,1</span><span class="p">)</span><span class="s">..</span><span class="p">(</span><span class="nv">m</span><span class="p">,</span><span class="nv">n</span><span class="p">)</span><span class="s"></span></code>,
where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">m</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">n</span><span class="s"></span></code> are determined by the shape of the literal.</p>
</div>
<div class="section" id="array-comprehensions">
<span id="spec-array-comprehensions"></span><h4>Array Comprehensions<a class="headerlink" href="#array-comprehensions" title="Permalink to this headline">¶</a></h4>
<p>Array comprehensions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;array-comp&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;|&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;]&quot;</span>
</pre></div>
</div>
<p>For example (with the literal equivalents on the right):</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="m">2</span><span class="o">*</span><span class="nv">i</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">]</span><span class="s">       </span><span class="c">% [2, 4, 6, 8, 10]</span><span class="s"></span>
</pre></div>
</div>
<p>Array comprehensions have more flexible type and inst requirements than set
comprehensions (see <a class="reference internal" href="#spec-set-comprehensions"><span class="std std-ref">Set Comprehensions</span></a>).</p>
<p>Array comprehensions are allowed over a variable set with finite type, the
result is an array of optional type, with length equal to the
cardinality of the upper bound of the variable set.
For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">opt</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="o">*</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>The length of array will be 5.</p>
<p>Array comprehensions are allowed where the where-expression is a <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.
Again the resulting array is of optional type, and of length
equal to that given by the generator expressions.
For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">opt</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="o">!=</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>The length of the array will be 10.</p>
<p>The indices of an evaluated simple array comprehension are implicitly
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="s"></span></code>, where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">n</span><span class="s"></span></code> is the length of the evaluated comprehension.</p>
</div>
<div class="section" id="array-access-expressions">
<span id="spec-array-access-expressions"></span><h4>Array Access Expressions<a class="headerlink" href="#array-access-expressions" title="Permalink to this headline">¶</a></h4>
<p>Array elements are accessed using square brackets after an expression:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;array-access-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;]&quot;</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">a1</span><span class="p">[</span><span class="m">1</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>If all the indices used in an array access are fixed, the type-inst of the
result is the same as the element type-inst.  However, if any
indices are not fixed, the type-inst of the result is the varified element
type-inst.  For example, if we have:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">2</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a2</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">];</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">i</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>then the type-inst of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">a2</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span><span class="s"></span></code> is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s"></span></code>.  If the element type-inst
is not varifiable, such an access causes a static error.</p>
<p>Multi dimensional arrays
are accessed using comma separated indices.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">3,1</span><span class="o">..</span><span class="m">3</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a3</span><span class="p">;</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">a3</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="m">2</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>Indices must match the index set type of the array. For example, an array
declared with an enum index set can only be accessed using indices from that
enum.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">X</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="nv">A</span><span class="p">,</span><span class="nv">B</span><span class="p">,</span><span class="nv">C</span><span class="p">};</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="nv">X</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">1,2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">a4</span><span class="p">[</span><span class="m">1</span><span class="p">];</span><span class="s">                  </span><span class="c">% wrong index type</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">z</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">a4</span><span class="p">[</span><span class="nv">B</span><span class="p">];</span><span class="s">                  </span><span class="c">% correct</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="array-slice-expressions">
<h4>Array Slice Expressions<a class="headerlink" href="#array-slice-expressions" title="Permalink to this headline">¶</a></h4>
<p>Arrays can be <em>sliced</em> in order to extract individual rows, columns or blocks. The syntax is that of an array access expression (see above), but where one or more of the expressions inside the square brackets are set-valued.</p>
<p>For example, the following extracts row 2 from a two-dimensional array:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">,</span><span class="m">4</span><span class="o">..</span><span class="m">8</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">row_2_of_x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">[</span><span class="m">2,4</span><span class="o">..</span><span class="m">8</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>Note that the resulting array <tt class="docutils literal">row_2_of_x</tt> will have index set <tt class="docutils literal">4..8</tt>.</p>
<p>A short-hand for all indices of a particular dimension is to use just dots:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">,</span><span class="m">4</span><span class="o">..</span><span class="m">8</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">row_2_of_x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="s">..</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>You can also restrict the index set by giving a sub-set of the original index set as the slice:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">,</span><span class="m">4</span><span class="o">..</span><span class="m">8</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">row_2_of_x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">[</span><span class="m">2,5</span><span class="o">..</span><span class="m">6</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>The resulting array <tt class="docutils literal">row_2_of_x</tt> will now have length 2 and index set <tt class="docutils literal">5..6</tt>.</p>
<p>The dots notation also allows for partial bounds, for example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">,</span><span class="m">4</span><span class="o">..</span><span class="m">8</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">row_2_of_x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="s">..</span><span class="m">6</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>The resulting array will have length 3 and index set <tt class="docutils literal">4..6</tt>. Of course <tt class="docutils literal">6..</tt> would also be allowed and result in an array with index set <tt class="docutils literal">6..8</tt>.</p>
</div>
<div class="section" id="annotation-literals">
<h4>Annotation Literals<a class="headerlink" href="#annotation-literals" title="Permalink to this headline">¶</a></h4>
<p>Literals of the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> type have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;ann-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;)&quot; </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">foo</span><span class="s"></span>
<span class="nf">cons</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="s"> </span><span class="nf">cons</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="nf">cons</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="nv">nil</span><span class="p">)))</span><span class="s"></span>
</pre></div>
</div>
<p>There is no way to inspect or deconstruct annotation literals in a MiniZinc
model;  they are intended to be inspected only by an implementation, e.g., to
direct compilation.</p>
</div>
<div class="section" id="if-then-else-expressions">
<h4>If-then-else Expressions<a class="headerlink" href="#if-then-else-expressions" title="Permalink to this headline">¶</a></h4>
<p>MiniZinc provides if-then-else expressions, which provide selection from two
alternatives based on a condition.  They have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;if&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;then&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;elseif&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;then&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="o">*</span><span class="s"> &quot;else&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;endif&quot;</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">&lt;=</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="k">then</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="k">else</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="k">endif</span><span class="s"></span>
<span class="k">if</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">&lt;</span><span class="s"> </span><span class="m">0</span><span class="s"> </span><span class="k">then</span><span class="s"> </span><span class="o">-</span><span class="m">1</span><span class="s"> </span><span class="k">elseif</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">&gt;</span><span class="s"> </span><span class="m">0</span><span class="s"> </span><span class="k">then</span><span class="s"> </span><span class="m">1</span><span class="s"> </span><span class="k">else</span><span class="s"> </span><span class="m">0</span><span class="s"> </span><span class="k">endif</span><span class="s"></span>
</pre></div>
</div>
<p>The presence of the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">endif</span><span class="s"></span></code> avoids possible ambiguity when an
if-then-else expression is part of a larger expression.</p>
<p>The type-inst of the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">if</span><span class="s"></span></code> expression must be <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> or
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.
The <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">then</span><span class="s"></span></code> and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">else</span><span class="s"></span></code> expressions must have the same type-inst, or be coercible to the
same type-inst, which is also the type-inst of the whole expression.</p>
<p>If the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">if</span><span class="s"></span></code> expression is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> then the type-inst of the
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">then</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">else</span><span class="s"></span></code> expressions must be varifiable.</p>
<p>If the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">if</span><span class="s"></span></code> expression is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> then
evaluation of if-then-else expressions is lazy: the condition is evaluated,
and then only one of the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">then</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">else</span><span class="s"></span></code> branches are evaluated,
depending on whether the condition succeeded or failed.
This is not the case if it is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.</p>
</div>
<div class="section" id="let-expressions">
<span id="spec-let-expressions"></span><h4>Let Expressions<a class="headerlink" href="#let-expressions" title="Permalink to this headline">¶</a></h4>
<p>Let expressions provide a way of introducing local names for one or more
expressions and local constraints
that can be used within another expression.  They are
particularly useful in user-defined operations.</p>
<p>Let expressions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;let-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;let&quot; &quot;{&quot; </span><span class="cs">&lt;let-item&gt;</span><span class="s"> &quot;;&quot; ... &quot;}&quot; &quot;in&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="cs">&lt;let-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;var-decl-item&gt;</span><span class="s"></span>
<span class="cs">             |</span><span class="s"> </span><span class="cs">&lt;constraint-item&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">4</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="nv">y</span><span class="p">;</span><span class="s"></span>
<span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
<span class="s">      </span><span class="k">constraint</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">&gt;=</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">/\</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">&gt;=</span><span class="s"> </span><span class="o">-</span><span class="nv">y</span><span class="s"> </span><span class="o">/\</span><span class="s"> </span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">\/</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="o">-</span><span class="nv">y</span><span class="p">);</span><span class="s"> </span><span class="p">}</span><span class="s"></span>
<span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="s"></span>
</pre></div>
</div>
<p>The scope of a let local variable covers:</p>
<ul class="simple">
<li>The type-inst and initialisation expressions of any subsequent variables
within the let expression (but not the variable’s own initialisation
expression).</li>
<li>The expression after the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code>, which is parsed as greedily as
possible.</li>
</ul>
<p>A variable can only be declared once in a let expression.</p>
<p>Thus in the following examples the first is acceptable but the rest are not:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="nv">y</span><span class="p">;</span><span class="s">  </span><span class="c">% ok</span><span class="s"></span>
<span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="nv">y</span><span class="p">;</span><span class="s">  </span><span class="c">% x not visible in y&#39;s defn.</span><span class="s"></span>
<span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s">                  </span><span class="c">% x not visible in x&#39;s defn.</span><span class="s"></span>
<span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">4</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s">      </span><span class="c">% x declared twice</span><span class="s"></span>
</pre></div>
</div>
<p>The initialiser for a let local variable can be omitted only if the variable
is a decision variable.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> ...</span><span class="p">;</span><span class="s">    </span><span class="c">% ok</span><span class="s"></span>
<span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s">     </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> ...</span><span class="p">;</span><span class="s">    </span><span class="c">% illegal</span><span class="s"></span>
</pre></div>
</div>
<p>The type-inst of the entire let expression is the type-inst of the expression
after the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">in</span><span class="s"></span></code> keyword.</p>
<p>There is a complication involving let expressions in negative contexts.  A
let expression occurs in a negative context if it occurs in an expression
of the form <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">X</span><span class="s"> </span><span class="o">&lt;-&gt;</span><span class="s"> </span><span class="nv">Y</span><span class="gr">}</span><span class="s"></span></code> or in the sub-expression
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">X</span><span class="s"></span></code> in <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">X</span><span class="s"> </span><span class="o">-&gt;</span><span class="s"> </span><span class="nv">Y</span><span class="s"></span></code> or <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">Y</span><span class="s"> </span><span class="o">&lt;-</span><span class="s"> </span><span class="nv">X</span><span class="s"></span></code>, or in a subexpression
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">bool2int</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span><span class="s"></span></code>.</p>
<p>If a let expression is used in a negative context, then any let-local
decision variables must be defined only in terms of non-local variables and
parameters.  This is because local variables are implicitly existentially
quantified, and if the let expression occurred in a negative context then
the local variables would be effectively universally quantified which is not
supported by MiniZinc.</p>
<p>Constraints in let expressions float to the nearest enclosing Boolean
context.  For example</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">constraint</span><span class="s"> </span><span class="nv">b</span><span class="s"> </span><span class="o">-&gt;</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="m">0</span><span class="o">..</span><span class="m">2</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="p">;</span><span class="s"> </span><span class="k">constraint</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">!=</span><span class="s"> </span><span class="o">-</span><span class="m">1</span><span class="p">;}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">&gt;=</span><span class="s"> </span><span class="m">4</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="m">0</span><span class="o">..</span><span class="m">2</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="p">;</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="nv">b</span><span class="s"> </span><span class="o">-&gt;</span><span class="s"> </span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">&gt;=</span><span class="s"> </span><span class="m">4</span><span class="s"> </span><span class="o">/\</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">!=</span><span class="s"> </span><span class="m">1</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>For backwards compatibility with older versions of MiniZinc, items inside the <tt class="docutils literal">let</tt> can also be separated by commas instead of semicolons.</p>
</div>
<div class="section" id="call-expressions">
<h4>Call Expressions<a class="headerlink" href="#call-expressions" title="Permalink to this headline">¶</a></h4>
<p>Call expressions are used to call predicates and functions.</p>
<p>Call expressions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;call-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;)&quot; </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nb">min</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="s"> </span><span class="m">5</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>The type-insts of the expressions passed as arguments must match the
argument types of the called predicate/function.  The return type of the
predicate/function must also be appropriate for the calling context.</p>
<p>Note that a call to a function or predicate with no arguments is
syntactically indistinguishable from the use of a variable, and so must be
determined during type-inst checking.</p>
<p>Evaluation of the arguments in call expressions is strict: all arguments
are evaluated before the call itself is evaluated.  Note that this includes
Boolean operations such as <tt class="docutils literal">/\</tt>, <tt class="docutils literal">\/</tt>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-&gt;</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-</span><span class="s"></span></code>
which could be lazy in one argument.  The one exception is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">assert</span><span class="s"></span></code>,
which is lazy in its third argument (<a class="reference internal" href="#spec-other-operations"><span class="std std-ref">Other Operations</span></a>).</p>
<p><em>Rationale: Boolean operations are strict because: (a) this minimises
exceptional cases;  (b) in an expression like</em> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">A</span><span class="s"> </span><span class="o">-&gt;</span><span class="s"> </span><span class="nv">B</span><span class="s"></span></code> <em>where</em>
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">A</span><span class="s"></span></code> <em>is not fixed and</em> <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">B</span><span class="s"></span></code> <em>causes an abort, the appropriate
behaviour is unclear if laziness is present;  and (c) if a user needs
laziness, an if-then-else can be used.</em></p>
<p>The order of argument evaluation is not specified.  <em>Rationale: Because MiniZinc
is declarative, there is no obvious need to specify an evaluation order, and
leaving it unspecified gives implementors some freedom.</em></p>
</div>
<div class="section" id="generator-call-expressions">
<span id="spec-generator-call-expressions"></span><h4>Generator Call Expressions<a class="headerlink" href="#generator-call-expressions" title="Permalink to this headline">¶</a></h4>
<p>MiniZinc has special syntax for certain kinds of call expressions which makes
models much more readable.</p>
<p>Generator call expressions have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;)&quot; &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span>
</pre></div>
</div>
<p>A generator call expression <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">P</span><span class="p">(</span><span class="nv">Gs</span><span class="p">)(</span><span class="nv">E</span><span class="p">)</span><span class="s"></span></code> is equivalent to the call
expression <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">P</span><span class="p">([</span><span class="nv">E</span><span class="s"> </span><span class="p">|</span><span class="s"> </span><span class="nv">Gs</span><span class="p">])</span><span class="s"></span></code>.
For example, the expression:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">forall</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="nv">j</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">Domain</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="nv">i</span><span class="o">&lt;</span><span class="nv">j</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="p">(</span><span class="nf">noattack</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="s"> </span><span class="nv">j</span><span class="p">,</span><span class="s"> </span><span class="nv">queens</span><span class="p">[</span><span class="nv">i</span><span class="p">],</span><span class="s"> </span><span class="nv">queens</span><span class="p">[</span><span class="nv">j</span><span class="p">]));</span><span class="s"></span>
</pre></div>
</div>
<p>(in a model specifying the N-queens problem) is equivalent to:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">forall</span><span class="p">(</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="nf">noattack</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="s"> </span><span class="nv">j</span><span class="p">,</span><span class="s"> </span><span class="nv">queens</span><span class="p">[</span><span class="nv">i</span><span class="p">],</span><span class="s"> </span><span class="nv">queens</span><span class="p">[</span><span class="nv">j</span><span class="p">])</span><span class="s"></span>
<span class="s">        </span><span class="p">|</span><span class="s"> </span><span class="nv">i</span><span class="p">,</span><span class="nv">j</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">Domain</span><span class="s"> </span><span class="k">where</span><span class="s"> </span><span class="nv">i</span><span class="o">&lt;</span><span class="nv">j</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>The parentheses around the latter expression are mandatory;  this avoids
possible confusion when the generator call expression is part of a larger
expression.</p>
<p>The identifier must be the name of a unary predicate or function that takes
an array argument.</p>
<p>The generators and where-expression (if present) have the same requirements
as those in array comprehensions (<a class="reference internal" href="#spec-array-comprehensions"><span class="std std-ref">Array Comprehensions</span></a>).</p>
</div>
</div>
</div>
<div class="section" id="items">
<span id="spec-items"></span><h2>4.1.8. Items<a class="headerlink" href="#items" title="Permalink to this headline">¶</a></h2>
<p>This section describes the top-level program items.</p>
<div class="section" id="include-items">
<span id="spec-include-items"></span><h3>4.1.8.1. Include Items<a class="headerlink" href="#include-items" title="Permalink to this headline">¶</a></h3>
<p>Include items allow a model to be split across multiple files.  They have
this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;include-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;include&quot; </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">include</span><span class="s"> &quot;foo.mzn&quot;</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>includes the file <tt class="docutils literal">foo.mzn</tt>.</p>
<p>Include items are particularly useful for accessing libraries or breaking up
large models into small pieces.  They are not, as <a class="reference internal" href="#spec-model-instance-files"><span class="std std-ref">Model Instance Files</span></a>
explains, used for specifying data files.</p>
<p>If the given name is not a complete path then the file is searched for in an
implementation-defined set of directories.  The search directories must be
able to be altered with a command line option.</p>
</div>
<div class="section" id="variable-declaration-items">
<span id="spec-declarations"></span><h3>4.1.8.2. Variable Declaration Items<a class="headerlink" href="#variable-declaration-items" title="Permalink to this headline">¶</a></h3>
<p>Variable declarations have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;var-decl-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">A</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">10</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>It is a type-inst error if a variable is declared and/or defined more than
once in a model.</p>
<p>A variable whose declaration does not include an assignment can be
initialised by a separate assignment item (<a class="reference internal" href="#spec-assignments"><span class="std std-ref">Assignment Items</span></a>).  For
example, the above item can be separated into the following two items:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">A</span><span class="p">;</span><span class="s"></span>
<span class="s">...</span>
<span class="nv">A</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">10</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>All variables that contain a parameter component must be defined at
instance-time.</p>
<p>Variables can have one or more annotations.
<a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> has more on annotations.</p>
</div>
<div class="section" id="enum-items">
<span id="spec-enum-items"></span><h3>4.1.8.3. Enum Items<a class="headerlink" href="#enum-items" title="Permalink to this headline">¶</a></h3>
<p>Enumerated type items have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;enum-item&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> &quot;enum&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;enum-cases&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;enum-cases&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;,&quot; ... &quot;}&quot;</span>
</pre></div>
</div>
<p>An example of an enum:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">country</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="nv">Australia</span><span class="p">,</span><span class="s"> </span><span class="nv">Canada</span><span class="p">,</span><span class="s"> </span><span class="nv">China</span><span class="p">,</span><span class="s"> </span><span class="nv">England</span><span class="p">,</span><span class="s"> </span><span class="nv">USA</span><span class="p">};</span><span class="s"></span>
</pre></div>
</div>
<p>Each alternative is called an <em>enum case</em>.  The identifier used to name
each case (e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">Australia</span><span class="s"></span></code>) is
called the <em>enum case name</em>.</p>
<p>Because enum case names all reside in the top-level namespace
(<a class="reference internal" href="#spec-namespaces"><span class="std std-ref">Namespaces</span></a>), case names in different enums must be distinct.</p>
<p>An enum can be declared but not defined, in which case it must be defined
elsewhere within the model, or in a data file.
For example, a model file could contain this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">Workers</span><span class="p">;</span><span class="s"></span>
<span class="kt">enum</span><span class="s"> </span><span class="nv">Shifts</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>and the data file could contain this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">Workers</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="nv">welder</span><span class="p">,</span><span class="s"> </span><span class="nv">driller</span><span class="p">,</span><span class="s"> </span><span class="nv">stamper</span><span class="s"> </span><span class="p">};</span><span class="s"></span>
<span class="nv">Shifts</span><span class="s">  </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="nv">idle</span><span class="p">,</span><span class="s"> </span><span class="nv">day</span><span class="p">,</span><span class="s"> </span><span class="nv">night</span><span class="s"> </span><span class="p">};</span><span class="s"></span>
</pre></div>
</div>
<p>Sometimes it is useful to be able to refer to one of the enum case names
within the model.  This can be achieved by using a variable.  The model
would read:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">Shifts</span><span class="p">;</span><span class="s"></span>
<span class="nv">Shifts</span><span class="p">:</span><span class="s"> </span><span class="nv">idle</span><span class="p">;</span><span class="s">            </span><span class="c">% Variable representing the idle constant.</span><span class="s"></span>
</pre></div>
</div>
<p>and the data file:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">enum</span><span class="s"> </span><span class="nv">Shifts</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="nv">idle_const</span><span class="p">,</span><span class="s"> </span><span class="nv">day</span><span class="p">,</span><span class="s"> </span><span class="nv">night</span><span class="s"> </span><span class="p">};</span><span class="s"></span>
<span class="nv">idle</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">idle_const</span><span class="p">;</span><span class="s">      </span><span class="c">% Assignment to the variable.</span><span class="s"></span>
</pre></div>
</div>
<p>Although the constant <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">idle_const</span><span class="s"></span></code> cannot be mentioned in the
model, the variable <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">idle</span><span class="s"></span></code> can be.</p>
<p>All enums must be defined at instance-time.</p>
<p>Enum items can be annotated.
<a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> has more details on annotations.</p>
<p>Each case name can be coerced automatically to the integer corresponding to its index in the type.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">oz</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">Australia</span><span class="p">;</span><span class="s">  </span><span class="c">% oz = 1</span><span class="s"></span>
</pre></div>
</div>
<p>For each enumerated type <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">T</span><span class="s"></span></code>, the following functions exist:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="c">% Return next greater enum value of x in enum type X</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">enum_next</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">enum_next</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>

<span class="c">% Return next smaller enum value of x in enum type X</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">enum_prev</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">enum_prev</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>

<span class="c">% Convert x to enum type X</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">to_enum</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">to_enum</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">X</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="assignment-items">
<span id="spec-assignments"></span><h3>4.1.8.4. Assignment Items<a class="headerlink" href="#assignment-items" title="Permalink to this headline">¶</a></h3>
<p>Assignments have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;assign-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">A</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">10</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="constraint-items">
<span id="spec-constraint-items"></span><h3>4.1.8.5. Constraint Items<a class="headerlink" href="#constraint-items" title="Permalink to this headline">¶</a></h3>
<p>Constraint items form the heart of a model.  Any solutions found for a model
will satisfy all of its constraints.</p>
<p>Constraint items have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;constraint-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;constraint&quot; </span><span class="cs">&lt;string-annotation&gt;</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">constraint</span><span class="s"> </span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="s"> </span><span class="o">&lt;</span><span class="s"> </span><span class="nv">b</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>The expression in a constraint item must have type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code> or
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>; note however that constraints with fixed expressions are
not very useful.</p>
</div>
<div class="section" id="solve-items">
<span id="spec-solve-items"></span><h3>4.1.8.6. Solve Items<a class="headerlink" href="#solve-items" title="Permalink to this headline">¶</a></h3>
<p>Every model must have exactly one or no solve item.  Solve items have the
following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;solve-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;satisfy&quot;</span>
<span class="cs">               |</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;minimize&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
<span class="cs">               |</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;maximize&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>Example solve items:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">solve</span><span class="s"> </span><span class="k">satisfy</span><span class="p">;</span><span class="s"></span>
<span class="k">solve</span><span class="s"> </span><span class="k">maximize</span><span class="s"> </span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">-</span><span class="s"> </span><span class="m">3</span><span class="o">*</span><span class="nv">z</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>The solve item determines whether the model represents a constraint
satisfaction problem or an optimisation problem.  If there is no solve item, the model is assumed to be a satisfaction problem.
For optimisation problems, the given expression is the one to be minimized/maximized.</p>
<p>The expression in a <tt class="docutils literal">minimize</tt>/<tt class="docutils literal">maximize</tt> solve item can have integer or float type.</p>
<p><em>Rationale: This is possible because all type-insts have a defined order.</em>
Note that having an expression with a fixed type-inst in a solve item is not
very useful as it means that the model requires no optimisation.</p>
<p>Solve items can be annotated.  <a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> has more details on
annotations.</p>
</div>
<div class="section" id="output-items">
<span id="spec-output-items"></span><h3>4.1.8.7. Output Items<a class="headerlink" href="#output-items" title="Permalink to this headline">¶</a></h3>
<p>Output items are used to present the solutions of a model instance.
They have the following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;output-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;output&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">output</span><span class="s"> </span><span class="p">[</span><span class="s">&quot;The value of x is &quot;</span><span class="p">,</span><span class="s"> </span><span class="nb">show</span><span class="p">(</span><span class="nv">x</span><span class="p">),</span><span class="s"> &quot;!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>The expression must have type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">par</span><span class="s"> </span><span class="kt">string</span><span class="s"></span></code>. It can
be composed using the built-in operator <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">++</span><span class="s"></span></code> and the built-in functions
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">show</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">show_int</span><span class="s"></span></code>, and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">show_float</span><span class="s"></span></code> (<a class="reference internal" href="#spec-builtins"><span class="std std-ref">Built-in Operations</span></a>),
as well as string interpolations
(<a class="reference internal" href="#spec-string-interpolation-expressions"><span class="std std-ref">String Literals and String Interpolation</span></a>). The output is the
concatenation of the elements of the array. If multiple output items exist,
the output is the concatenation of all of their outputs, in the order in
which they appear in the model.</p>
<p>If no output item is present,
the implementation should print all the global variables and their values
in a readable format.</p>
</div>
<div class="section" id="annotation-items">
<span id="spec-annotation-items"></span><h3>4.1.8.8. Annotation Items<a class="headerlink" href="#annotation-items" title="Permalink to this headline">¶</a></h3>
<p>Annotation items are used to augment the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> type.  They have the
following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;annotation-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;annotation&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;params&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">annotation</span><span class="s"> </span><span class="nf">solver</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">kind</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>It is a type-inst error if an annotation is declared and/or defined more
than once in a model.</p>
<p>The use of annotations is described in <a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a>.</p>
</div>
<div class="section" id="user-defined-operations">
<span id="spec-preds-and-fns"></span><h3>4.1.8.9. User-defined Operations<a class="headerlink" href="#user-defined-operations" title="Permalink to this headline">¶</a></h3>
<p>MiniZinc models can contain user-defined operations.  They have this syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;predicate-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;predicate&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;test-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;test&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;function-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;function&quot; </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;:&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;operation-item-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;params&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;params&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">)</span><span class="s"> </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
<p>The type-inst expressions can include type-inst variables in
the function and predicate declaration.</p>
<p>For example, predicate <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">even</span><span class="s"></span></code> checks that its argument is an even
number.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">even</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"></span>
<span class="s">    </span><span class="nv">x</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="m">2</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>A predicate supported natively by the target solver can be declared as
follows:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="bp">alldifferent</span><span class="p">(</span><span class="kt">array</span><span class="s"> </span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">xs</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>Predicate declarations that are natively supported
in MiniZinc are restricted to using FlatZinc
types (for instance, multi-dimensional and non-1-based arrays are
forbidden).
.. % pjs{need to fix this if we allow2d arrays in FlatZinc!}</p>
<p>Declarations for user-defined operations can be annotated.
<a class="reference internal" href="#spec-annotations"><span class="std std-ref">Annotations</span></a> has more details on annotations.</p>
<div class="section" id="basic-properties">
<span id="spec-basic-properties"></span><h4>Basic Properties<a class="headerlink" href="#basic-properties" title="Permalink to this headline">¶</a></h4>
<p>The term “predicate” is generally used to refer to both test items and
predicate items.  When the two kinds must be distinguished, the terms
“test item” and “predicate item” can be used.</p>
<p>The return type-inst of a test item is implicitly <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.  The
return type-inst of a predicate item is implicitly <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="s"></span></code>.</p>
<p>Predicates and functions are allowed to be recursive. Termination of
a recursive function call depends solely on its fixed arguments, i.e.,
recursive functions and predicates cannot be used to define recursively
constrained variables.
.. % Rationale{This ensures that the satisfiability of models is decidable.}</p>
<p>Predicates and functions introduce their own local names, being those of the
formal arguments.  The scope of these names covers the predicate/function
body.  Argument names cannot be repeated within a predicate/function
declaration.</p>
</div>
<div class="section" id="ad-hoc-polymorphism">
<h4>Ad-hoc polymorphism<a class="headerlink" href="#ad-hoc-polymorphism" title="Permalink to this headline">¶</a></h4>
<p>MiniZinc supports ad-hoc polymorphism via overloading.  Functions
and predicates (both built-in and user-defined) can be overloaded.  A name
can be overloaded as both a function and a predicate.</p>
<p>It is a type-inst error if a single version of an overloaded operation with
a particular type-inst signature is defined more than once
in a model.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">predicate</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="l">false</span><span class="p">;</span><span class="s">       </span><span class="c">% ok:     first definition</span><span class="s"></span>
<span class="k">predicate</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="l">true</span><span class="p">;</span><span class="s">        </span><span class="c">% error:  repeated definition</span><span class="s"></span>
</pre></div>
</div>
<p>The combination of overloading and coercions can cause problems.
Two overloadings of an operation are said to <em>overlap</em> if they could match
the same arguments.  For example, the following overloadings of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">p</span><span class="s"></span></code>
overlap, as they both match the call <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">p</span><span class="p">(</span><span class="m">3</span><span class="p">)</span><span class="s"></span></code>.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="kt">par</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">predicate</span><span class="s"> </span><span class="nf">p</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>However, the following two predicates do not overlap because they cannot
match the same argument:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">q</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s">        </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">predicate</span><span class="s"> </span><span class="nf">q</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>We avoid two potential overloading problems by placing some restrictions on
overlapping overloadings of operations.</p>
<ol class="arabic">
<li><p class="first">The first problem is ambiguity.  Different placement of coercions in
operation arguments may allow different choices for the overloaded function.
For instance, if a MiniZinc function <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">f</span><span class="s"></span></code> is overloaded like this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">,</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="p">;</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">1</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>then <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">f</span><span class="p">(</span><span class="m">3,3</span><span class="p">)</span><span class="s"></span></code> could be either 0 or 1 depending on
coercion/overloading choices.</p>
<p>To avoid this problem, any overlapping overloadings of an operation must
be semantically equivalent with respect to coercion.  For example, the
two overloadings of the predicate <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">p</span><span class="s"></span></code> above must have bodies that are
semantically equivalent with respect to overloading.</p>
<p>Currently, this requirement is not checked and the modeller must satisfy it
manually.  In the future, we may require the sharing of bodies among
different versions of overloaded operations, which would provide automatic
satisfaction of this requirement.</p>
</li>
<li><p class="first">The second problem is that certain combinations of overloadings could
require a MiniZinc implementation to perform combinatorial search in
order to explore different choices of coercions and overloading.  For
example, if function <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">g</span><span class="s"></span></code> is overloaded like this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">t1</span><span class="p">,</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">t2</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">t2</span><span class="p">;</span><span class="s"></span>
<span class="k">function</span><span class="s"> </span><span class="kt">int</span><span class="s">  </span><span class="p">:</span><span class="s"> </span><span class="nf">g</span><span class="p">(</span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">t1</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">t2</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">t1</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>then how the overloading of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">g</span><span class="p">(</span><span class="m">3,4</span><span class="p">)</span><span class="s"></span></code> is resolved depends upon its
context:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">s</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nf">g</span><span class="p">(</span><span class="m">3,4</span><span class="p">);</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">t</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nf">g</span><span class="p">(</span><span class="m">3,4</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>In the definition of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">s</span><span class="s"></span></code> the first overloaded definition must be used
while in the definition of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">t</span><span class="s"></span></code> the second must be used.</p>
<p>To avoid this problem, all overlapping overloadings of an operation must be
closed under intersection of their input type-insts.  That is, if overloaded
versions have input type-inst <span class="math notranslate nohighlight">\((S_1,....,S_n)\)</span> and <span class="math notranslate nohighlight">\((T_1,...,T_n)\)</span> then
there must be another overloaded version with input type-inst
<span class="math notranslate nohighlight">\((R_1,...,R_n)\)</span> where each <span class="math notranslate nohighlight">\(R_i\)</span> is the greatest lower bound (<em>glb</em>) of
<span class="math notranslate nohighlight">\(S_i\)</span> and <span class="math notranslate nohighlight">\(T_i\)</span>.</p>
<p>Also, all overlapping overloadings of an operation must be monotonic.  That
is, if there are overloaded versions with input type-insts <span class="math notranslate nohighlight">\((S_1,....,S_n)\)</span>
and <span class="math notranslate nohighlight">\((T_1,...,T_n)\)</span> and output type-inst <span class="math notranslate nohighlight">\(S\)</span> and <span class="math notranslate nohighlight">\(T\)</span>, respectively, then
<span class="math notranslate nohighlight">\(S_i \preceq T_i\)</span> for all <span class="math notranslate nohighlight">\(i\)</span>, implies <span class="math notranslate nohighlight">\(S \preceq T\)</span>.  At call sites, the
matching overloading that is lowest on the type-inst lattice is always used.</p>
<p>For <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">g</span><span class="s"></span></code> above, the type-inst intersection (or <em>glb</em>) of
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">float</span><span class="p">)</span><span class="s"></span></code>  and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="kt">float</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span><span class="s"></span></code> is
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span><span class="s"></span></code>.  Thus, the overloaded versions are not closed under
intersection and the user needs to provide another overloading for
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">g</span><span class="s"></span></code> with input type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span><span class="s"></span></code>.  The natural
definition is:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">t1</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">t2</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nv">t1</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>Once <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">g</span><span class="s"></span></code> has been augmented with the third overloading, it satisfies
the monotonicity requirement because the output type-inst of the third
overloading is <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">int</span><span class="s"></span></code> which is less than the output
type-inst of the original overloadings.</p>
<p>Monotonicity and closure under type-inst conjunction ensure that whenever an
overloaded function or predicate is reached during type-inst checking, there
is always a unique and safe “minimal” version to choose, and so the
complexity of type-inst checking remains linear.  Thus in our example
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nf">g</span><span class="p">(</span><span class="m">3,4</span><span class="p">)</span><span class="s"></span></code> is always resolved by choosing the new overloaded
definition.</p>
</li>
</ol>
</div>
<div class="section" id="local-variables">
<h4>Local Variables<a class="headerlink" href="#local-variables" title="Permalink to this headline">¶</a></h4>
<p>Local variables in operation bodies are introduced using let expressions.
For example, the predicate <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">have_common_divisor</span><span class="s"></span></code> takes two
integer values and checks whether they have a common divisor greater than
one:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">have_common_divisor</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">A</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">B</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"></span>
<span class="s">    </span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"></span>
<span class="s">        </span><span class="kt">var</span><span class="s"> </span><span class="m">2</span><span class="o">..</span><span class="nb">min</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span><span class="nv">B</span><span class="p">):</span><span class="s"> </span><span class="nv">C</span><span class="p">;</span><span class="s"></span>
<span class="s">    </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"></span>
<span class="s">        </span><span class="nv">A</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="nv">C</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="s"> </span><span class="o">/\</span><span class="s"></span>
<span class="s">        </span><span class="nv">B</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="nv">C</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>However, as <a class="reference internal" href="#spec-let-expressions"><span class="std std-ref">Let Expressions</span></a> explained, because <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">C</span><span class="s"></span></code> is
not defined, this predicate cannot be called in a negative context.  The
following is a version that could be called in a negative context:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span><span class="s"> </span><span class="nf">have_common_divisor</span><span class="p">(</span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">A</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">B</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"></span>
<span class="s">    </span><span class="nf">exists</span><span class="p">(</span><span class="nv">C</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">2</span><span class="o">..</span><span class="nb">min</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span><span class="nv">B</span><span class="p">))</span><span class="s"></span>
<span class="s">        </span><span class="p">(</span><span class="nv">A</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="nv">C</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="s"> </span><span class="o">/\</span><span class="s"> </span><span class="nv">B</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="nv">C</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">0</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="annotations">
<span id="spec-annotations"></span><h2>4.1.9. Annotations<a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h2>
<p>Annotations allow a modeller to specify
non-declarative and solver-specific information that is beyond the core
language.  Annotations do not change the meaning of a model, however, only
how it is solved.</p>
<p>Annotations can be attached to variables (on their declarations), constraints,
expressions, type-inst synonyms, enum items, solve items and on user
defined operations.
They have the following syntax:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;::&quot; </span><span class="cs">&lt;annotation&gt;</span><span class="s"> </span><span class="p">]</span><span class="o">*</span><span class="s"></span>

<span class="cs">&lt;annotation&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;string-annotation&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;::&quot; </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="p">::</span><span class="nv">foo</span><span class="p">;</span><span class="s"></span>
<span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">(</span><span class="m">3</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="m">4</span><span class="p">)::</span><span class="nf">bar</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s"> </span><span class="m">9</span><span class="p">)::</span><span class="nf">baz</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">);</span><span class="s"></span>
<span class="k">solve</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nf">blah</span><span class="p">(</span><span class="m">4</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="k">minimize</span><span class="s"> </span><span class="nv">x</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>The types of the argument expressions must match the argument types of the
declared annotation.  Like user-defined predicates and functions,
annotations can be overloaded.</p>
<p>Annotation signatures can contain type-inst variables.</p>
<p>The order and nesting of annotations do not matter.  For the expression case
it can be helpful to view the annotation connector <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">::</span><span class="s"></span></code> as an
overloaded operator:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">ann</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;::&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">e</span><span class="p">,</span><span class="s"> </span><span class="kt">ann</span><span class="p">:</span><span class="s"> </span><span class="nv">a</span><span class="p">);</span><span class="s">       </span><span class="c">% associative</span><span class="s"></span>
<span class="kt">ann</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;::&#39;</span><span class="p">(</span><span class="kt">ann</span><span class="p">:</span><span class="s">    </span><span class="nv">a</span><span class="p">,</span><span class="s"> </span><span class="kt">ann</span><span class="p">:</span><span class="s"> </span><span class="nv">b</span><span class="p">);</span><span class="s">       </span><span class="c">% associative + commutative</span><span class="s"></span>
</pre></div>
</div>
<p>Both operators are associative, the second is commutative.  This means that
the following expressions are all equivalent:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">a</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">b</span><span class="s"></span>
<span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">b</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">a</span><span class="s"></span>
<span class="p">(</span><span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">a</span><span class="p">)</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">b</span><span class="s"></span>
<span class="p">(</span><span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">b</span><span class="p">)</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">a</span><span class="s"></span>
<span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="p">(</span><span class="nv">a</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">b</span><span class="p">)</span><span class="s"></span>
<span class="nv">e</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="p">(</span><span class="nv">b</span><span class="s"> </span><span class="p">::</span><span class="s"> </span><span class="nv">a</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>This property also applies to annotations on solve items and variable
declaration items.  <em>Rationale: This property make things simple, as it
allows all nested combinations of annotations to be treated as if they are
flat, thus avoiding the need to determine what is the meaning of an
annotated annotation.  It also makes the MiniZinc abstract syntax tree simpler
by avoiding the need to represent nesting.</em></p>
<p>Annotations have to be values of the <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">ann</span><span class="s"></span></code> type or string literals. The
latter are used for <em>naming</em> constraints and expressions, for example</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">constraint</span><span class="s"> </span><span class="p">::</span><span class="s">&quot;first constraint&quot; </span><span class="bp">alldifferent</span><span class="p">(</span><span class="nv">x</span><span class="p">);</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="p">::</span><span class="s">&quot;second constraint&quot; </span><span class="bp">alldifferent</span><span class="p">(</span><span class="nv">y</span><span class="p">);</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="k">forall</span><span class="s"> </span><span class="p">(</span><span class="nv">i</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">)</span><span class="s"> </span><span class="p">(</span><span class="nf">my_constraint</span><span class="p">(</span><span class="nv">x</span><span class="p">[</span><span class="nv">i</span><span class="p">],</span><span class="nv">y</span><span class="p">[</span><span class="nv">i</span><span class="p">])::</span><span class="s">&quot;constraint </span><span class="p">\(</span><span class="nv">i</span><span class="p">)</span><span class="s">&quot;</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>Note that constraint items can <em>only</em> be annotated with string literals.</p>
<p><em>Rationale: Allowing arbitrary annotations on constraint items makes the grammar ambiguous, and seems unnecessary since we can just as well annotate the constraint expression.</em></p>
</div>
<div class="section" id="partiality">
<span id="spec-partiality"></span><h2>4.1.10. Partiality<a class="headerlink" href="#partiality" title="Permalink to this headline">¶</a></h2>
<p>The presence of constrained type-insts in MiniZinc means that
various operations are potentially <em>partial</em>, i.e., not clearly defined
for all possible inputs.  For example, what happens if a function expecting
a positive argument is passed a negative argument?  What happens if a
variable is assigned a value that does not satisfy its type-inst constraints?
What happens if an array index is out of bounds?  This section describes
what happens in all these cases.</p>
<p>In general, cases involving fixed values that do not satisfy constraints
lead to run-time aborts.
<em>Rationale: Our experience shows that if a fixed value fails a constraint, it
is almost certainly due to a programming error.  Furthermore, these cases
are easy for an implementation to check.</em></p>
<p>But cases involving unfixed values vary, as we will see.
<em>Rationale: The best thing to do for unfixed values varies from case to case.
Also, it is difficult to check constraints on unfixed values, particularly
because during search a decision variable might become fixed and then
backtracking will cause this value to be reverted, in which case aborting is
a bad idea.</em></p>
<div class="section" id="partial-assignments">
<h3>4.1.10.1. Partial Assignments<a class="headerlink" href="#partial-assignments" title="Permalink to this headline">¶</a></h3>
<p>The first operation involving partiality is assignment.  There are four
distinct cases for assignments.</p>
<ul>
<li><p class="first">A value assigned to a fixed, constrained global variable is checked at
run-time;  if the assigned value does not satisfy its constraints, it is
a run-time error.  In other words, this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>is equivalent to this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="nb">assert</span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">,</span><span class="s"></span>
<span class="s">                  &quot;assignment to global parameter &#39;x&#39; failed&quot;</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</li>
<li><p class="first">A value assigned to an unfixed, constrained global variable makes the
assignment act like a constraint;  if the assigned value does not
satisfy the variable’s constraints, it causes a run-time model failure.
In other words, this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>is equivalent to this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p><em>Rationale: This behaviour is easy to understand and easy to implement.</em></p>
</li>
<li><p class="first">A value assigned to a fixed, constrained let-local variable is checked at
run-time;  if the assigned value does not satisfy its constraints, it is
a run-time error.  In other words, this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="o">+</span><span class="m">1</span><span class="s"></span>
</pre></div>
</div>
<p>is equivalent to this:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"></span>
<span class="s">    </span><span class="nb">assert</span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">,</span><span class="s"></span>
<span class="s">           &quot;assignment to let parameter &#39;x&#39; failed&quot;</span><span class="p">,</span><span class="s"> </span><span class="nv">x</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</li>
<li><p class="first">A value assigned to an unfixed, constrained let-local variable makes the
assignment act like a constraint;  if the constraint fails at run-time, the
failure “bubbles up” to the nearest enclosing Boolean scope, where it
is interpreted as <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code>.</p>
<p><em>Rationale: This behaviour is consistent with assignments to global
variables.</em></p>
</li>
</ul>
<p>Note that in cases where a value is partly fixed and partly unfixed, e.g., some
arrays, the different elements are checked according to the different cases,
and fixed elements are checked before unfixed elements.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">u</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">6</span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">x</span><span class="p">,</span><span class="s"> </span><span class="k">let</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="kt">par</span><span class="s"> </span><span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">:</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">6</span><span class="p">;</span><span class="s"> </span><span class="p">}</span><span class="s"> </span><span class="k">in</span><span class="s"> </span><span class="nv">y</span><span class="gr">)</span><span class="s"> </span><span class="p">];</span><span class="s"></span>
</pre></div>
</div>
<p>This causes a run-time abort, because the second, fixed element is checked
before the first, unfixed element.  This ordering is true for the cases in the
following sections as well.  <em>Rationale: This ensures that failures cannot
mask aborts, which seems desirable.</em></p>
</div>
<div class="section" id="partial-predicate-function-and-annotation-arguments">
<h3>4.1.10.2. Partial Predicate/Function and Annotation Arguments<a class="headerlink" href="#partial-predicate-function-and-annotation-arguments" title="Permalink to this headline">¶</a></h3>
<p>The second kind of operation involving partiality is calls and annotations.</p>
<p>The semantics is similar to assignments:  fixed arguments that fail their constraints
will cause aborts, and unfixed arguments that fail their constraints will
cause failure, which bubbles up to the nearest enclosing Boolean scope.</p>
</div>
<div class="section" id="partial-array-accesses">
<h3>4.1.10.3. Partial Array Accesses<a class="headerlink" href="#partial-array-accesses" title="Permalink to this headline">¶</a></h3>
<p>The third kind of operation involving partiality is array access.  There
are two distinct cases.</p>
<ul>
<li><p class="first">A fixed value used as an array index is checked at run-time;  if the
index value is not in the index set of the array, it is a run-time
error.</p>
</li>
<li><p class="first">An unfixed value used as an array index makes the access act like a
constraint;  if the access fails at run-time, the failure “bubbles up”
to the nearest enclosing Boolean scope, where it is interpreted as
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code>.  For example:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="m">3</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">a</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">[</span><span class="m">1,2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">i</span><span class="p">;</span><span class="s"></span>
<span class="k">constraint</span><span class="s"> </span><span class="p">(</span><span class="nv">a</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="m">3</span><span class="p">)</span><span class="s"> </span><span class="o">&gt;</span><span class="s"> </span><span class="m">10</span><span class="s"> </span><span class="o">\/</span><span class="s"> </span><span class="nv">i</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">99</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>Here the array access fails, so the failure bubbles up to the
disjunction, and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">i</span><span class="s"></span></code> is constrained to be 99.
<em>Rationale: Unlike predicate/function calls, modellers in practice
sometimes do use array accesses that can fail.   In such cases, the
“bubbling up” behaviour is a reasonable one.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="built-in-operations">
<span id="spec-builtins"></span><h2>4.1.11. Built-in Operations<a class="headerlink" href="#built-in-operations" title="Permalink to this headline">¶</a></h2>
<p>This appendix lists built-in operators, functions and
predicates.  They may be implemented as true built-ins, or in libraries that
are automatically imported for all models.  Many of them are overloaded.</p>
<p>Operator names are written within single quotes when used in type
signatures, e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;\/&#39;</span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="s"> </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span></code>.</p>
<p>We use the syntax <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="p">:</span><span class="s"> </span><span class="nf">f</span><span class="p">(</span><span class="nv">TI1</span><span class="p">,</span><span class="s">...</span><span class="p">,</span><span class="nv">TIn</span><span class="p">)</span><span class="s"></span></code> to represent an operation
named <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">f</span><span class="s"></span></code> that takes arguments with type-insts <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="p">,</span><span class="s">...</span><span class="p">,</span><span class="nv">TIn</span><span class="s"></span></code>
and returns a value with type-inst <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">TI</span><span class="s"></span></code>.  This is slightly more
compact than the usual MiniZinc syntax, in that it omits argument names.</p>
<div class="section" id="comparison-operations">
<h3>4.1.11.1. Comparison Operations<a class="headerlink" href="#comparison-operations" title="Permalink to this headline">¶</a></h3>
<p>Less than.  Other comparisons are similar:
greater than (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&gt;</span><span class="s"></span></code>),
less than or equal (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=</span><span class="s"></span></code>),
greater than or equal (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&gt;=</span><span class="s"></span></code>),
equality (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">==</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">=</span><span class="s"></span></code>),
and disequality (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">!=</span><span class="s"></span></code>).</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;&lt;&#39;</span><span class="p">(</span><span class="s">    $</span><span class="nv">T</span><span class="p">,</span><span class="s">     $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;&lt;&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="arithmetic-operations">
<h3>4.1.11.2. Arithmetic Operations<a class="headerlink" href="#arithmetic-operations" title="Permalink to this headline">¶</a></h3>
<p>Addition.  Other numeric operations are similar:
subtraction (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-</span><span class="s"></span></code>), and
multiplication (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">*</span><span class="s"></span></code>).</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;+&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">,</span><span class="s">       </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;+&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s">   </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;+&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">float</span><span class="p">,</span><span class="s">     </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;+&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Unary minus.  Unary plus (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">+</span><span class="s"></span></code>) is similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;-&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;-&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;-&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;-&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Integer and floating-point division and modulo.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;div&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">,</span><span class="s">       </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;div&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s">   </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;mod&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">,</span><span class="s">       </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nf">&#39;mod&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s">   </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">&#39;/&#39;</span><span class="s">  </span><span class="p">(</span><span class="s">    </span><span class="kt">float</span><span class="p">,</span><span class="s">     </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nv">&#39;/&#39;</span><span class="s">  </span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>The result of the modulo operation, if non-zero, always has the same sign as
its first operand.  The integer division and modulo operations are connected
by the following identity:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="o">div</span><span class="s"> </span><span class="nv">y</span><span class="p">)</span><span class="s"> </span><span class="o">*</span><span class="s"> </span><span class="nv">y</span><span class="s"> </span><span class="o">+</span><span class="s"> </span><span class="p">(</span><span class="nv">x</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="nv">y</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Some illustrative examples:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s"> </span><span class="m">7</span><span class="s"> </span><span class="o">div</span><span class="s">  </span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s">  </span><span class="m">1</span><span class="s">        </span><span class="m">7</span><span class="s"> </span><span class="o">mod</span><span class="s">  </span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s">  </span><span class="m">3</span><span class="s"></span>
<span class="o">-</span><span class="m">7</span><span class="s"> </span><span class="o">div</span><span class="s">  </span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="o">-</span><span class="m">1</span><span class="s">       </span><span class="o">-</span><span class="m">7</span><span class="s"> </span><span class="o">mod</span><span class="s">  </span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="o">-</span><span class="m">3</span><span class="s"></span>
<span class="s"> </span><span class="m">7</span><span class="s"> </span><span class="o">div</span><span class="s"> </span><span class="o">-</span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="o">-</span><span class="m">1</span><span class="s">        </span><span class="m">7</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="o">-</span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="m">3</span><span class="s"></span>
<span class="o">-</span><span class="m">7</span><span class="s"> </span><span class="o">div</span><span class="s"> </span><span class="o">-</span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s">  </span><span class="m">1</span><span class="s">       </span><span class="o">-</span><span class="m">7</span><span class="s"> </span><span class="o">mod</span><span class="s"> </span><span class="o">-</span><span class="m">4</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="o">-</span><span class="m">3</span><span class="s"></span>
</pre></div>
</div>
<p>Sum multiple numbers.
Product (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">product</span><span class="s"></span></code>) is similar.  Note that the sum of an empty array
is 0, and the product of an empty array is 1.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">sum</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     </span><span class="kt">int</span><span class="s">  </span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">sum</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="s">  </span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sum</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sum</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Minimum of two values;  maximum (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">max</span><span class="s"></span></code>) is
similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s">     </span><span class="nb">min</span><span class="p">(</span><span class="s">    $</span><span class="nv">T</span><span class="p">,</span><span class="s">     $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nb">min</span><span class="p">(</span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Minimum of an array of values;  maximum (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">max</span><span class="s"></span></code>) is similar.
Aborts if the array is empty.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">U</span><span class="p">:</span><span class="s">     </span><span class="nb">min</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     $</span><span class="nv">U</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> $</span><span class="nv">U</span><span class="p">:</span><span class="s"> </span><span class="nb">min</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> $</span><span class="nv">U</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Minimum of a fixed set;  maximum (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">max</span><span class="s"></span></code>) is similar.
Aborts if the set is empty.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s">    </span><span class="nb">min</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Absolute value of a number.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">abs</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">abs</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">abs</span><span class="p">(</span><span class="s">    </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">abs</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Square root of a float.  Aborts if argument is negative.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="s">    </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Power operator.  E.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">pow</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="s"> </span><span class="m">5</span><span class="p">)</span><span class="s"></span></code> gives <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">32</span><span class="s"></span></code>.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">  </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">pow</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="s">       </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">pow</span><span class="p">(</span><span class="kt">float</span><span class="p">,</span><span class="s">     </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Natural exponent.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">exp</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">exp</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Natural logarithm.  Logarithm to base 10 (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">log10</span><span class="s"></span></code>) and logarithm to base
2 (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">log2</span><span class="s"></span></code>) are similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">ln</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">ln</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>General logarithm;  the first argument is the base.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">log</span><span class="p">(</span><span class="kt">float</span><span class="p">,</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Sine.  Cosine (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">cos</span><span class="s"></span></code>), tangent (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">tan</span><span class="s"></span></code>), inverse sine
(<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">asin</span><span class="s"></span></code>), inverse cosine (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">acos</span><span class="s"></span></code>), inverse tangent
(<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">atan</span><span class="s"></span></code>), hyperbolic sine (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">sinh</span><span class="s"></span></code>), hyperbolic cosine
(<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">cosh</span><span class="s"></span></code>), hyperbolic tangent (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">tanh</span><span class="s"></span></code>),
inverse hyperbolic sine (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">asinh</span><span class="s"></span></code>), inverse hyperbolic cosine
(<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">acosh</span><span class="s"></span></code>) and inverse hyperbolic tangent (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">atanh</span><span class="s"></span></code>) are similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sin</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">sin</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="logical-operations">
<h3>4.1.11.3. Logical Operations<a class="headerlink" href="#logical-operations" title="Permalink to this headline">¶</a></h3>
<p>Conjunction.  Other logical operations are similar:
disjunction (<tt class="docutils literal">\/</tt>)
reverse implication (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-</span><span class="s"></span></code>),
forward implication (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">-&gt;</span><span class="s"></span></code>),
bi-implication (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;-&gt;</span><span class="s"></span></code>),
exclusive disjunction (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">xor</span><span class="s"></span></code>),
logical negation (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">not</span><span class="s"></span></code>).</p>
<p>Note that the implication operators are not written
using <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">=&gt;</span><span class="s"></span></code>, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=&gt;</span><span class="s"></span></code> as is the case in some
languages.  This allows <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">&lt;=</span><span class="s"></span></code> to instead represent “less than or
equal”.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;/\&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">bool</span><span class="p">,</span><span class="s">     </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;/\&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Universal quantification.
Existential quantification (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">exists</span><span class="s"></span></code>) is similar.  Note that, when
applied to an empty list, <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="k">forall</span><span class="s"></span></code> returns <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">true</span><span class="s"></span></code>, and
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">exists</span><span class="s"></span></code> returns <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code>.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="k">forall</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="k">forall</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>N-ary exclusive disjunction.
N-ary bi-implication (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">iffall</span><span class="s"></span></code>) is similar, with <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">true</span><span class="s"></span></code> instead
of <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code>.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">xorall</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nv">bs</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nf">foldl</span><span class="p">(</span><span class="nv">&#39;xor&#39;</span><span class="p">,</span><span class="s"> </span><span class="l">false</span><span class="p">,</span><span class="s"> </span><span class="nv">bs</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">xorall</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nv">bs</span><span class="p">)</span><span class="s"> </span><span class="o">=</span><span class="s"> </span><span class="nf">foldl</span><span class="p">(</span><span class="nv">&#39;xor&#39;</span><span class="p">,</span><span class="s"> </span><span class="l">false</span><span class="p">,</span><span class="s"> </span><span class="nv">bs</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="set-operations">
<h3>4.1.11.4. Set Operations<a class="headerlink" href="#set-operations" title="Permalink to this headline">¶</a></h3>
<p>Set membership.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;in&#39;</span><span class="p">(</span><span class="s">     $</span><span class="nv">T</span><span class="p">,</span><span class="s">       </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="s"> </span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;in&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s">   </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Non-strict subset.  Non-strict superset (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">superset</span><span class="s"></span></code>) is similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;subset&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="s"> </span><span class="p">,</span><span class="s">     </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="s"> </span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;subset&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Set union.  Other set operations are similar:
intersection (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">intersect</span><span class="s"></span></code>),
difference (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">diff</span><span class="s"></span></code>),
symmetric difference (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="o">symdiff</span><span class="s"></span></code>).</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;union&#39;</span><span class="p">(</span><span class="s">    </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">T</span><span class="p">,</span><span class="s">     </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">T</span><span class="s"> </span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;union&#39;</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="s"> </span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Set range.  If the first argument is larger than the second
(e.g. <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="m">0</span><span class="s"></span></code>), it returns the empty set.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;..&#39;</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Cardinality of a set.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">card</span><span class="p">(</span><span class="s">    </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">card</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Union of an array of sets.
Intersection of multiple sets (<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">array_intersect</span><span class="s"></span></code>) is similar.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">U</span><span class="p">:</span><span class="s">    </span><span class="nb">array_union</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s">     </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s">  $</span><span class="nv">U</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">    </span><span class="nb">array_union</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="array-operations">
<h3>4.1.11.5. Array Operations<a class="headerlink" href="#array-operations" title="Permalink to this headline">¶</a></h3>
<p>Length of an array.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">length</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">U</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>List concatenation.  Returns the list (integer-indexed array) containing
all elements of the first argument followed by all elements of the
second argument, with elements occurring in the same order as
in the arguments.  The resulting indices are in the range <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="s"></span></code>,
where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">n</span><span class="s"></span></code> is the sum of the lengths of the arguments.
<em>Rationale: This allows list-like arrays to be concatenated naturally
and avoids problems with overlapping indices.  The resulting indices
are consistent with those of implicitly indexed array literals.</em>
Note that <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">&#39;++&#39;</span><span class="s"></span></code> also performs string concatenation.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;++&#39;</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">,</span><span class="s"> </span><span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Index sets of arrays.  If the argument is a literal, returns <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="s"></span></code>
where <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">n</span><span class="s"></span></code> is the (sub-)array length.  Otherwise, returns the declared
or inferred index set.  This list is only partial, it extends in the obvious
way, for arrays of higher dimensions.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s">  </span><span class="nb">index_set</span><span class="s">     </span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s">      </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
<span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s">  </span><span class="nb">index_set_1of2</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">,</span><span class="s"> $</span><span class="nv">U</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
<span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">U</span><span class="p">:</span><span class="s">  </span><span class="nb">index_set_2of2</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">,</span><span class="s"> $</span><span class="nv">U</span><span class="p">]</span><span class="s">  </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
<span class="s">...</span>
</pre></div>
</div>
<p>Replace the indices of the array given by the last argument with the
Cartesian product of the sets given by the previous arguments.  Similar
versions exist for arrays up to 6 dimensions.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T1</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">:</span><span class="s"> </span><span class="nb">array1d</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T1</span><span class="p">,</span><span class="s"> </span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">U</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T1</span><span class="p">,</span><span class="s">$</span><span class="nv">T2</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">:</span><span class="s"></span>
<span class="s">    </span><span class="nb">array2d</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T1</span><span class="p">,</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T2</span><span class="p">,</span><span class="s"> </span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">U</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T1</span><span class="p">,</span><span class="s">$</span><span class="nv">T2</span><span class="p">,</span><span class="s">$</span><span class="nv">T3</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">:</span><span class="s"></span>
<span class="s">    </span><span class="nb">array3d</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T1</span><span class="p">,</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T2</span><span class="p">,</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T3</span><span class="p">,</span><span class="s"> </span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">U</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">V</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="coercion-operations">
<h3>4.1.11.6. Coercion Operations<a class="headerlink" href="#coercion-operations" title="Permalink to this headline">¶</a></h3>
<p>Round a float towards <span class="math notranslate nohighlight">\(+\infty\)</span>, <span class="math notranslate nohighlight">\(-\infty\)</span>, and the nearest integer,
respectively.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">ceil</span><span class="s"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">floor</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">round</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Explicit casts from one type-inst to another.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">    </span><span class="kt">int</span><span class="p">:</span><span class="s">          </span><span class="nb">bool2int</span><span class="p">(</span><span class="s">    </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s">          </span><span class="nb">bool2int</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">)</span><span class="s"></span>
<span class="s">    </span><span class="kt">float</span><span class="p">:</span><span class="s">        </span><span class="nb">int2float</span><span class="p">(</span><span class="s">    </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">:</span><span class="s">        </span><span class="nb">int2float</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nb">set2array</span><span class="p">(</span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="string-operations">
<h3>4.1.11.7. String Operations<a class="headerlink" href="#string-operations" title="Permalink to this headline">¶</a></h3>
<p>To-string conversion.  Converts any value to a string for output purposes.
The exact form of the resulting string is implementation-dependent.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nb">show</span><span class="p">(</span><span class="s">$</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Formatted to-string conversion for integers.
Converts the integer given by the second argument into a string right justified
by the number of characters given by the first argument, or left justified
if that argument is negative.
If the second argument is not fixed, the form of the string is
implementation-dependent.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nb">show_int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>Formatted to-string conversion for floats.
Converts the float given by the third argument into a string right
justified by the number of characters given by the first argument, or left
justified if that argument is negative.
The number of digits to appear after the decimal point is given by
the second argument.
It is a run-time error for the second argument to be negative.
If the third argument is not fixed, the form of the string is
implementation-dependent.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nb">show_float</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">int</span><span class="p">,</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>String concatenation.  Note that <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">&#39;++&#39;</span><span class="s"></span></code> also performs array
concatenation.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nf">&#39;++&#39;</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="s"> </span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Concatenate an array of strings.
Equivalent to folding <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">&#39;++&#39;</span><span class="s"></span></code> over the array, but may be implemented more
efficiently.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nb">concat</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Concatenate an array of strings, putting a separator between adjacent strings.
Returns the the empty string if the array is empty.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">string</span><span class="p">:</span><span class="s"> </span><span class="nb">join</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="s"> </span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="bound-and-domain-operations">
<h3>4.1.11.8. Bound and Domain Operations<a class="headerlink" href="#bound-and-domain-operations" title="Permalink to this headline">¶</a></h3>
<p>The bound operations <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">lb</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">ub</span><span class="s"></span></code> return fixed, correct lower/upper bounds
to the expression.
For numeric types, they return a lower/upper bound value,
e.g. the lowest/highest value the expression can take.
For set types, they return a subset/superset,
e.g. the intersection/union of all possible values of the set expression.</p>
<p>The bound operations abort on expressions that have no corresponding finite bound.
For example, this would be the case for a variable declared without bounds
in an implementation that does not assign default bounds.
(Set expressions always have a finite lower bound of course,
namely <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="p">{}</span><span class="s"></span></code>, the empty set.)</p>
<p>Numeric lower/upper bound:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">lb</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">lb</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s">   </span><span class="nb">ub</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">float</span><span class="p">:</span><span class="s"> </span><span class="nb">ub</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Set lower/upper bound:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">lb</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">ub</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Versions of the bound operations that operate on arrays are also available,
they return a safe lower bound or upper bound for all members of the array
- they abort if the array is empty:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s">        </span><span class="nb">lb_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">float</span><span class="p">:</span><span class="s">      </span><span class="nb">lb_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">lb_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">int</span><span class="p">:</span><span class="s">        </span><span class="nb">ub_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
<span class="kt">float</span><span class="p">:</span><span class="s">      </span><span class="nb">ub_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">float</span><span class="p">)</span><span class="s"></span>
<span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">ub_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Integer domain:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">dom</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>The domain operation <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">dom</span><span class="s"></span></code> returns a fixed superset
of the possible values of the expression.</p>
<p>Integer array domain, returns a superset of all possible values that may
appear in the array - this aborts if the array is empty:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">dom_array</span><span class="p">(</span><span class="kt">array</span><span class="p">[</span><span class="s">$</span><span class="nv">T</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Domain size for integers:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nb">dom_size</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="kt">int</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>The domain size operation <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">dom_size</span><span class="s"></span></code> is equivalent
to <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nb">card</span><span class="p">(</span><span class="nb">dom</span><span class="p">(</span><span class="nv">x</span><span class="p">))</span><span class="s"></span></code>.</p>
<p>Note that these operations can produce different results depending on when
they are evaluated and what form the argument takes.  For example, consider
the numeric lower bound operation.</p>
<ul class="simple">
<li>If the argument is a fixed expression, the result is the argument’s
value.</li>
<li>If the argument is a decision variable, then the result depends on
the context.<ul>
<li>If the implementation can determine a lower bound for the variable,
the result is that lower bound.
The lower bound may be from the variable’s declaration,
or higher than that due to preprocessing,
or lower than that if an implementation-defined lower bound is applied
(e.g. if the variable was declared with no lower bound,
but the implementation imposes a lowest possible bound).</li>
<li>If the implementation cannot determine a lower bound for the variable,
the operation aborts.</li>
</ul>
</li>
<li>If the argument is any other kind of unfixed expression, the
lower bound depends on the bounds of unfixed subexpressions
and the connecting operators.</li>
</ul>
</div>
<div class="section" id="option-type-operations">
<span id="spec-option-type-operations"></span><h3>4.1.11.9. Option Type Operations<a class="headerlink" href="#option-type-operations" title="Permalink to this headline">¶</a></h3>
<p>The option type value (<span class="math notranslate nohighlight">\(\top\)</span>) is written</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s">  </span><span class="nv">&#39;&lt;&gt;&#39;</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>One can determine if an option type variable actually occurs or not using
<code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">occurs</span><span class="s"></span></code> and <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">absent</span><span class="s"></span></code></p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">occurs</span><span class="p">(</span><span class="kt">par</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">);</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">occurs</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">);</span><span class="s"></span>
<span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">absent</span><span class="p">(</span><span class="kt">par</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">);</span><span class="s"></span>
<span class="kt">var</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nf">absent</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
<p>One can return the non-optional value of an option type variable using the
function <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="nv">deopt</span><span class="s"></span></code></p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">par</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nv">deopt</span><span class="p">{</span><span class="kt">par</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="gr">)</span><span class="p">;</span><span class="s"></span>
<span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nf">deopt</span><span class="p">(</span><span class="kt">var</span><span class="s"> </span><span class="nv">opt</span><span class="s"> $</span><span class="nv">T</span><span class="p">);</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="other-operations">
<span id="spec-other-operations"></span><h3>4.1.11.10. Other Operations<a class="headerlink" href="#other-operations" title="Permalink to this headline">¶</a></h3>
<p>Check a Boolean expression is true, and abort if not, printing the second
argument as the error message.  The first one returns the third argument, and
is particularly useful for sanity-checking arguments to predicates and
functions;  importantly, its third argument is lazy, i.e. it is only evaluated
if the condition succeeds.  The second one returns <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">true</span><span class="s"></span></code> and is useful
for global sanity-checks (e.g. of instance data) in constraint items.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s">   </span><span class="nb">assert</span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="s"> </span><span class="kt">string</span><span class="p">,</span><span class="s"> </span><span class="nv">s</span><span class="s">$</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
<span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nb">assert</span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="s"> </span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Abort evaluation, printing the given string.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nb">abort</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Return true. As a side-effect, an implementation may print the first argument.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nb">trace</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Return the second argument.
As a side-effect, an implementation may print the first argument.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nb">trace</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>Check if the argument’s value is fixed at this point in evaluation.  If not,
abort; if so, return its value.  This is most useful in output items when
decision variables should be fixed: it allows them to be used in places
where a fixed value is needed, such as if-then-else conditions.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">T</span><span class="p">:</span><span class="s"> </span><span class="nb">fix</span><span class="p">(</span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
<p>As above, but return <code class="code mzn minizinc docutils literal highlight highlight-minizinc"><span></span><span class="l">false</span><span class="s"></span></code> if the argument’s value is not fixed.</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">par</span><span class="s"> </span><span class="kt">bool</span><span class="p">:</span><span class="s"> </span><span class="nb">is_fixed</span><span class="p">(</span><span class="kt">var</span><span class="s"> $</span><span class="nv">T</span><span class="p">)</span><span class="s"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="content-types">
<span id="spec-content-types"></span><h2>4.1.12. Content-types<a class="headerlink" href="#content-types" title="Permalink to this headline">¶</a></h2>
<p>The content-type <tt class="docutils literal">application/x-zinc-output</tt> defines
a text output format for Zinc.
The format extends the abstract syntax and semantics
given in <a class="reference internal" href="#spec-run-time-outcomes"><span class="std std-ref">Run-time Outcomes</span></a>,
and is discussed in detail in <a class="reference internal" href="#spec-output"><span class="std std-ref">Output</span></a>.</p>
<p>The full syntax is as follows:</p>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="c">% Output</span><span class="s"></span>
<span class="cs">&lt;output&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;no-solutions&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="cs">&lt;free-text&gt;</span><span class="s"></span>
<span class="cs">           |</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;solution&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">*</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;complete&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> </span><span class="cs">&lt;free-text&gt;</span><span class="s"></span>

<span class="c">% Solutions</span><span class="s"></span>
<span class="cs">&lt;solution&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;solution-text&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> \</span><span class="nv">n</span><span class="s"> </span><span class="p">]</span><span class="s"> &quot;----------&quot; \</span><span class="nv">n</span><span class="s"></span>

<span class="c">% Unsatisfiable</span><span class="s"></span>
<span class="cs">&lt;no-solutions&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;=====UNSATISFIABLE=====&quot; \</span><span class="nv">n</span><span class="s"></span>

<span class="c">% Complete</span><span class="s"></span>
<span class="cs">&lt;complete&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;==========&quot; \</span><span class="nv">n</span><span class="s"></span>

<span class="c">% Messages</span><span class="s"></span>
<span class="cs">&lt;warnings&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;message&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">+</span><span class="s"></span>

<span class="cs">&lt;message&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;line&gt;</span><span class="s"> </span><span class="p">)</span><span class="o">+</span><span class="s"></span>
<span class="cs">&lt;line&gt;</span><span class="s">     </span><span class="cs">::=</span><span class="s"> &quot;%&quot; </span><span class="sr">[^\n]</span><span class="o">*</span><span class="s"> \</span><span class="nv">n</span><span class="s"></span>
</pre></div>
</div>
<p>The solution text for each solution must be
as described in <a class="reference internal" href="#spec-output-items"><span class="std std-ref">Output Items</span></a>.
A newline must be appended if the solution text does not end with a newline.</p>
</div>
<div class="section" id="json-support">
<span id="spec-json"></span><h2>4.1.13. JSON support<a class="headerlink" href="#json-support" title="Permalink to this headline">¶</a></h2>
<p>MiniZinc can support reading input parameters and providing output formatted
as JSON objects. A JSON input file needs to have the following structure:</p>
<ul class="simple">
<li>Consist of a single top-level object</li>
<li>The members of the object (the key-value pairs) represent model parameters</li>
<li>Each member key must be a valid MiniZinc identifier (and it supplies the value for the corresponding parameter of the model)</li>
<li>Each member value can be one of the following:<ul>
<li>A string (assigned to a MiniZinc string parameter)</li>
<li>A number (assigned to a MiniZinc int or float parameter)</li>
<li>The values <tt class="docutils literal">true</tt> or <tt class="docutils literal">false</tt> (assigned to a MiniZinc bool parameter)</li>
<li>An array of values. Arrays of arrays are supported only if all inner arrays are of the same length, so that they can be mapped to multi-dimensional MiniZinc arrays.</li>
<li>A set of values encoded as an object with a single member with key <tt class="docutils literal">"set"</tt> and a list of values (the elements of the set).</li>
<li>A value of an enumerated type encoded as an object with a single member with key <tt class="docutils literal">"e"</tt> and a string value (the identifier of the enumerated value).</li>
</ul>
</li>
</ul>
<p>Assume a MiniZinc model declaring the following parameters:</p>
<div class="highlight-minizinc notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">n</span><span class="p">;</span><span class="s"></span>
<span class="kt">enum</span><span class="s"> </span><span class="nv">Customers</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">,</span><span class="nv">Customers</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">distances</span><span class="p">;</span><span class="s"></span>
<span class="kt">array</span><span class="p">[</span><span class="m">1</span><span class="o">..</span><span class="nv">n</span><span class="p">]</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">set</span><span class="s"> </span><span class="kt">of</span><span class="s"> </span><span class="kt">int</span><span class="p">:</span><span class="s"> </span><span class="nv">patterns</span><span class="p">;</span><span class="s"></span>
</pre></div>
</div>
<p>Here is an example of a JSON parameter file using all of the above features:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;n&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;Customers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="nt">&quot;e&quot;</span> <span class="p">:</span> <span class="s2">&quot;Customer A&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;e&quot;</span> <span class="p">:</span> <span class="s2">&quot;Customer B&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;e&quot;</span> <span class="p">:</span> <span class="s2">&quot;Customer C&quot;</span><span class="p">}</span> <span class="p">],</span>
  <span class="nt">&quot;distances&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span>
  <span class="nt">&quot;patterns&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="nt">&quot;set&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]},</span> <span class="p">{</span><span class="nt">&quot;set&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]}</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first parameter declares a simple integer <tt class="docutils literal">n</tt>. The <tt class="docutils literal">Customers</tt> parameter defines the members of an enumerated type. The
<tt class="docutils literal">distances</tt> parameter is a two-dimensional array; note that all inner
arrays must be of the same size in order to map to a (rectangular) MiniZinc
two-dimensional array. The <tt class="docutils literal">patterns</tt> parameter is an array of sets of integers.</p>
</div>
<div class="section" id="full-grammar">
<span id="spec-grammar"></span><h2>4.1.14. Full grammar<a class="headerlink" href="#full-grammar" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>4.1.14.1. Items<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="c">% A MiniZinc model</span><span class="s"></span>
<span class="cs">&lt;model&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;item&gt;</span><span class="s"> &quot;;&quot; ... </span><span class="p">]</span><span class="s"></span>

<span class="c">% Items</span><span class="s"></span>
<span class="cs">&lt;item&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;include-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;var-decl-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;enum-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;assign-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;constraint-item&gt;</span><span class="s"> </span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;solve-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;output-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;predicate-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;test-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;function-item&gt;</span><span class="s"></span>
<span class="cs">          |</span><span class="s"> </span><span class="cs">&lt;annotation-item&gt;</span><span class="s"></span>

<span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;:&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>

<span class="c">% Include items</span><span class="s"></span>
<span class="cs">&lt;include-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;include&quot; </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>

<span class="c">% Variable declaration items</span><span class="s"></span>
<span class="cs">&lt;var-decl-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="c">% Enum items</span><span class="s"></span>
<span class="cs">&lt;enum-item&gt;</span><span class="s">  </span><span class="cs">::=</span><span class="s"> &quot;enum&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;enum-cases&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;enum-cases&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;,&quot; ... &quot;}&quot;</span>

<span class="c">% Assign items</span><span class="s"></span>
<span class="cs">&lt;assign-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="c">% Constraint items</span><span class="s"></span>
<span class="cs">&lt;constraint-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;constraint&quot; </span><span class="cs">&lt;string-annotation&gt;</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="c">% Solve item</span><span class="s"></span>
<span class="cs">&lt;solve-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;satisfy&quot;</span>
<span class="cs">               |</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;minimize&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>
<span class="cs">               |</span><span class="s"> &quot;solve&quot; </span><span class="cs">&lt;annotations&gt;</span><span class="s"> &quot;maximize&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="c">% Output items</span><span class="s"></span>
<span class="cs">&lt;output-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;output&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="c">% Annotation items</span><span class="s"></span>
<span class="cs">&lt;annotation-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;annotation&quot; </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;params&gt;</span><span class="s"></span>

<span class="c">% Predicate, test and function items</span><span class="s"></span>
<span class="cs">&lt;predicate-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;predicate&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;test-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;test&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;function-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;function&quot; </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;:&quot; </span><span class="cs">&lt;operation-item-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;operation-item-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">&lt;params&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;=&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;params&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="p">(</span><span class="s"> </span><span class="cs">&lt;ti-expr-and-id&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">)</span><span class="s"> </span><span class="p">]</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="type-inst-expressions">
<h3>4.1.14.2. Type-Inst Expressions<a class="headerlink" href="#type-inst-expressions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
<span class="cs">            |</span><span class="s"> </span><span class="cs">&lt;array-ti-expr&gt;</span><span class="s"></span>

<span class="cs">&lt;base-ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;var-par&gt;</span><span class="s"> </span><span class="cs">&lt;opt-ti&gt;</span><span class="s"> </span><span class="cs">&lt;set-ti&gt;</span><span class="s"> </span><span class="cs">&lt;base-ti-expr-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;var-par&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;var&quot; </span><span class="gr">|</span><span class="s"> &quot;par&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;opt-ti&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;opt&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;set-ti&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;set&quot; &quot;of&quot; </span><span class="gr">|</span><span class="s"> ε</span>

<span class="cs">&lt;base-type&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;bool&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;int&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;float&quot;</span>
<span class="cs">              |</span><span class="s"> &quot;string&quot;</span>

<span class="cs">&lt;base-ti-expr-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;base-type&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;ti-variable-expr-tail&gt;</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> &quot;ann&quot;</span>
<span class="cs">                      |</span><span class="s"> </span><span class="p">{</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">}</span><span class="s"></span>
<span class="cs">                      |</span><span class="s"> </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> &quot;..&quot; </span><span class="cs">&lt;num-expr&gt;</span><span class="s"></span>

<span class="c">% Type-inst variables</span><span class="s"></span>
<span class="cs">&lt;ti-variable-expr-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> $</span><span class="sr">[A-Za-z][A-Za-z0-9_]</span><span class="o">*</span><span class="s"></span>

<span class="c">% Array type-inst expressions</span><span class="s"></span>
<span class="cs">&lt;array-ti-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;array&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;ti-expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;of&quot; </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> &quot;list&quot; &quot;of&quot; </span><span class="cs">&lt;base-ti-expr&gt;</span><span class="s"></span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>4.1.14.3. Expressions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom&gt;</span><span class="s"> </span><span class="cs">&lt;expr-binop-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-atom&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-binop-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;bin-op&gt;</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-un-op&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> &quot;_&quot;</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;bool-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;int-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;float-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;set-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;set-comp&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-literal-2d&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-comp&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;ann-literal&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;let-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;call-expr&gt;</span><span class="s"></span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"></span>

<span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> ε</span>
<span class="cs">                   |</span><span class="s"> </span><span class="cs">&lt;array-access-tail&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"></span>

<span class="c">% Numeric expressions</span><span class="s"></span>
<span class="cs">&lt;num-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;num-expr-atom&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr-binop-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;num-expr-atom&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;num-expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"> </span><span class="cs">&lt;annotations&gt;</span><span class="s"></span>

<span class="cs">&lt;num-expr-binop-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;num-bin-op&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"></span>

<span class="cs">&lt;num-expr-atom-head&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"> </span><span class="cs">&lt;num-expr-atom&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;num-expr&gt;</span><span class="s"> &quot;)&quot;</span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;int-literal&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;float-literal&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;let-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;call-expr&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> </span><span class="cs">&lt;gen-call-expr&gt;</span><span class="s"></span>

<span class="c">% Built-in operators</span><span class="s"></span>
<span class="cs">&lt;builtin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-un-op&gt;</span><span class="s"></span>

<span class="cs">&lt;bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> ‘</span><span class="cs">&lt;ident&gt;</span><span class="s">‘</span>

<span class="cs">&lt;builtin-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;&lt;-&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;-&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;-&quot; </span><span class="gr">|</span><span class="s"> &quot;\/&quot; </span><span class="gr">|</span><span class="s"> &quot;xor&quot; </span><span class="gr">|</span><span class="s"> &quot;/\&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&gt;&quot; </span><span class="gr">|</span><span class="s"> &quot;&lt;=&quot; </span><span class="gr">|</span><span class="s"> &quot;&gt;=&quot; </span><span class="gr">|</span><span class="s"> &quot;==&quot; </span><span class="gr">|</span><span class="s"> &quot;=&quot; </span><span class="gr">|</span><span class="s"> &quot;!=&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;in&quot; </span><span class="gr">|</span><span class="s"> &quot;subset&quot; </span><span class="gr">|</span><span class="s"> &quot;superset&quot; </span><span class="gr">|</span><span class="s"> &quot;union&quot; </span><span class="gr">|</span><span class="s"> &quot;diff&quot; </span><span class="gr">|</span><span class="s"> &quot;symdiff&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;..&quot; </span><span class="gr">|</span><span class="s"> &quot;intersect&quot; </span><span class="gr">|</span><span class="s"> &quot;++&quot; </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"></span>

<span class="cs">&lt;builtin-un-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;not&quot; </span><span class="gr">|</span><span class="s"> </span><span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"></span>

<span class="c">% Built-in numeric operators</span><span class="s"></span>
<span class="cs">&lt;num-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"> </span><span class="gr">|</span><span class="s"> ‘</span><span class="cs">&lt;ident&gt;</span><span class="s">‘</span>

<span class="cs">&lt;builtin-num-bin-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;+&quot; </span><span class="gr">|</span><span class="s"> &quot;-&quot; </span><span class="gr">|</span><span class="s"> &quot;*&quot; </span><span class="gr">|</span><span class="s"> &quot;/&quot; </span><span class="gr">|</span><span class="s"> &quot;div&quot; </span><span class="gr">|</span><span class="s"> &quot;mod&quot;</span>

<span class="cs">&lt;builtin-num-un-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;+&quot; </span><span class="gr">|</span><span class="s"> &quot;-&quot;</span>

<span class="c">% Boolean literals</span><span class="s"></span>
<span class="cs">&lt;bool-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;false&quot; </span><span class="gr">|</span><span class="s"> &quot;true&quot;</span>

<span class="c">% Integer literals</span><span class="s"></span>
<span class="cs">&lt;int-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                |</span><span class="s"> </span><span class="m">0</span><span class="s">x</span><span class="sr">[0-9A-Fa-f]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                |</span><span class="s"> </span><span class="m">0</span><span class="s">o</span><span class="sr">[0-7]</span><span class="o">+</span><span class="s"></span>

<span class="c">% Float literals</span><span class="s"></span>
<span class="cs">&lt;float-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9]</span><span class="o">+</span><span class="sr">[Ee][-+]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="sr">[0-9]</span><span class="o">+</span><span class="sr">[Ee][-+]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="m">0</span><span class="sr">[xX]</span><span class="p">(</span><span class="sr">[0-9a-fA-F]</span><span class="o">*</span><span class="s">&quot;.&quot;</span><span class="sr">[0-9a-fA-F]</span><span class="o">+</span><span class="gr">|</span><span class="sr">[0-9a-fA-F]</span><span class="o">+</span><span class="s">&quot;.&quot;</span><span class="p">)(</span><span class="sr">[pP][+-]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="p">)</span><span class="s"></span>
<span class="cs">                  |</span><span class="s"> </span><span class="p">(</span><span class="m">0</span><span class="sr">[xX][0-9a-fA-F]</span><span class="o">+</span><span class="sr">[pP][+-]</span><span class="s">?</span><span class="sr">[0-9]</span><span class="o">+</span><span class="p">)</span><span class="s"></span>

<span class="c">% String literals</span><span class="s"></span>
<span class="cs">&lt;string-contents&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">(</span><span class="sr">[^&quot;\n\]</span><span class="s"> </span><span class="gr">|</span><span class="s"> \</span><span class="sr">[^\n(]</span><span class="p">)</span><span class="o">*</span><span class="s"></span>

<span class="cs">&lt;string-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;&quot;&quot; </span><span class="cs">&lt;string-contents&gt;</span><span class="s"> &quot;&quot;&quot;</span>
<span class="cs">                   |</span><span class="s"> &quot;&quot;&quot; </span><span class="cs">&lt;string-contents&gt;</span><span class="s"> &quot;\(&quot; </span><span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span><span class="cs">&lt;string-contents&gt;</span><span class="s">&quot;&quot;&quot;</span>
<span class="cs">                            |</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span><span class="cs">&lt;string-contents&gt;</span><span class="s">&quot;\(&quot; </span><span class="cs">&lt;string-interpolate-tail&gt;</span><span class="s"></span>

<span class="c">% Set literals</span><span class="s"></span>
<span class="cs">&lt;set-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;}&quot;</span>

<span class="c">% Set comprehensions</span><span class="s"></span>
<span class="cs">&lt;set-comp&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;{&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;|&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;}&quot;</span>

<span class="cs">&lt;comp-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;generator&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;where&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="s"> &quot;,&quot; ...</span>

<span class="cs">&lt;generator&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> &quot;,&quot; ... &quot;in&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="c">% Array literals</span><span class="s"></span>
<span class="cs">&lt;array-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="p">[</span><span class="s"> </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... </span><span class="p">]</span><span class="s"> &quot;]&quot;</span>

<span class="c">% 2D Array literals</span><span class="s"></span>
<span class="cs">&lt;array-literal-2d&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[|&quot; </span><span class="p">[</span><span class="s"> </span><span class="p">(</span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ...</span><span class="p">)</span><span class="s"> &quot;|&quot; ... </span><span class="p">]</span><span class="s"> &quot;|]&quot;</span>

<span class="c">% Array comprehensions</span><span class="s"></span>
<span class="cs">&lt;array-comp&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;|&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;]&quot;</span>

<span class="c">% Array access</span><span class="s"></span>
<span class="cs">&lt;array-access-tail&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;[&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;]&quot;</span>

<span class="c">% Annotation literals</span><span class="s"></span>
<span class="cs">&lt;ann-literal&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;)&quot; </span><span class="p">]</span><span class="s"></span>

<span class="c">% If-then-else expressions</span><span class="s"></span>
<span class="cs">&lt;if-then-else-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;if&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;then&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;elseif&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;then&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> </span><span class="p">]</span><span class="o">*</span><span class="s"> &quot;else&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;endif&quot;</span>

<span class="c">% Call expressions</span><span class="s"></span>
<span class="cs">&lt;call-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;,&quot; ... &quot;)&quot; </span><span class="p">]</span><span class="s"></span>

<span class="c">% Let expressions</span><span class="s"></span>
<span class="cs">&lt;let-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;let&quot; &quot;{&quot; </span><span class="cs">&lt;let-item&gt;</span><span class="s"> &quot;;&quot; ... &quot;}&quot; &quot;in&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"></span>

<span class="cs">&lt;let-item&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;var-decl-item&gt;</span><span class="s"></span>
<span class="cs">             |</span><span class="s"> </span><span class="cs">&lt;constraint-item&gt;</span><span class="s"></span>

<span class="c">% Generator call expressions</span><span class="s"></span>
<span class="cs">&lt;gen-call-expr&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> &quot;(&quot; </span><span class="cs">&lt;comp-tail&gt;</span><span class="s"> &quot;)&quot; &quot;(&quot; </span><span class="cs">&lt;expr&gt;</span><span class="s"> &quot;)&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="miscellaneous-elements">
<h3>4.1.14.4. Miscellaneous Elements<a class="headerlink" href="#miscellaneous-elements" title="Permalink to this headline">¶</a></h3>
<div class="highlight-minizincdef notranslate"><div class="highlight"><pre><span></span><span class="c">% Identifiers</span><span class="s"></span>
<span class="cs">&lt;ident&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="sr">[A-Za-z][A-Za-z0-9_]</span><span class="o">*</span><span class="s"> </span><span class="gr">|</span><span class="s"> ’</span><span class="sr">[^’\xa\xd\x0]</span><span class="o">*</span><span class="s">’</span>

<span class="c">% Identifiers and quoted operators</span><span class="s"></span>
<span class="cs">&lt;ident-or-quoted-op&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;ident&gt;</span><span class="s"></span>
<span class="cs">                       |</span><span class="s"> ’</span><span class="cs">&lt;builtin-op&gt;</span><span class="s">’</span>

<span class="c">% Annotations</span><span class="s"></span>
<span class="cs">&lt;annotations&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="p">[</span><span class="s"> &quot;::&quot; </span><span class="cs">&lt;annotation&gt;</span><span class="s"> </span><span class="p">]</span><span class="o">*</span><span class="s"></span>

<span class="cs">&lt;annotation&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> </span><span class="cs">&lt;expr-atom-head&gt;</span><span class="s"> </span><span class="cs">&lt;expr-atom-tail&gt;</span><span class="s"></span>

<span class="cs">&lt;string-annotation&gt;</span><span class="s"> </span><span class="cs">::=</span><span class="s"> &quot;::&quot; </span><span class="cs">&lt;string-literal&gt;</span><span class="s"></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lib.html" class="btn btn-neutral float-right" title="4.2. The MiniZinc library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="part_4_reference.html" class="btn btn-neutral" title="4. Reference Manual" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, 2017, 2018, Peter J. Stuckey, Kim Marriott, Guido Tack.

    </p>
  </div>
<a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nd/4.0/80x15.png" /></a>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.4.3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>